!_TAG_FILE_FORMAT	2	/extended format; --format=1 will not append ;" to lines/
!_TAG_FILE_SORTED	1	/0=unsorted, 1=sorted, 2=foldcase/
!_TAG_PROGRAM_AUTHOR	Darren Hiebert	/dhiebert@users.sourceforge.net/
!_TAG_PROGRAM_NAME	Exuberant Ctags	//
!_TAG_PROGRAM_URL	http://ctags.sourceforge.net	/official site/
!_TAG_PROGRAM_VERSION	5.8	//
$	../js/dojox/jsonPath/query.js	/^	var $ = obj;$/;"	v
$.Event	../js/dojox/jq.js	/^	$.Event = function(\/*String*\/type){$/;"	c
$.ajax	../js/dojox/jq.js	/^	$.ajax = function(\/*Object*\/args){$/;"	f
$.ajaxSetup	../js/dojox/jq.js	/^	$.ajaxSetup = function(\/*Object*\/args){$/;"	f
$.browser.mozilla	../js/dojox/jq.js	/^		mozilla: dojo.isMoz,$/;"	p
$.className.add	../js/dojox/jq.js	/^		add: dojo.addClass,$/;"	p
$.css	../js/dojox/jq.js	/^	$.css = function(\/*DOMNode*\/node, \/*String|Object*\/name, \/*String|Number?*\/value){$/;"	f
$.data	../js/dojox/jq.js	/^	$.data = function(\/*DOMNode*\/node, \/*String*\/name, \/*String*\/value){$/;"	f
$.each	../js/dojox/jq.js	/^	$.each = function(\/*Array||ArrayLike*\/list, \/*Function*\/cb){$/;"	f
$.extend	../js/dojox/jq.js	/^	$.extend = function(){$/;"	f
$.getJSON	../js/dojox/jq.js	/^	$.getJSON = function(url, data, callback){$/;"	f
$.getScript	../js/dojox/jq.js	/^	$.getScript = function(url, callback){$/;"	f
$.getpost	../js/dojox/jq.js	/^	$.getpost = function(httpType, url, data, callback, dataType){$/;"	f
$.getpost.args.type	../js/dojox/jq.js	/^			type: httpType$/;"	p
$.getpost.args.url	../js/dojox/jq.js	/^			url: url,$/;"	p
$.inArray	../js/dojox/jq.js	/^	$.inArray = function(value, \/*Array*\/ary){$/;"	f
$.isFunction	../js/dojox/jq.js	/^	$.isFunction = function(){$/;"	f
$.makeArray	../js/dojox/jq.js	/^	$.makeArray = function(thing){$/;"	f
$.map	../js/dojox/jq.js	/^	$.map = function(\/*Array*\/ary, \/*Function*\/callback){$/;"	f
$.merge	../js/dojox/jq.js	/^	$.merge = function(ary1, ary2){$/;"	f
$.noConflict	../js/dojox/jq.js	/^	$.noConflict = function(\/*Boolean*\/extreme){$/;"	f
$.param	../js/dojox/jq.js	/^	$.param = function(obj){$/;"	f
$.prop	../js/dojox/jq.js	/^	$.prop = function(node, propCheck){$/;"	f
$.removeData	../js/dojox/jq.js	/^	$.removeData = function(\/*DOMNode*\/node, \/*String*\/name){$/;"	f
$.stub	../js/util/docscripts/tests/simple.js	/^	$.stub = function(a, b){$/;"	f
Advice	../js/dojox/lang/aspect.js	/^	var Advice = function(){$/;"	c
Alpha	../js/util/less/tree/alpha.js	/^(function (tree) {$/;"	c
Anonymous	../js/util/less/tree/anonymous.js	/^(function (tree) {$/;"	c
ApplicationState	../js/dojo/tests/resources/ApplicationState.js	/^ApplicationState = function(stateData, outputDivId, backForwardOutputDivId, bookmarkValue){$/;"	c
ApplicationState.back	../js/dojo/tests/resources/ApplicationState.js	/^ApplicationState.prototype.back = function(){$/;"	m
ApplicationState.forward	../js/dojo/tests/resources/ApplicationState.js	/^ApplicationState.prototype.forward = function(){$/;"	m
ApplicationState.showBackForwardMessage	../js/dojo/tests/resources/ApplicationState.js	/^ApplicationState.prototype.showBackForwardMessage = function(message){$/;"	m
ApplicationState.showStateData	../js/dojo/tests/resources/ApplicationState.js	/^ApplicationState.prototype.showStateData = function(){$/;"	m
Array	../js/util/less/tree/import.js	/^                    Array.prototype$/;"	c
Array	../js/util/less/tree/mixin.js	/^                            Array.prototype.push.apply($/;"	c
Array	../js/util/less/tree/ruleset.js	/^                    Array.prototype.splice$/;"	c
Array.push	../js/util/less/tree/mixin.js	/^                            Array.prototype.push.apply($/;"	m
Array.splice	../js/util/less/tree/import.js	/^                         .splice$/;"	m
Array.splice	../js/util/less/tree/ruleset.js	/^                    Array.prototype.splice$/;"	m
Array.splice	../js/util/less/tree/ruleset.js	/^                Array.prototype.splice$/;"	m
Assignment	../js/util/less/tree/assignment.js	/^(function (tree) {$/;"	c
B	../js/dojox/encoding/tests/compression/colors2.js	/^	var B = function(f){ this.f = f; this.y = this.t = 0; };$/;"	c
B	../js/dojox/encoding/tests/compression/colors3.js	/^	B.prototype.g = function(b){$/;"	c
B	../js/dojox/encoding/tests/compression/colors3.js	/^	var B = function(f){ var t = this; t.f = f; t.y = t.t = 0; t.x = f.charCodeAt(0) - 33; };$/;"	f
B.g	../js/dojox/encoding/tests/compression/colors2.js	/^	B.prototype.g = function(b){$/;"	m
B.g	../js/dojox/encoding/tests/compression/colors3.js	/^	B.prototype.g = function(b){$/;"	m
BUNDLES	../js/util/buildscripts/cldr/alias.js	/^var BUNDLES = ['gregorian','hebrew','islamic','islamic-civil','buddhist'];$/;"	v
BUNDLE_MAP	../js/util/buildscripts/cldr/specialLocale.js	/^var BUNDLE_MAP = ['number','currency','gregorian'];$/;"	v
Buttons	../js/dijit/tests/NodeList-instantiate.html	/^					function Buttons(){$/;"	f
Call	../js/util/less/tree/call.js	/^(function (tree) {$/;"	c
Change	../js/dojox/date/tests/HebrewDateTest1.html	/^					function Change(){$/;"	f
Class	../js/dojox/secure/sandbox.js	/^			Class.prototype = proto;$/;"	c
Class.Class	../js/dojox/secure/sandbox.js	/^			function Class() {$/;"	f
Color	../js/util/less/tree/color.js	/^(function (tree) {$/;"	c
Comment	../js/util/less/tree/comment.js	/^(function (tree) {$/;"	c
Condition	../js/util/less/tree/condition.js	/^(function (tree) {$/;"	c
Counter	../js/dojox/lang/aspect/counter.js	/^	var Counter = function(){$/;"	c
D	../js/dojox/encoding/tests/compression/colors2.js	/^	var D = function(n, w){$/;"	c
D	../js/dojox/encoding/tests/compression/colors3.js	/^	var D = function(n, w){$/;"	c
D.d	../js/dojox/encoding/tests/compression/colors2.js	/^	D.prototype.d = function(s){$/;"	m
D.d	../js/dojox/encoding/tests/compression/colors3.js	/^	D.prototype.d = function(s){$/;"	m
Dimension	../js/util/less/tree/dimension.js	/^(function (tree) {$/;"	c
Directive	../js/util/less/tree/directive.js	/^(function (tree) {$/;"	c
Element	../js/util/less/tree/element.js	/^(function (tree) {$/;"	c
Evented	../js/dojo/tests/on/on.js	/^var Evented = dojo.require("dojo.Evented");$/;"	v
Expression	../js/util/less/tree/expression.js	/^(function (tree) {$/;"	c
F	../js/dojox/secure/sandbox.js	/^					F.prototype = arg.prototype;$/;"	c
FIXEDSPLITERPANE_CLASSNAME1	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var FIXEDSPLITERPANE_CLASSNAME1 = "mblContainer";$/;"	v
FIXEDSPLITERPANE_CLASSNAME2	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var FIXEDSPLITERPANE_CLASSNAME2 = "mblFixedSplitterV";$/;"	v
FIXEDSPLITERPANE_CLASSNAME3	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var FIXEDSPLITERPANE_CLASSNAME3 = "mblFixedSplitterH";$/;"	v
FIXEDSPLITER_CLASSNAME	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var FIXEDSPLITER_CLASSNAME = "mblFixedSplitter";$/;"	v
FactorialParser	../js/dojox/calc/_ExecutorIframe.html	/^			function FactorialParser(text){$/;"	f
HEIGHT_RATIO1	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var HEIGHT_RATIO1 = 0.2;$/;"	v
HEIGHT_RATIO2	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var HEIGHT_RATIO2 = 1 - HEIGHT_RATIO1;$/;"	v
Import	../js/util/less/tree/import.js	/^(function (tree) {$/;"	c
JSSourceFilefromCode	../js/util/build/optimizeRunner.js	/^var JSSourceFilefromCode, closurefromCode, jscomp = 0;$/;"	v
JavaScript	../js/util/less/tree/javascript.js	/^(function (tree) {$/;"	c
Keyword	../js/util/less/tree/keyword.js	/^(function (tree) {$/;"	c
LOCALE_ALIAS_MARK	../js/util/buildscripts/cldr/alias.js	/^var LOCALE_ALIAS_MARK = '@localeAlias';$/;"	v
LOCALE_ALIAS_SOURCE_PROPERTY	../js/util/buildscripts/cldr/alias.js	/^var LOCALE_ALIAS_SOURCE_PROPERTY = 'source';$/;"	v
LOCALE_ALIAS_TARGET_BUNDLE	../js/util/buildscripts/cldr/alias.js	/^var LOCALE_ALIAS_TARGET_BUNDLE = 'bundle';$/;"	v
LOCALE_ALIAS_TARGET_PROPERTY	../js/util/buildscripts/cldr/alias.js	/^var LOCALE_ALIAS_TARGET_PROPERTY = 'target';$/;"	v
ListChange	../js/dojox/date/tests/HebrewDateTest1.html	/^				function ListChange(){$/;"	f
MAXIMUM_DELAY	../js/dojox/robot/recorder.js	/^var MAXIMUM_DELAY = 10000;$/;"	v
MOUSEMOVE_MAXIMUM_DELAY	../js/dojox/robot/recorder.js	/^var MOUSEMOVE_MAXIMUM_DELAY = 500;$/;"	v
MapFilter	../js/dojox/lang/oo/Filter.js	/^	MapFilter.prototype.exec = function(name){$/;"	c
MapFilter.exec	../js/dojox/lang/oo/Filter.js	/^	MapFilter.prototype.exec = function(name){$/;"	m
MathParser	../js/dojox/calc/_ExecutorIframe.html	/^			function MathParser(text){$/;"	f
NLS_JSON_HEAD	../js/util/buildscripts/cldr/specialLocale.js	/^var NLS_JSON_HEAD = ['\/\/ generated from ldml\/main\/*.xml, xpath: ldml\/numbers\\n',$/;"	v
NodeList_identity	../js/dojo/tests/_base/query.html	/^						function NodeList_identity(){$/;"	f
NodeList_identity	../js/dojo/tests/query/query.html	/^					function NodeList_identity(){$/;"	f
NodeList_identity	../js/dojo/tests/query/queryQuirks.html	/^					function NodeList_identity(){$/;"	f
OpenAjax._subscriptions.c	../js/dojo/OpenAjax.js	/^			OpenAjax._subscriptions = {c:{},s:[]};$/;"	p
Operation	../js/util/less/tree/operation.js	/^(function (tree) {$/;"	c
P.resultType	../js/dojox/jsonPath/query.js	/^		resultType: arg.resultType || "VALUE",$/;"	p
Paren	../js/util/less/tree/paren.js	/^$/;"	c
Parser	../js/util/less/parser.js	/^less.Parser = function Parser(env) {$/;"	f
Profiler	../js/dojox/lang/aspect/profiler.js	/^	var Profiler = function(title){$/;"	c
Quoted	../js/util/less/tree/quoted.js	/^(function (tree) {$/;"	c
ReplaceFunctionContentAssignments	../js/dojox/calc/_ExecutorIframe.html	/^			function ReplaceFunctionContentAssignments(text){$/;"	f
ReplaceSimpleFunction	../js/dojox/calc/_ExecutorIframe.html	/^			function ReplaceSimpleFunction(text){$/;"	f
ReplaceSimpleGrouping	../js/dojox/calc/_ExecutorIframe.html	/^			function ReplaceSimpleGrouping(text){$/;"	f
Rule	../js/util/less/tree/rule.js	/^(function (tree) {$/;"	c
Ruleset	../js/util/less/tree/directive.js	/^    variable: function (name) { return tree.Ruleset.prototype.variable.call(this.ruleset, name) },$/;"	c
Ruleset	../js/util/less/tree/ruleset.js	/^(function (tree) {$/;"	c
Ruleset.find	../js/util/less/tree/directive.js	/^    find: function () { return tree.Ruleset.prototype.find.apply(this.ruleset, arguments) },$/;"	m
Ruleset.rulesets	../js/util/less/tree/directive.js	/^    rulesets: function () { return tree.Ruleset.prototype.rulesets.apply(this.ruleset) }$/;"	m
SPECIAL_LOCALES_MAP.ha-sd	../js/util/buildscripts/cldr/specialLocale.js	/^	'ha-sd':'ha-arab-sd',\/\/ha-sd and ha-arab-sd don't exist, but ha-arab exists$/;"	p
SPECIAL_LOCALES_MAP.ku-tr	../js/util/buildscripts/cldr/specialLocale.js	/^	'ku-tr':'ku-latn-tr' \/\/ku-tr and ku-latn-tr don't exist, but ku-latn exists$/;"	p
SPECIAL_LOCALES_MAP.mo	../js/util/buildscripts/cldr/specialLocale.js	/^	'mo':'ro-md',$/;"	p
SPECIAL_LOCALES_MAP.pa-pk	../js/util/buildscripts/cldr/specialLocale.js	/^	'pa-pk':'pa-arab-pk',\/\/pa-pk and pa-arab-pk don't exist, but pa-arab exists$/;"	p
SPECIAL_LOCALES_MAP.sh	../js/util/buildscripts/cldr/specialLocale.js	/^	'sh':'sr-latn',$/;"	p
SPECIAL_LOCALES_MAP.uz-af	../js/util/buildscripts/cldr/specialLocale.js	/^	'uz-af':'uz-arab-af',\/\/uz-af and uz-arab-af don't exist, but uz-arab exists$/;"	p
SPECIAL_LOCALES_MAP.zh-hk	../js/util/buildscripts/cldr/specialLocale.js	/^	'zh-hk':'zh-hant-hk',$/;"	p
SPECIAL_LOCALES_MAP.zh-mo	../js/util/buildscripts/cldr/specialLocale.js	/^	'zh-mo':'zh-hant-mo',$/;"	p
SPECIAL_LOCALES_MAP.zh-tw	../js/util/buildscripts/cldr/specialLocale.js	/^	'zh-tw':'zh-hant-tw',\/\/zh-tw and zh-hant-tw don't exist, but zh-hant exists$/;"	p
SVGWeb	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	c
Selector	../js/util/less/tree/selector.js	/^(function (tree) {$/;"	c
TabContainer	../js/dijit/tests/NodeList-instantiate.html	/^					function TabContainer(){$/;"	f
TestStorage._determineCurrentNamespace	../js/dojox/storage/tests/test_storage.js	/^	_determineCurrentNamespace: function(){$/;"	m
TestStorage._handleLoad	../js/dojox/storage/tests/test_storage.js	/^	_handleLoad: function(key){$/;"	m
TestStorage._handleLoadMultiple	../js/dojox/storage/tests/test_storage.js	/^	_handleLoadMultiple: function(keyArray){$/;"	m
TestStorage._printAvailableKeys	../js/dojox/storage/tests/test_storage.js	/^	_printAvailableKeys: function(){$/;"	m
TestStorage._printAvailableNamespaces	../js/dojox/storage/tests/test_storage.js	/^	_printAvailableNamespaces: function(){$/;"	m
TestStorage._printAvailableProviders	../js/dojox/storage/tests/test_storage.js	/^	_printAvailableProviders: function(){$/;"	m
TestStorage._printProviderMetadata	../js/dojox/storage/tests/test_storage.js	/^	_printProviderMetadata: function(){$/;"	m
TestStorage._printStatus	../js/dojox/storage/tests/test_storage.js	/^	_printStatus: function(message){$/;"	m
TestStorage._save	../js/dojox/storage/tests/test_storage.js	/^	_save: function(key, value, namespace){$/;"	m
TestStorage._save.saveHandler	../js/dojox/storage/tests/test_storage.js	/^		var saveHandler = function(status, keyName){$/;"	m
TestStorage._saveMultiple	../js/dojox/storage/tests/test_storage.js	/^	_saveMultiple: function(keyArray, valueArray, namespace) {$/;"	m
TestStorage._saveMultiple.saveHandler	../js/dojox/storage/tests/test_storage.js	/^		var saveHandler = function(status, keyName){$/;"	m
TestStorage.clearNamespace	../js/dojox/storage/tests/test_storage.js	/^	clearNamespace: function(evt){$/;"	m
TestStorage.configure	../js/dojox/storage/tests/test_storage.js	/^	configure: function(evt){$/;"	m
TestStorage.currentNamespace	../js/dojox/storage/tests/test_storage.js	/^	currentNamespace: null,$/;"	p
TestStorage.currentProvider	../js/dojox/storage/tests/test_storage.js	/^	currentProvider: "default",$/;"	p
TestStorage.directoryChange	../js/dojox/storage/tests/test_storage.js	/^	directoryChange: function(evt){$/;"	m
TestStorage.initialize	../js/dojox/storage/tests/test_storage.js	/^	initialize: function(){$/;"	m
TestStorage.load	../js/dojox/storage/tests/test_storage.js	/^	load: function(evt){$/;"	m
TestStorage.loadMultiple	../js/dojox/storage/tests/test_storage.js	/^	loadMultiple: function(evt){$/;"	m
TestStorage.namespaceChange	../js/dojox/storage/tests/test_storage.js	/^	namespaceChange: function(evt){$/;"	m
TestStorage.printValueSize	../js/dojox/storage/tests/test_storage.js	/^	printValueSize: function(){$/;"	m
TestStorage.providerChange	../js/dojox/storage/tests/test_storage.js	/^	providerChange: function(evt){$/;"	m
TestStorage.remove	../js/dojox/storage/tests/test_storage.js	/^	remove: function(evt){$/;"	m
TestStorage.removeMultiple	../js/dojox/storage/tests/test_storage.js	/^	removeMultiple: function(evt){$/;"	m
TestStorage.save	../js/dojox/storage/tests/test_storage.js	/^	save: function(evt){$/;"	m
TestStorage.saveBook	../js/dojox/storage/tests/test_storage.js	/^	saveBook: function(evt){$/;"	m
TestStorage.saveMultiple	../js/dojox/storage/tests/test_storage.js	/^	saveMultiple: function(evt) {$/;"	m
TestStorage.saveXML	../js/dojox/storage/tests/test_storage.js	/^	saveXML: function(evt){$/;"	m
Timer	../js/dojox/lang/aspect/timer.js	/^	var Timer = function(name){$/;"	c
Toggler	../js/dojo/tests/fx.html	/^						function Toggler(){$/;"	f
Tracer	../js/dojox/lang/aspect/tracer.js	/^	var Tracer = function(\/*Boolean*\/ grouping){$/;"	c
TypedClass	../js/dojox/lang/tests/typed.js	/^	var TypedClass = dojox.lang.tests.TypedClass;$/;"	v
TypedClass.methods.add	../js/dojox/lang/tests/typed.js	/^		add: {$/;"	p
TypedClass.properties.aString	../js/dojox/lang/tests/typed.js	/^		aString:String,$/;"	p
TypedClass.properties.anInt	../js/dojox/lang/tests/typed.js	/^		anInt: {type:"integer", maximum: 100, optional: true}$/;"	p
TypedClass.properties.self	../js/dojox/lang/tests/typed.js	/^		self: TypedClass,$/;"	p
URL	../js/util/less/tree/url.js	/^(function (tree) {$/;"	f
Value	../js/util/less/tree/value.js	/^(function (tree) {$/;"	c
Variable	../js/util/less/tree/variable.js	/^(function (tree) {$/;"	c
WIDGET_ANCHOR_CLASSNAME1	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_ANCHOR_CLASSNAME1 = "mblListItemAnchor";$/;"	v
WIDGET_ANCHOR_CLASSNAME2	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_ANCHOR_CLASSNAME2 = "mblListItemAnchorNoIcon";$/;"	v
WIDGET_CLASSNAME1	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_CLASSNAME1 = "mblListItem";$/;"	v
WIDGET_CLASSNAME1	../js/dojox/mobile/tests/doh/PageIndicatorTests.js	/^var WIDGET_CLASSNAME1 = "mblPageIndicator";$/;"	v
WIDGET_CLASSNAME2	../js/dojox/mobile/tests/doh/PageIndicatorTests.js	/^var WIDGET_CLASSNAME2 = "mblFixedBottomBar";$/;"	v
WIDGET_DOMBUTTON_ARROW	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_DOMBUTTON_ARROW = "mblDomButtonArrow";$/;"	v
WIDGET_DOMBUTTON_BLUEPLUS	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_DOMBUTTON_BLUEPLUS = "mblDomButtonBluePlus";$/;"	v
WIDGET_DOMBUTTON_CHECKBOX_ON	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_DOMBUTTON_CHECKBOX_ON = "mblDomButtonCheckboxOn";$/;"	v
WIDGET_DOT_CLASSNAME1	../js/dojox/mobile/tests/doh/PageIndicatorTests.js	/^var WIDGET_DOT_CLASSNAME1 = "mblPageIndicatorDot";$/;"	v
WIDGET_DOT_CLASSNAME2	../js/dojox/mobile/tests/doh/PageIndicatorTests.js	/^var WIDGET_DOT_CLASSNAME2 = "mblPageIndicatorDotSelected";$/;"	v
WIDGET_ICON_CLASSNAME1	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_ICON_CLASSNAME1 = "mblListItemIcon";$/;"	v
WIDGET_PAGENUM	../js/dojox/mobile/tests/doh/PageIndicatorTests.js	/^var WIDGET_PAGENUM = 5;$/;"	v
WIDGET_RIGHTICON_CLASSNAME1	../js/dojox/mobile/tests/doh/ListItemTests.js	/^var WIDGET_RIGHTICON_CLASSNAME1 = "mblListItemRightIcon";$/;"	v
WIDTH_RATIO1	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var WIDTH_RATIO1 = 0.2;$/;"	v
WIDTH_RATIO2	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var WIDTH_RATIO2 = 1 - WIDTH_RATIO1;$/;"	v
Wrapper	../js/dojox/lang/typed.js	/^		Wrapper.prototype = Class.prototype;$/;"	c
XHR_PROGIDS	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	v
__p__	../js/dojox/color/tests/Palette.js	/^var __p__, palette=function(){$/;"	f
_adaptAsForEach	../js/dojo/tests/_base/NodeList.html	/^						function _adaptAsForEach(t){$/;"	f
_addNewItem	../js/dojox/mvc/tests/WidgetList_tests/test_mobile-checkbox-list-mvc.html	/^			function _addNewItem(e){$/;"	f
_assertBadge	../js/dojox/mobile/tests/doh/BadgeTests.html	/^		function _assertBadge(ids){$/;"	f
_assertCorrectAccordion	../js/dojox/mobile/tests/doh/AccordionTests.html	/^			function _assertCorrectAccordion(widget){$/;"	f
_assertCorrectAccordion	../js/dojox/mobile/tests/doh/IconMenuTests.html	/^			function _assertCorrectAccordion(widget){$/;"	f
_assertCorrectButton	../js/dojox/mobile/tests/doh/ButtonTests.html	/^		function _assertCorrectButton(width, height, button){$/;"	f
_assertCorrectButton	../js/dojox/mobile/tests/doh/ToolBarButtonTests.html	/^		function _assertCorrectButton(button){$/;"	f
_assertCorrectCheckBox	../js/dojox/mobile/tests/doh/CheckBoxTests.html	/^		function _assertCorrectCheckBox(checkBox){$/;"	f
_assertCorrectComboBox	../js/dojox/mobile/tests/doh/ComboBoxTests.html	/^		function _assertCorrectComboBox(comboBox){$/;"	f
_assertCorrectContentPane	../js/dojox/mobile/tests/doh/ContentPaneTests.html	/^		function _assertCorrectContentPane(widget, titleText){$/;"	f
_assertCorrectContentPanes	../js/dojox/mobile/tests/doh/ContentPaneTests.html	/^		function _assertCorrectContentPanes(widgetIds){$/;"	f
_assertCorrectEdgeToEdgeCategory	../js/dojox/mobile/tests/doh/EdgeToEdgeCategoryTests.html	/^		function _assertCorrectEdgeToEdgeCategory(category){$/;"	f
_assertCorrectExpandingTextArea	../js/dojox/mobile/tests/doh/ExpandingTextAreaTests.html	/^		function _assertCorrectExpandingTextArea(widget, styleHeight, offsetHeight1, offsetHeight2){$/;"	f
_assertCorrectHeading	../js/dojox/mobile/tests/doh/HeadingTests.html	/^		function _assertCorrectHeading(widget, titleText, backText, backClassName){$/;"	f
_assertCorrectIconContainer	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^		function _assertCorrectIconContainer(widget){$/;"	f
_assertCorrectIconContainer	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^		function _assertCorrectIconContainer(widget){$/;"	f
_assertCorrectIconItem	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^		function _assertCorrectIconItem(widget, props){$/;"	f
_assertCorrectIconItem	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^		function _assertCorrectIconItem(widget){$/;"	f
_assertCorrectIconItem	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _assertCorrectIconItem(widget){$/;"	f
_assertCorrectIconItemPos	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^		function _assertCorrectIconItemPos(widgetId1, widgetId2, widgetId3, widgetId4){$/;"	f
_assertCorrectIconMenuItem	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _assertCorrectIconMenuItem(widget){$/;"	f
_assertCorrectIconTabBarButton	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _assertCorrectIconTabBarButton(widget){$/;"	f
_assertCorrectIconToolBarButton	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _assertCorrectIconToolBarButton(widget){$/;"	f
_assertCorrectListItem1	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _assertCorrectListItem1(widget){$/;"	f
_assertCorrectListItem2	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _assertCorrectListItem2(widget){$/;"	f
_assertCorrectListItem3	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _assertCorrectListItem3(widget){$/;"	f
_assertCorrectRadioButton	../js/dojox/mobile/tests/doh/RadioButtonTests.html	/^	function _assertCorrectRadioButton(button1, button2, button3){$/;"	f
_assertCorrectSlider	../js/dojox/mobile/tests/doh/SliderTests.html	/^	function _assertCorrectSlider(widget, noIcon, rightIcon, rightIcon2, rightText, boxText){$/;"	f
_assertCorrectSwitch	../js/dojox/mobile/tests/doh/SwitchTests.html	/^		function _assertCorrectSwitch(switchButton){$/;"	f
_assertCorrectTabBar	../js/dojox/mobile/tests/doh/TabBarTests.html	/^		function _assertCorrectTabBar(tabBar){$/;"	f
_assertCorrectTextArea	../js/dojox/mobile/tests/doh/TextAreaTests.html	/^		function _assertCorrectTextArea(widget, offsetHeight1, offsetHeight2, scrollHeight1, scrollHeight2){$/;"	f
_assertCorrectTextBox	../js/dojox/mobile/tests/doh/TextBoxTests.html	/^		function _assertCorrectTextBox(widget, noIcon, rightIcon, rightIcon2, rightText, boxText){$/;"	f
_assertCorrectToggleButton	../js/dojox/mobile/tests/doh/ToggleButtonTests.html	/^		function _assertCorrectToggleButton(width, height, button){$/;"	f
_calculateAliasPath	../js/util/buildscripts/cldr/alias.js	/^function _calculateAliasPath(bundle, name\/*String*\/){$/;"	f
_createAccordionDeclaratively	../js/dojox/mobile/tests/doh/AccordionTests.html	/^			function _createAccordionDeclaratively(widgetId){$/;"	f
_createAccordionDeclaratively	../js/dojox/mobile/tests/doh/IconMenuTests.html	/^			function _createAccordionDeclaratively(widgetId){$/;"	f
_createAccordionProgrammatically	../js/dojox/mobile/tests/doh/AccordionTests.html	/^			function _createAccordionProgrammatically(placeHolderId, widgetId){$/;"	f
_createAccordionProgrammatically	../js/dojox/mobile/tests/doh/IconMenuTests.html	/^			function _createAccordionProgrammatically(placeHolderId, widgetId){$/;"	f
_createAccordionProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/AccordionTests.html	/^			function _createAccordionProgrammaticallyWithSourceNodeReference(widgetId, childWidgetId){$/;"	f
_createAccordionProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/IconMenuTests.html	/^			function _createAccordionProgrammaticallyWithSourceNodeReference(widgetId, childWidgetId){$/;"	f
_createBadgeDeclaratively	../js/dojox/mobile/tests/doh/BadgeTests.html	/^		function _createBadgeDeclaratively(id) {$/;"	f
_createBadgeProgrammatically	../js/dojox/mobile/tests/doh/BadgeTests.html	/^		function _createBadgeProgrammatically(placeHolderIds, ids){$/;"	f
_createBadgeProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/BadgeTests.html	/^		function _createBadgeProgrammaticallyWithSourceNodeReference(ids){$/;"	f
_createButtonDeclaratively	../js/dojox/mobile/tests/doh/ButtonTests.html	/^		function _createButtonDeclaratively(buttonId) {$/;"	f
_createButtonDeclaratively	../js/dojox/mobile/tests/doh/ToolBarButtonTests.html	/^		function _createButtonDeclaratively(buttonId) {$/;"	f
_createButtonProgrammatically	../js/dojox/mobile/tests/doh/ButtonTests.html	/^		function _createButtonProgrammatically(placeHolderId){$/;"	f
_createButtonProgrammatically	../js/dojox/mobile/tests/doh/ToolBarButtonTests.html	/^		function _createButtonProgrammatically(placeHolderId){$/;"	f
_createButtonProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/ButtonTests.html	/^		function _createButtonProgrammaticallyWithSourceNodeReference(buttonId){$/;"	f
_createButtonProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/ToolBarButtonTests.html	/^		function _createButtonProgrammaticallyWithSourceNodeReference(buttonId){$/;"	f
_createCheckBoxDeclaratively	../js/dojox/mobile/tests/doh/CheckBoxTests.html	/^		function _createCheckBoxDeclaratively(checkBoxId) {$/;"	f
_createCheckBoxProgrammatically	../js/dojox/mobile/tests/doh/CheckBoxTests.html	/^		function _createCheckBoxProgrammatically(placeHolderId){$/;"	f
_createCheckBoxProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/CheckBoxTests.html	/^		function _createCheckBoxProgrammaticallyWithSourceNodeReference(checkBoxId){$/;"	f
_createComboBoxDeclaratively	../js/dojox/mobile/tests/doh/ComboBoxTests.html	/^		function _createComboBoxDeclaratively(id) {$/;"	f
_createComboBoxProgrammatically	../js/dojox/mobile/tests/doh/ComboBoxTests.html	/^		function _createComboBoxProgrammatically(placeHolderId){$/;"	f
_createComboBoxProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/ComboBoxTests.html	/^		function _createComboBoxProgrammaticallyWithSourceNodeReference(id){$/;"	f
_createContentPaneProgrammatically	../js/dojox/mobile/tests/doh/ContentPaneTests.html	/^		function _createContentPaneProgrammatically(widgetIds, placeHolderId){$/;"	f
_createContentPaneProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/ContentPaneTests.html	/^		function _createContentPaneProgrammaticallyWithSourceNodeReference(widgetIds){$/;"	f
_createEdgeToEdgeCategoryDeclaratively	../js/dojox/mobile/tests/doh/EdgeToEdgeCategoryTests.html	/^		function _createEdgeToEdgeCategoryDeclaratively(id) {$/;"	f
_createEdgeToEdgeCategoryProgrammatically	../js/dojox/mobile/tests/doh/EdgeToEdgeCategoryTests.html	/^		function _createEdgeToEdgeCategoryProgrammatically(placeHolderId){$/;"	f
_createEdgeToEdgeCategoryProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/EdgeToEdgeCategoryTests.html	/^		function _createEdgeToEdgeCategoryProgrammaticallyWithSourceNodeReference(id){$/;"	f
_createExpandingTextAreaDeclaratively	../js/dojox/mobile/tests/doh/ExpandingTextAreaTests.html	/^		function _createExpandingTextAreaDeclaratively(widgetId) {$/;"	f
_createExpandingTextAreaProgrammatically	../js/dojox/mobile/tests/doh/ExpandingTextAreaTests.html	/^		function _createExpandingTextAreaProgrammatically(placeHolderId, widgetId, rows, cols, innerHTML){$/;"	f
_createExpandingTextAreaProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/ExpandingTextAreaTests.html	/^		function _createExpandingTextAreaProgrammaticallyWithSourceNodeReference(widgetId){$/;"	f
_createHeadingDeclaratively	../js/dojox/mobile/tests/doh/HeadingTests.html	/^		function _createHeadingDeclaratively(widgetId) {$/;"	f
_createHeadingProgrammatically	../js/dojox/mobile/tests/doh/HeadingTests.html	/^		function _createHeadingProgrammatically(placeHolderId, widgetId, labelText){$/;"	f
_createHeadingProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/HeadingTests.html	/^		function _createHeadingProgrammaticallyWithSourceNodeReference(widgetId){$/;"	f
_createIconContainerDeclaratively	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^		function _createIconContainerDeclaratively(widgetId) {$/;"	f
_createIconContainerDeclaratively	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^		function _createIconContainerDeclaratively(widgetId) {$/;"	f
_createIconContainerProgrammatically	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^		function _createIconContainerProgrammatically(placeHolderId, widgetId){$/;"	f
_createIconContainerProgrammatically	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^		function _createIconContainerProgrammatically(placeHolderId, widgetId){$/;"	f
_createIconContainerProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^		function _createIconContainerProgrammaticallyWithSourceNodeReference(widgetId){$/;"	f
_createIconContainerProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^		function _createIconContainerProgrammaticallyWithSourceNodeReference(widgetId){$/;"	f
_createIconItem	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _createIconItem(){$/;"	f
_createIconMenuItem	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _createIconMenuItem(){$/;"	f
_createListItem1	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _createListItem1(){$/;"	f
_createListItem2	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _createListItem2(){$/;"	f
_createListItem3	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _createListItem3(){$/;"	f
_createRadioButtonDeclaratively	../js/dojox/mobile/tests/doh/RadioButtonTests.html	/^	function _createRadioButtonDeclaratively(buttonId) {$/;"	f
_createRadioButtonProgrammatically	../js/dojox/mobile/tests/doh/RadioButtonTests.html	/^	function _createRadioButtonProgrammatically(buttonValue, buttonName, placeHolderId){$/;"	f
_createRadioButtonProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/RadioButtonTests.html	/^	function _createRadioButtonProgrammaticallyWithSourceNodeReference(buttonValue, buttonName, buttonId){$/;"	f
_createSliderDeclaratively	../js/dojox/mobile/tests/doh/SliderTests.html	/^	function _createSliderDeclaratively(widgetId) {$/;"	f
_createSliderProgrammatically	../js/dojox/mobile/tests/doh/SliderTests.html	/^	function _createSliderProgrammatically(placeHolderId, widgetId){$/;"	f
_createSliderProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/SliderTests.html	/^	function _createSliderProgrammaticallyWithSourceNodeReference(widgetId){$/;"	f
_createSwitchDeclaratively	../js/dojox/mobile/tests/doh/SwitchTests.html	/^		function _createSwitchDeclaratively(id) {$/;"	f
_createSwitchProgrammatically	../js/dojox/mobile/tests/doh/SwitchTests.html	/^		function _createSwitchProgrammatically(placeHolderId){$/;"	f
_createSwitchProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/SwitchTests.html	/^		function _createSwitchProgrammaticallyWithSourceNodeReference(id){$/;"	f
_createTabBarButton	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _createTabBarButton(){$/;"	f
_createTabBarDeclaratively	../js/dojox/mobile/tests/doh/TabBarTests.html	/^		function _createTabBarDeclaratively(tabBarId){$/;"	f
_createTabBarProgrammatically	../js/dojox/mobile/tests/doh/TabBarTests.html	/^		function _createTabBarProgrammatically(placeHolderId){$/;"	f
_createTabBarProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/TabBarTests.html	/^		function _createTabBarProgrammaticallyWithSourceNodeReference(tabBarId){$/;"	f
_createTextAreaDeclaratively	../js/dojox/mobile/tests/doh/TextAreaTests.html	/^		function _createTextAreaDeclaratively(widgetId) {$/;"	f
_createTextAreaProgrammatically	../js/dojox/mobile/tests/doh/TextAreaTests.html	/^		function _createTextAreaProgrammatically(placeHolderId, widgetId, rows, cols, innerHTML){$/;"	f
_createTextAreaProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/TextAreaTests.html	/^		function _createTextAreaProgrammaticallyWithSourceNodeReference(widgetId){$/;"	f
_createTextBoxDeclaratively	../js/dojox/mobile/tests/doh/TextBoxTests.html	/^		function _createTextBoxDeclaratively(widgetId) {$/;"	f
_createTextBoxProgrammatically	../js/dojox/mobile/tests/doh/TextBoxTests.html	/^		function _createTextBoxProgrammatically(placeHolderId, widgetId){$/;"	f
_createTextBoxProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/TextBoxTests.html	/^		function _createTextBoxProgrammaticallyWithSourceNodeReference(widgetId){$/;"	f
_createToggleButtonDeclaratively	../js/dojox/mobile/tests/doh/ToggleButtonTests.html	/^		function _createToggleButtonDeclaratively(buttonId) {$/;"	f
_createToggleButtonProgrammatically	../js/dojox/mobile/tests/doh/ToggleButtonTests.html	/^		function _createToggleButtonProgrammatically(placeHolderId){$/;"	f
_createToggleButtonProgrammaticallyWithSourceNodeReference	../js/dojox/mobile/tests/doh/ToggleButtonTests.html	/^		function _createToggleButtonProgrammaticallyWithSourceNodeReference(buttonId){$/;"	f
_createToolBarButton	../js/dojox/mobile/tests/doh/ItemBase_subclasses_Programmatic.html	/^		function _createToolBarButton(){$/;"	f
_createWidget	../js/dojox/layout/tests/resources/script_dnd.js	/^function _createWidget(\/*Array*\/nodes){$/;"	f
_detectBrowsers	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
_findInput	../js/dojo/tests/window/test_scroll.html	/^		function _findInput(win){$/;"	f
_getCtrlShiftTest	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function _getCtrlShiftTest(selector, keys){ $/;"	f
_getScroll	../js/dojo/tests/window/test_scroll.html	/^		function _getScroll(win){$/;"	f
_initContentPane	../js/dojox/mobile/tests/doh/ContentPaneTests.html	/^		function _initContentPane(widgetIds){$/;"	f
_old$	../js/dojox/jq.js	/^	var _old$ = dojo.global.$;$/;"	v
_oldJQuery	../js/dojox/jq.js	/^	var _oldJQuery = dojo.global.jQuery;$/;"	v
_oldXhrObj	../js/dojox/jq.js	/^	var _oldXhrObj = dojo._xhrObj;$/;"	v
_onClick	../js/dojo/tests/window/test_scroll.html	/^		function _onClick(win){$/;"	f
_onblur	../js/util/doh/Robot.html	/^	function _onblur(e){$/;"	f
_onfocus	../js/util/doh/Robot.html	/^	function _onfocus(robotField){$/;"	f
_onkeypress	../js/util/doh/Robot.html	/^	function _onkeypress(e){$/;"	f
_onmousedown	../js/util/doh/Robot.html	/^	function _onmousedown(e){$/;"	f
_onmousewheel	../js/util/doh/Robot.html	/^	function _onmousewheel(e){$/;"	f
_optimize	../js/dojox/robot/recorder.js	/^var _optimize = function(){$/;"	f
_processLocaleAlias	../js/util/buildscripts/cldr/alias.js	/^function _processLocaleAlias(localeAliasPaths\/*Array*\/, bundle\/*JSON Obj*\/, nativeSrcBundle\/*JSON Obj*\/,locale\/*String*\/){$/;"	f
_run	../js/dojox/string/tests/BuilderArguments.html	/^      function _run() {$/;"	f
_run	../js/dojox/string/tests/BuilderPerf.html	/^      function _run() {$/;"	f
_run	../js/dojox/string/tests/PerfFun.html	/^      function _run() {$/;"	f
_scrollIntoView	../js/dojo/tests/window/test_scroll.html	/^		function _scrollIntoView(win){$/;"	f
_scrollMax	../js/dojo/tests/window/test_scroll.html	/^		function _scrollMax(win){$/;"	f
_scrollMin	../js/dojo/tests/window/test_scroll.html	/^		function _scrollMin(win){$/;"	f
_searchLocalePath	../js/util/buildscripts/cldr/arrayInherit.js	/^var _searchLocalePath = function(\/*String*\/locale, \/*Boolean*\/down, \/*Function*\/searchFunc){$/;"	f
_setBadges	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^		function _setBadges(Ids){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/AccordionTests.html	/^			function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/BadgeTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/ButtonTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/CheckBoxTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/ComboBoxTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/ContentPaneTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/EdgeToEdgeCategoryTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/ExpandingTextAreaTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/HeadingTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/IconMenuTests.html	/^			function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/RadioButtonTests.html	/^	function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/SliderTests.html	/^	function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/SwitchTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/TabBarTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/TextAreaTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/TextBoxTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/ToggleButtonTests.html	/^		function _showView2(){$/;"	f
_showView2	../js/dojox/mobile/tests/doh/ToolBarButtonTests.html	/^		function _showView2(){$/;"	f
_updateLocaleAlias	../js/util/buildscripts/cldr/alias.js	/^function _updateLocaleAlias(sourceBundle\/*JSON Obj*\/,aliasSource\/*String*\/, targetBundle\/*JSON Obj*\/,$/;"	f
_updateNoneGregAlias	../js/util/buildscripts/cldr/alias.js	/^function _updateNoneGregAlias(sourceBundle\/*JSON Obj*\/, aliasSource\/*String*\/, targetBundle\/*JSON Obj*\/, aliasTarget\/*String*\/, nativeSrcBundle\/*JSON Obj*\/){$/;"	f
a	../js/dojox/collections/tests/Set.js	/^	var a = ["apple","bear","candy","donut","epiphite","frank"];$/;"	v
a	../js/dojox/encoding/tests/compression/colors2.js	/^	var a = function(s){$/;"	f
a	../js/util/shrinksafe/tests/8828.js	/^	var a = "bar", b = 'bar', c = a;$/;"	v
abortCalled	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var abortCalled = false;$/;"	v
abortCalled	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var abortCalled = false;$/;"	v
absoluteInRelative	../js/dijit/tests/place-clip.html	/^				function absoluteInRelative(t){$/;"	f
absoluteXfade	../js/dojox/fx/tests/test_crossFade.html	/^		function absoluteXfade(){$/;"	f
action	../js/util/buildscripts/build.js	/^var action = kwArgs.action;$/;"	v
actualSchemifyClass	../js/dojox/lang/docs.js	/^	var actualSchemifyClass = function(clazz, name){$/;"	f
adapter.isAccepted	../js/dojox/layout/tests/resources/script_dnd.js	/^	adapter.isAccepted = function(draggedNode, target){$/;"	f
add	../js/dojo/tests/behavior.html	/^						function add(t){$/;"	f
add	../js/dojox/jsonPath/query.js	/^			function add(v, p,def){$/;"	f
add1	../js/dojox/mobile/tests/doh/EdgeToEdgeDataList.html	/^			function add1(){$/;"	f
add1	../js/dojox/mobile/tests/doh/EdgeToEdgeDataList_Programmatic.html	/^			function add1(){$/;"	f
add1	../js/dojox/mobile/tests/doh/RoundRectDataList.html	/^			function add1(){$/;"	f
add1	../js/dojox/mobile/tests/doh/RoundRectDataList_Programmatic.html	/^			function add1(){$/;"	f
add2ndTabToEmptyTabContainer	../js/dijit/tests/layout/TabContainer.html	/^				function add2ndTabToEmptyTabContainer(){$/;"	f
addActions	../js/dojox/charting/tests/test_fireEvent.html	/^function addActions(chart){$/;"	f
addBoundDijits	../js/dojox/mvc/tests/regression/test_mvc_ref-kitchensink.html	/^		  function addBoundDijits(){$/;"	f
addBoundDijits	../js/dojox/mvc/tests/regression/test_mvc_simple-programmatic.html	/^		  function addBoundDijits(){$/;"	f
addBuddyToGroup	../js/dojox/xmpp/tests/test_xmppService.html	/^			function addBuddyToGroup(buddy, groupName) {$/;"	f
addChildItem	../js/dojox/grid/tests/test_treegrid_lazyloading.html	/^			function addChildItem(){$/;"	f
addCommand	../js/dojox/robot/recorder.js	/^var addCommand = function(name, args){$/;"	f
addContent	../js/dojo/tests/_base/NodeList.html	/^						function addContent(){$/;"	f
addDependencies	../js/dojo/tests/_base/loader/asyncWithDojoRequire.html	/^						function addDependencies(regex, handler){$/;"	f
addDynamicTarget	../js/dijit/tests/test_Tooltip.html	/^		function addDynamicTarget(id){$/;"	f
addItem	../js/dojox/data/tests/stores/test_Tree_on_JsonRestStore.html	/^		function addItem(){$/;"	f
addItem	../js/dojox/grid/tests/test_treegrid_lazyloading.html	/^			function addItem(){$/;"	f
addLeftPane	../js/dijit/tests/layout/BorderContainer.html	/^				function addLeftPane(){$/;"	f
addLeftPane2	../js/dijit/tests/layout/BorderContainer.html	/^				function addLeftPane2(){$/;"	f
addLegend	../js/dojox/charting/tests/BidiSupport/bidi_DataSeries.html	/^			function addLegend(chart, node){$/;"	f
addLegend	../js/dojox/charting/tests/test_DataSeries.html	/^    function addLegend(chart, node){$/;"	f
addLegend	../js/dojox/charting/tests/test_StoreSeries-amd.html	/^	function addLegend(chart, node){$/;"	f
addLegend	../js/dojox/charting/tests/test_StoreSeries.html	/^    function addLegend(chart, node){$/;"	f
addLoadMoreItem	../js/dojox/mobile/tests/test_EdgeToEdgeDataList-more-sv.html	/^			function addLoadMoreItem(){$/;"	f
addLoadMoreItem	../js/dojox/mobile/tests/test_EdgeToEdgeDataList-more-v.html	/^			function addLoadMoreItem(){$/;"	f
addLoadMoreItem	../js/dojox/mobile/tests/test_EdgeToEdgeStoreList-more-sv.html	/^			function addLoadMoreItem(){$/;"	f
addLoadMoreItem	../js/dojox/mobile/tests/test_EdgeToEdgeStoreList-more-v.html	/^			function addLoadMoreItem(){$/;"	f
addNewUpload	../js/dojox/form/tests/test_FileInput.html	/^		function addNewUpload(){$/;"	f
addRemoveClass	../js/dojo/tests/_base/NodeList.html	/^						function addRemoveClass(){$/;"	f
addRemovePanes	../js/dijit/tests/layout/BorderContainer.html	/^				function addRemovePanes(){$/;"	f
addRow	../js/dojox/grid/tests/test_mysql_edit.html	/^		function addRow() {$/;"	f
addTab	../js/dijit/tests/layout/TabContainer.html	/^	        function addTab(tc){$/;"	f
addTab	../js/dijit/tests/layout/test_TabContainer_noLayout.html	/^        function addTab(){$/;"	f
addTabToEmptyTabContainer	../js/dijit/tests/layout/TabContainer.html	/^				function addTabToEmptyTabContainer(){$/;"	f
addTest	../js/dojox/gfx/tests/svgweb/test_gfx.html	/^		function addTest(testName, fn){$/;"	f
addTest	../js/dojox/gfx/tests/test_gfx.html	/^		function addTest(testName, fn){$/;"	f
addTest	../js/dojox/gfx/tests/test_gfx_amd.html	/^		function addTest(testName, fn){$/;"	f
addText	../js/dojo/tests/window/viewport.html	/^			function addText(){$/;"	f
addTopPane	../js/dijit/tests/layout/BorderContainer.html	/^				function addTopPane(){$/;"	f
addUser	../js/dojox/xmpp/tests/test_xmppService.html	/^			function addUser() {$/;"	f
add_item	../js/dojox/grid/tests/test_treegrid_model.html	/^            function add_item(child, parentId){$/;"	f
additional	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="additional">9. Accepting Warranty or Additional Liability<\/a><\/b>.$/;"	a
adopt	../js/dojo/tests/_base/NodeList.html	/^						function adopt(){$/;"	f
advanced	../js/dijit/tests/layout/LayoutContainer.html	/^				function advanced(){$/;"	f
after	../js/dojo/tests/NodeList-manipulate.html	/^					function after(t){$/;"	f
afterNewFetch.afterDeleteFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^						var afterDeleteFetch = function(items, request){$/;"	f
afterNewFetch.afterRevertFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^						var afterRevertFetch = function(items, request){$/;"	f
alertMe	../js/dojox/widget/tests/test_Loader.html	/^		function alertMe(){ $/;"	f
allFiles	../js/dijit/themes/claro/compile.js	/^var allFiles = [].concat($/;"	v
allLocalesStr	../js/util/buildscripts/cldr/specialLocale.js	/^var allLocalesStr\/*String*\/ = arguments[1];\/\/e.g. "ar,ar-eg,en-au,en-ca,en-gb,en-us,de-de,es-es,fr-fr,..."$/;"	v
allTests	../js/dojox/calc/tests/test_Executor.html	/^			function allTests(){$/;"	f
allpluginsText	../js/dojo/tests/_base/loader/requirejs/layers/allplugins-text.html	/^                            function allpluginsText(t){$/;"	f
andSelf	../js/dojo/tests/NodeList-traverse.html	/^					function andSelf(t){$/;"	f
anim	../js/dojo/tests/NodeList-fx.html	/^						function anim(){$/;"	f
anim	../js/dojox/fx/text.js	/^	var anim = coreFx.combine(animations);$/;"	v
animal	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var animal = store.newItem({name: "Animal", hairColor: new dojo.Color("yellow")});$/;"	v
animateBorderColor	../js/dijit/tests/_base/test_focusWidget.html	/^		function animateBorderColor(widget, color, startWidth, endWidth){$/;"	f
animatePieces	../js/dojox/fx/text.js	/^	function animatePieces(piece){$/;"	f
aop.advise	../js/dojox/lang/aspect.js	/^	aop.advise = function(\/*Object*\/ obj,$/;"	f
aop.adviseRaw	../js/dojox/lang/aspect.js	/^	aop.adviseRaw = function(\/*Object*\/ obj,$/;"	f
aop.cflow	../js/dojox/lang/aspect/cflow.js	/^	aop.cflow = function(\/*Object*\/ instance, \/*String|RegExp|Array?*\/ method){$/;"	f
aop.counter	../js/dojox/lang/aspect/counter.js	/^	aop.counter = function(){$/;"	f
aop.getContext	../js/dojox/lang/aspect.js	/^	aop.getContext = function(){$/;"	f
aop.getContextStack	../js/dojox/lang/aspect.js	/^	aop.getContextStack = function(){$/;"	f
aop.memoizer	../js/dojox/lang/aspect/memoizer.js	/^	aop.memoizer = function(\/*Function?*\/ keyMaker){$/;"	f
aop.memoizerGuard	../js/dojox/lang/aspect/memoizerGuard.js	/^	aop.memoizerGuard = function(\/*String|Array?*\/ method){$/;"	f
aop.proceed	../js/dojox/lang/aspect.js	/^	aop.proceed = function(){$/;"	f
aop.profiler	../js/dojox/lang/aspect/profiler.js	/^	aop.profiler = function(\/*String?*\/ title){$/;"	f
aop.timer	../js/dojox/lang/aspect/timer.js	/^	aop.timer = function(\/*String?*\/ name){$/;"	f
aop.tracer	../js/dojox/lang/aspect/tracer.js	/^	aop.tracer = function(\/*Boolean*\/ grouping){$/;"	f
aop.unadvise	../js/dojox/lang/aspect.js	/^	aop.unadvise = function(\/*Object*\/ handle){$/;"	f
appInfo	../js/dojox/mobile/app/_base.js	/^	var appInfo;$/;"	v
append	../js/dojo/tests/NodeList-manipulate.html	/^					function append(t){$/;"	f
append	../js/dojox/string/tests/BuilderArguments.html	/^      function append(n) {$/;"	f
append	../js/dojox/string/tests/BuilderPerf.html	/^      function append(n) {$/;"	f
appendTo	../js/dojo/tests/NodeList-manipulate.html	/^					function appendTo(t){$/;"	f
apply	../js/dojo/tests/behavior.html	/^						function apply(t){$/;"	f
apply	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^   <a name="apply">APPENDIX: How to apply the Apache License to your work<\/a>$/;"	a
arg	../js/dojox/secure/sandbox.js	/^						arg[j] = function() {$/;"	f
args.handle	../js/dojox/jq.js	/^		args.handle = function(result, ioArgs){$/;"	f
args.pieceAnimation	../js/dojox/fx/text.js	/^	args.pieceAnimation = function(piece, pieceCoords, coords, number, numPieces){$/;"	f
args.shadows.dw	../js/dojox/widget/DataPresentation.js	/^			args.shadows = {dx: 2, dy: 2, dw: 2};$/;"	p
args.shadows.dx	../js/dojox/widget/DataPresentation.js	/^			args.shadows = {dx: 2, dy: 2, dw: 2};$/;"	p
args.shadows.dy	../js/dojox/widget/DataPresentation.js	/^			args.shadows = {dx: 2, dy: 2, dw: 2};$/;"	p
ariaRole	../js/dijit/tests/form/robot/Slider_a11y.html	/^				function ariaRole(){$/;"	f
ariaTreeItemRole	../js/dijit/tests/tree/robot/Tree_a11y.html	/^				function ariaTreeItemRole(){$/;"	f
ariaTreeItemStateExpanded	../js/dijit/tests/tree/robot/Tree_a11y.html	/^				function ariaTreeItemStateExpanded(){$/;"	f
ariaTreeRole	../js/dijit/tests/tree/robot/Tree_a11y.html	/^				function ariaTreeRole(){$/;"	f
ariaTreeStateExpanded	../js/dijit/tests/tree/robot/Tree_a11y.html	/^				function ariaTreeStateExpanded(){$/;"	f
ariaValue	../js/dijit/tests/form/robot/Slider_a11y.html	/^				function ariaValue(){$/;"	f
aroundB	../js/dijit/tests/place.html	/^				function aroundB(t){$/;"	f
aroundBM	../js/dijit/tests/place.html	/^				function aroundBM(t){$/;"	f
aroundML	../js/dijit/tests/place.html	/^				function aroundML(t){$/;"	f
aroundMLB	../js/dijit/tests/place.html	/^				function aroundMLB(t){$/;"	f
aroundMR	../js/dijit/tests/place.html	/^				function aroundMR(t){$/;"	f
aroundMRT	../js/dijit/tests/place.html	/^				function aroundMRT(t){$/;"	f
aroundNodeAbsolute	../js/dijit/tests/place-clip.html	/^				function aroundNodeAbsolute(t){$/;"	f
aroundNodeParentAbsolute	../js/dijit/tests/place-clip.html	/^				function aroundNodeParentAbsolute(t){$/;"	f
aroundOneScrollbar	../js/dijit/tests/place-clip.html	/^				function aroundOneScrollbar(t){$/;"	f
aroundOneScrolled	../js/dijit/tests/place-clip.html	/^				function aroundOneScrolled(t){$/;"	f
aroundT	../js/dijit/tests/place.html	/^				function aroundT(t){$/;"	f
aroundTM	../js/dijit/tests/place.html	/^				function aroundTM(t){$/;"	f
aroundTooltip	../js/dijit/tests/place.html	/^				function aroundTooltip(t){$/;"	f
aspect	../js/dojo/tests/aspect.js	/^var aspect = dojo.require("dojo.aspect");$/;"	v
assert	../js/dojo/tests/test_touch.html	/^					function assert(obj, type, target){$/;"	f
assert	../js/dojox/flash/tests/test_flash.js	/^function assert(correct, actual, msg){$/;"	f
assert	../js/dojox/gesture/tests/doh/bubble.html	/^				function assert(obj, type, target, currentTarget){$/;"	f
assert	../js/dojox/gesture/tests/doh/tap.html	/^				function assert(obj, type, target){$/;"	f
assertEvents	../js/dojox/rails/tests/test_rails.html	/^    function assertEvents(deferred, timeout, events){$/;"	f
async.any	../js/dojox/lang/async.js	/^	async.any = function(x){$/;"	f
async.ifThen	../js/dojox/lang/async.js	/^	async.ifThen = function(cond, ifTrue, ifFalse){$/;"	f
async.loop	../js/dojox/lang/async.js	/^	async.loop = function(cond, body){$/;"	f
async.loop.ifErr	../js/dojox/lang/async.js	/^			function ifErr(v){ y.errback(v); }$/;"	f
async.loop.loop	../js/dojox/lang/async.js	/^			function loop(v){$/;"	f
async.loop.setUp	../js/dojox/lang/async.js	/^			function setUp(init){$/;"	f
async.par	../js/dojox/lang/async.js	/^	async.par = function(x){$/;"	f
async.select	../js/dojox/lang/async.js	/^	async.select = function(cond, x){$/;"	f
async.seq	../js/dojox/lang/async.js	/^	async.seq = function(x){$/;"	f
asyncError	../js/dojo/tests/parser/parser.html	/^					function asyncError(){$/;"	f
at	../js/dojo/tests/_base/NodeList.html	/^						function at(){$/;"	f
atCereals	../js/dijit/tests/tree/robot/Tree_selector.html	/^					function atCereals(){ $/;"	f
atFruits	../js/dijit/tests/tree/robot/Tree_selector.html	/^					function atFruits(){$/;"	f
atTL	../js/dijit/tests/place.html	/^				function atTL(t){$/;"	f
atTR	../js/dijit/tests/place.html	/^				function atTR(t){$/;"	f
atVegetables	../js/dijit/tests/tree/robot/Tree_selector.html	/^					function atVegetables(){$/;"	f
attachEvent	../js/dijit/tests/_TemplatedMixin.html	/^						function attachEvent(t){$/;"	f
attachPoint	../js/dijit/tests/_TemplatedMixin.html	/^						function attachPoint(t){$/;"	f
attr	../js/dijit/tests/_Widget-attr.html	/^					function attr(){$/;"	f
attr	../js/dojo/tests/_base/NodeList.html	/^						function attr(){$/;"	f
attrId	../js/dojo/tests/_base/html.html	/^						function attrId(t){$/;"	f
attrInnerHtmlDiv	../js/dojo/tests/_base/html.html	/^						function attrInnerHtmlDiv(t){$/;"	f
attrInnerHtmlTable	../js/dojo/tests/_base/html.html	/^						function attrInnerHtmlTable(t){$/;"	f
attrInputTextValue	../js/dojo/tests/_base/html.html	/^						function attrInputTextValue(t){$/;"	f
attrSpecialChars	../js/dojo/tests/_base/query.html	/^						function attrSpecialChars(){$/;"	f
attrSpecialCharsNoEscape	../js/dojo/tests/query/query.html	/^						function attrSpecialCharsNoEscape(){$/;"	f
attrSpecialCharsNoEscape	../js/dojo/tests/query/queryQuirks.html	/^						function attrSpecialCharsNoEscape(){$/;"	f
attrSpecials	../js/dojo/tests/_base/html.html	/^						function attrSpecials(){$/;"	f
attr_map	../js/dojo/tests/_base/html.html	/^						function attr_map(t){$/;"	f
attr_reconnect	../js/dojo/tests/_base/html.html	/^						function attr_reconnect(t){$/;"	f
attributeMap	../js/dijit/tests/_Widget-attr.html	/^					function attributeMap(){$/;"	f
attributes	../js/dojox/help/_base.js	/^		var attributes = [];$/;"	v
auto	../js/dojo/tests/NodeList-fx.html	/^						function auto(){$/;"	f
autoDomMapping	../js/dijit/tests/_Widget-attr.html	/^					function autoDomMapping(){$/;"	f
averagePhraseLen	../js/dojox/string/tests/BuilderArguments.html	/^      function averagePhraseLen(words) {$/;"	f
averagePhraseLen	../js/dojox/string/tests/BuilderPerf.html	/^      function averagePhraseLen(words) {$/;"	f
b	../js/dojox/collections/tests/Set.js	/^	var b = ["bear","epiphite","google","happy","joy"];$/;"	v
bad	../js/dojo/tests/_base/connect.js	/^bad = function(){$/;"	f
bar	../js/util/shrinksafe/tests/3241.js	/^    this.bar = function(){}$/;"	f
baseHref	../js/dijit/tests/_loadTest.js	/^var baseHref = file.replace(\/^(.*\\\/)?[^\\\/]+$\/, "$1");$/;"	v
basic	../js/dijit/tests/layout/LayoutContainer.html	/^				function basic(){$/;"	f
basicGroup	../js/dojox/gfx/tests/svgweb/sample.html	/^			function basicGroup(surface) {$/;"	f
basicMove	../js/dojox/gfx/tests/svgweb/sample.html	/^			function basicMove(surface) {$/;"	f
basicShapes	../js/dojox/gfx/tests/svgweb/sample.html	/^			function basicShapes(surface) {$/;"	f
basicTests	../js/dijit/tests/test_Declaration.html	/^				function basicTests(){	$/;"	f
basicTests	../js/dijit/tests/test_Declaration_1.x.html	/^				function basicTests(){	$/;"	f
basicText	../js/dojox/gfx/tests/svgweb/sample.html	/^			function basicText(surface) {$/;"	f
basicTransform	../js/dojox/gfx/tests/svgweb/sample.html	/^			function basicTransform(surface) {$/;"	f
basicXfade	../js/dojox/fx/tests/test_crossFade.html	/^		function basicXfade(){$/;"	f
basicdata	../js/dojo/tests/NodeList-data.html	/^					function basicdata(t){$/;"	f
before	../js/dojo/tests/NodeList-manipulate.html	/^					function before(t){$/;"	f
benchLines	../js/dojox/geo/openlayers/tests/test_bench.html	/^	function benchLines(){$/;"	f
benchPoints	../js/dojox/geo/openlayers/tests/test_bench.html	/^	function benchPoints(){$/;"	f
bgetop	../js/dojox/highlight/tests/test_highlight.html	/^function bgetop($opAr=array(),$unknown=true) {$/;"	f
bigStore	../js/dojo/tests/store/Observable.js	/^	var bigStore = dojo.store.Observable(new dojo.store.Memory({data:data}));$/;"	v
biggerObj.born	../js/dojox/json/tests/schema.js	/^  "born" : "1979-03-23T06:26:07Z",$/;"	p
biggerObj.gender	../js/dojox/json/tests/schema.js	/^  "gender" : "male",$/;"	p
biggerObj.name	../js/dojox/json/tests/schema.js	/^  "name" : "John Doe",$/;"	p
biggerObj.tuple	../js/dojox/json/tests/schema.js	/^  tuple:[1,"a",false],$/;"	p
biggerSchema.properties	../js/dojox/json/tests/schema.js	/^  "properties":{$/;"	p
biggerSchema.readonly	../js/dojox/json/tests/schema.js	/^  "readonly":true,$/;"	p
biggerSchema.type	../js/dojox/json/tests/schema.js	/^  "type":"object",$/;"	p
binaryHighPriorityOperatorParse	../js/dojox/calc/_ExecutorIframe.html	/^			function binaryHighPriorityOperatorParse(text){$/;"	f
binaryLowPriorityOperatorParse	../js/dojox/calc/_ExecutorIframe.html	/^			function binaryLowPriorityOperatorParse(text){$/;"	f
bindIdCounter	../js/dojox/jq.js	/^	var bindIdCounter = 0;$/;"	v
blockedStyles.MozBinding	../js/dojox/secure/DOM.js	/^	var blockedStyles = {behavior:1,MozBinding:1};$/;"	p
blockedStyles.behavior	../js/dojox/secure/DOM.js	/^	var blockedStyles = {behavior:1,MozBinding:1};$/;"	p
bothHandler	../js/dijit/tests/_Widget-deferredConnect.html	/^		function bothHandler(){$/;"	f
brandNewFloater	../js/dojox/layout/tests/test_FloatingPane.html	/^		function brandNewFloater(){$/;"	f
btnClicked	../js/dojox/mobile/tests/test_ListItem-button.html	/^			function btnClicked(e){$/;"	f
buddyAdded	../js/dojox/xmpp/tests/test_xmppService.html	/^			function buddyAdded(buddy) {$/;"	f
buddyRemoved	../js/dojox/xmpp/tests/test_xmppService.html	/^			function buddyRemoved(buddy){$/;"	f
buildAndRunSet	../js/dojox/string/tests/BuilderArguments.html	/^    function buildAndRunSet(words, dict, times) {$/;"	f
buildAndRunSet	../js/dojox/string/tests/BuilderPerf.html	/^    function buildAndRunSet(words, dict, times) {$/;"	f
buildAndRunSet	../js/dojox/string/tests/PerfFun.html	/^    function buildAndRunSet(words, times) {$/;"	f
buildSubgrid	../js/dojox/grid/tests/test_subgrid.html	/^			function buildSubgrid(inRowIndex, inCell) {$/;"	f
buildTestSet	../js/dojox/string/tests/BuilderArguments.html	/^    function buildTestSet(numWords, dict) {$/;"	f
buildTestSet	../js/dojox/string/tests/BuilderPerf.html	/^    function buildTestSet(numWords, dict) {$/;"	f
buildTestSet	../js/dojox/string/tests/PerfFun.html	/^    function buildTestSet(numWords) {$/;"	f
buildText	../js/util/buildscripts/listProfileDeps.js	/^var buildText = "Files included in this profile:" + lineSeparator;$/;"	v
buildTreeData	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^function buildTreeData(\/*Object*\/obj, \/*String*\/nodeName){$/;"	f
buildUtilXd.setXdDojoConfig	../js/util/buildscripts/jslib/buildUtilXd.js	/^buildUtilXd.setXdDojoConfig = function(\/*String*\/fileContents, \/*String*\/url){$/;"	f
built	../js/util/build/optimizeRunner.js	/^var built = "\/\/>>built\\n";$/;"	v
busy	../js/dojox/mobile/tests/test_EdgeToEdgeDataList-auto-sv.html	/^			function busy(flag){$/;"	f
busy	../js/dojox/mobile/tests/test_EdgeToEdgeStoreList-auto-sv.html	/^			function busy(flag){$/;"	f
butdoesitchain	../js/dojo/tests/NodeList-data.html	/^					function butdoesitchain(t){$/;"	f
button1	../js/dojo/tests/parser/parser.html	/^					function button1(){$/;"	f
button2	../js/dijit/tests/test_Menu_iframe.html	/^		function button2(){$/;"	f
button2	../js/dojo/tests/parser/parser.html	/^					function button2(){$/;"	f
button3	../js/dojo/tests/parser/parser.html	/^					function button3(){$/;"	f
button4	../js/dojo/tests/parser/parser.html	/^					function button4(){$/;"	f
buttonExample	../js/dojox/fx/tests/test_crossFade.html	/^		function buttonExample(){$/;"	f
byClass	../js/dijit/tests/_base/manager.html	/^					function byClass(t){$/;"	f
byId	../js/dijit/tests/_base/manager.html	/^					function byId(t){$/;"	f
byId	../js/dijit/tests/registry.html	/^				function byId(){$/;"	f
byId	../js/dojo/tests/_base/html_id.html	/^						function byId(t){$/;"	f
c	../js/dojox/encoding/tests/compression/colors2.js	/^	var c = "nG*%[ldl.:s*t'unGiO]p\\"]T._uKc;s6Io0!<7p,ih\\\\+ShRJ>JStLT5!7GR&s*mjUQ0nVHgtWT+!<<'!!\/gi8Mn\\"KLWMuisA,rU.WP,cVMZAZ8CG5^H!1>UdMZ<bAQ?nV)O%;El02G@s:JUu9d?FX[rtLXs^]\/\\"^Bk_9q*g$E-+sR'`n03c7rrE)Sgt_]\\"s8U[Ng8,pBJ:IWM!3Q8SJ:N1>s7$&&[*;i\\\\9)sSDs7#O?N99:!s7#]\/quHcnc)oX\\\\n:6&Is8VrldaQ[oORA4Ze'n?*_>g0S+L8#&cMDa@R<OITYf,Dus53nW!&DeSqXEYI!<7QL!+sKU!!(9T<R[.NgH;f^HYDgIqO0t&bf:HP)&[Dds8)cViW%uHs5'jX!.b%@k(%s^CQ9Y>V#^Na!8;DCmc^[<qj=STmb;]Es6nM<g:>I^5QAOBh4WT.i9#OiJH#TL]T8+>C#Ot='Dd6\\"oV>kIMc]rOm\\\\!H0^qda@cKf4Kc#A2pE.F&MqYC3lIn#$sd^4r5J:Q:ef`,GO5iC#WK'r<gZiC(*p%A\\"XrrAM41&q:S";$/;"	v
c	../js/dojox/encoding/tests/compression/colors3.js	/^	var c = "]0D`_OP8!0``@``5]0``^@8=`_4%!!!!`_P.!!$`CCPCJ3IKXLC(8Z[A@`]!UGE?`X^1:*8N``D=X\\"1]!0``!!#,!)O,O)9,K;GJ!'1!K;GJP<>LCQ#,67MP`YQ!G4,-CQ!![::[D\\\\S03$W,,U^0,U^0!-\\\\2F!$4`R34!,``;7FJ;7FJ(J$`MC)C``LQ)IMC`Q$`X.T=_0D``^=!WK5AA)#!!)!!L@]PA)#!]0`Q`WGUT6R=3Q##```Q]\/;-ZO<[``$V@0Q!``L.L>DG])#!Y0``_PL3U^04E\/[1U^04`\\\\<\\"`[\\"[),+KB]\\\\[>YC:>YC:M-4?```A!0]!-MUS_P$G`Q$`A!!!:MWK!!$.OF84EX$<0,.R?WDO!0K;3.(-RR7&'2FQ^@`[`_4B`_3V`^[N!!#!`@8GA)!!;YYD`[5!`U5!WH$7\\\\OCKG0O9L_\\\\OWX#4`_`6`^KZT95``]$,X;$>M\/$GA!#!`Q!!P)_017HBCU54_I\\"S^+2A,IN8``8OI&)NQ-$!B]\\\\L;FL.=)#1=)#1``L[!0^`2I+UUL3-!)#!W,`9`W.(1\/$1\\\\I,O^>[T````^@8V``]!GMUS!!!!";$/;"	v
c	../js/dojox/lang/tests/oo_mixin.js	/^		y = {c: 1, d: 2, e: 3, f: 4},$/;"	p
cache.webkit	../js/dojox/mobile/tests/dojostub.js	/^		webkit: ua.indexOf("WebKit") != -1,$/;"	p
cacheRefresh	../js/dojo/tests/parser/parser.html	/^					function cacheRefresh(t){$/;"	f
canada	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var canada = store.newItem({name: "Canada", abbr:"ca", capital:"Ottawa"});$/;"	v
canada	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var canada = store.newItem({name:"Canada", abbr:"ca", capital:"Ottawa"});$/;"	v
cancel	../js/dojo/tests/test_touch.html	/^						function cancel(){$/;"	f
cancel	../js/dojox/lang/async.js	/^				cancel = function(index){$/;"	f
cancel	../js/dojox/widget/tests/test_Wizard.html	/^		function cancel() {$/;"	f
caretParser	../js/dojox/calc/_ExecutorIframe.html	/^			function caretParser(text){$/;"	f
catTreeCustomLabel	../js/dijit/tests/tree/test_Tree_DnD.html	/^		function catTreeCustomLabel(item){$/;"	f
ccompile	../js/util/build/optimizeRunner.js	/^function ccompile(src, dest, optimizeSwitch, copyright){$/;"	f
chainCombine	../js/dojo/tests/fx.html	/^						function chainCombine(t){$/;"	f
chainTest	../js/dojox/fx/tests/test_slideBy.html	/^		function chainTest(){$/;"	f
change	../js/dojox/string/tests/test_BidiComplex.html	/^			function change(select){$/;"	f
changeGaugeColor	../js/dojox/gauges/tests/test_GlossyCircularGauge.html	/^		function changeGaugeColor(v){$/;"	f
changeGaugeColor	../js/dojox/gauges/tests/test_GlossyHorizontalGauge.html	/^		function changeGaugeColor(v){$/;"	f
changeGroupTextDir	../js/dojox/gfx/tests/_gfxBidiSupport/canvas/test_SurfaceGroupCanvas.html	/^					function changeGroupTextDir(){$/;"	f
changeGroupTextDir	../js/dojox/gfx/tests/_gfxBidiSupport/silverlight/test_SurfaceGroupSilverlight.html	/^					function changeGroupTextDir(){$/;"	f
changeGroupTextDir	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/test_SurfaceGroupSvgWeb.html	/^					function changeGroupTextDir(){$/;"	f
changeGroupTextDir	../js/dojox/gfx/tests/_gfxBidiSupport/test_SurfaceGroup.html	/^					function changeGroupTextDir(){$/;"	f
changeLabels	../js/dijit/tests/form/test_Button.html	/^		function changeLabels(){$/;"	f
changeMajorTicksColor	../js/dojox/gauges/tests/test_GlossyCircularGauge.html	/^		function changeMajorTicksColor(v){$/;"	f
changeMajorTicksColor	../js/dojox/gauges/tests/test_GlossyHorizontalGauge.html	/^		function changeMajorTicksColor(v){$/;"	f
changeMinorTicksColor	../js/dojox/gauges/tests/test_GlossyCircularGauge.html	/^		function changeMinorTicksColor(v){$/;"	f
changeMinorTicksColor	../js/dojox/gauges/tests/test_GlossyHorizontalGauge.html	/^		function changeMinorTicksColor(v){$/;"	f
changeNeedleColor	../js/dojox/gauges/tests/test_GlossyCircularGauge.html	/^		function changeNeedleColor(v){$/;"	f
changeNeedleColor	../js/dojox/gauges/tests/test_GlossyHorizontalGauge.html	/^		function changeNeedleColor(v){$/;"	f
changeOrientation	../js/dojox/gauges/tests/test_GlossyCircularGauge.html	/^		function changeOrientation(orientation){$/;"	f
changeStore	../js/dojox/image/tests/test_Gallery_GoogleData.html	/^		function changeStore(){$/;"	f
changeStore	../js/dojox/image/tests/test_ThumbnailPicker.html	/^		function changeStore(){$/;"	f
changeStoreValues	../js/dojox/geo/charting/tests/test_mapWithLegend.html	/^				function changeStoreValues() {$/;"	f
changeSurfaceRTLextDir	../js/dojox/gfx/tests/_gfxBidiSupport/canvas/test_SurfaceGroupCanvas.html	/^					function changeSurfaceRTLextDir(){$/;"	f
changeSurfaceRTLextDir	../js/dojox/gfx/tests/_gfxBidiSupport/silverlight/test_SurfaceGroupSilverlight.html	/^					function changeSurfaceRTLextDir(){$/;"	f
changeSurfaceRTLextDir	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/test_SurfaceGroupSvgWeb.html	/^					function changeSurfaceRTLextDir(){$/;"	f
changeSurfaceRTLextDir	../js/dojox/gfx/tests/_gfxBidiSupport/test_SurfaceGroup.html	/^					function changeSurfaceRTLextDir(){$/;"	f
changeTextIndicatorColor	../js/dojox/gauges/tests/test_GlossyCircularGauge.html	/^		function changeTextIndicatorColor(v){$/;"	f
check	../js/dojo/tests/_base/loader/requirejs/text/text.html	/^							function check(expected, actual){$/;"	f
check	../js/dojox/io/tests/attackerFrame.html	/^	function check(){$/;"	f
check1	../js/dojo/tests/_base/loader/config-has.html	/^				function check1(t) {$/;"	f
checkAbove	../js/dijit/tests/layout/LayoutContainer.html	/^		function checkAbove(\/*String*\/ comment, \/*Widget*\/ above, \/*Widget*\/ below){$/;"	f
checkAgreement	../js/dojox/widget/tests/test_Wizard.html	/^			function checkAgreement(name) {$/;"	f
checkAll	../js/dojox/mobile/tests/auto.html	/^	function checkAll(v){$/;"	f
checkAttrs	../js/dojo/tests/window/test_scroll.html	/^				function checkAttrs(){$/;"	f
checkContextualDir	../js/dijit/tests/_BidiSupport/widgets/Tooltip.html	/^				function checkContextualDir(text){$/;"	f
checkInitialValues	../js/dijit/tests/form/robot/CheckBox_mouse.html	/^					function checkInitialValues(){$/;"	f
checkInside	../js/dijit/tests/layout/LayoutContainer.html	/^		function checkInside(\/*Widget*\/ child, \/*Widget*\/ parent){$/;"	f
checkInside	../js/dijit/tests/layout/robot/TabContainer_noLayout.html	/^				function checkInside(childDomNode, parentDomNode){$/;"	f
checkLayoutPriorityBC	../js/dijit/tests/layout/robot/BorderContainer_nested.html	/^				function checkLayoutPriorityBC(){$/;"	f
checkLeft	../js/dijit/tests/Bidi.html	/^		function checkLeft(\/*Widget*\/ left, \/*Widget*\/ right){$/;"	f
checkLeft	../js/dijit/tests/layout/LayoutContainer.html	/^		function checkLeft(\/*String*\/ comment, \/*Widget*\/ left, \/*Widget*\/ right){$/;"	f
checkString	../js/dojo/tests/request/script.html	/^					function checkString(t){$/;"	f
checkboxSet	../js/dijit/tests/form/Form.html	/^				function checkboxSet(){$/;"	f
checkstyle	../js/util/checkstyle/runCheckstyle.js	/^function checkstyle(){$/;"	f
checkstyleUtil.addError	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.addError = function(msg, fileName, contents, pos){$/;"	f
checkstyleUtil.applyRules	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.applyRules = function(fileName, contents){$/;"	f
checkstyleUtil.clear	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.clear = function(){$/;"	f
checkstyleUtil.createNoSpaceAfterFunction	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.createNoSpaceAfterFunction = function(name){$/;"	f
checkstyleUtil.createSimpleSearch	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.createSimpleSearch = function(token, message){$/;"	f
checkstyleUtil.createSpaceWrappedSearch	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.createSpaceWrappedSearch = function(token, message){$/;"	f
checkstyleUtil.deleteChar	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.deleteChar = function(contents, pos){$/;"	f
checkstyleUtil.errors	../js/util/checkstyle/checkstyleUtil.js	/^	errors: [],$/;"	p
checkstyleUtil.findNextCharPos	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.findNextCharPos = function(contents, start, character){$/;"	f
checkstyleUtil.fixCommentNames	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.fixCommentNames = function(contents){$/;"	f
checkstyleUtil.fixSpaceAfter	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.fixSpaceAfter = function(contents, token, comments){$/;"	f
checkstyleUtil.fixSpaceBeforeAndAfter	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.fixSpaceBeforeAndAfter = function(contents, token, comments){$/;"	f
checkstyleUtil.fixTrailingWhitespace	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.fixTrailingWhitespace = function(contents) {$/;"	f
checkstyleUtil.generateReport	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.generateReport = function(skipPrint){$/;"	f
checkstyleUtil.generateReport.getFolderName	../js/util/checkstyle/checkstyleUtil.js	/^	function getFolderName(fileName){$/;"	f
checkstyleUtil.generateReport.pushFolder	../js/util/checkstyle/checkstyleUtil.js	/^	function pushFolder(folderName){$/;"	f
checkstyleUtil.getComments	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.getComments = function(contents){$/;"	f
checkstyleUtil.getComments.markRange	../js/util/checkstyle/checkstyleUtil.js	/^	function markRange(start, stop){$/;"	f
checkstyleUtil.getComments.markRegexs	../js/util/checkstyle/checkstyleUtil.js	/^	function markRegexs() {$/;"	f
checkstyleUtil.getLineNumber	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.getLineNumber = function(contents, pos){$/;"	f
checkstyleUtil.getNextChar	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.getNextChar = function(contents, start, comments, ignoreNewLine){$/;"	f
checkstyleUtil.insertChar	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.insertChar = function(contents, ch, pos){$/;"	f
checkstyleUtil.isEOL	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.isEOL = function(contents, pos){$/;"	f
checkstyleUtil.makeSimpleFixes	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.makeSimpleFixes = function(contents){$/;"	f
checkstyleUtil.replaceAllExceptComments	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.replaceAllExceptComments = function(contents, old, newStr, comments){$/;"	f
checkstyleUtil.rules.curlyBraceAtStartOfLine	../js/util/checkstyle/checkstyleUtil.js	/^	"curlyBraceAtStartOfLine": function(fileName, contents, comments){$/;"	m
checkstyleUtil.rules.elseFollowedBySpace	../js/util/checkstyle/checkstyleUtil.js	/^	"elseFollowedBySpace": function(fileName, contents, comments){$/;"	m
checkstyleUtil.rules.parenthesisSpaceCurlyBrace	../js/util/checkstyle/checkstyleUtil.js	/^	"parenthesisSpaceCurlyBrace": checkstyleUtil.createSimpleSearch(") {", "A space is not permitted between a closing parenthesis and a curly brace"),$/;"	p
checkstyleUtil.rules.switchCaseNewLine	../js/util/checkstyle/checkstyleUtil.js	/^	"switchCaseNewLine" : function(fileName, contents, comments){$/;"	m
checkstyleUtil.rules.trailingComma	../js/util/checkstyle/checkstyleUtil.js	/^	"trailingComma" : function(fileName, contents, comments){$/;"	m
checkstyleUtil.serializeErrors	../js/util/checkstyle/checkstyleUtil.js	/^checkstyleUtil.serializeErrors = function(){$/;"	f
children	../js/dojo/tests/NodeList-traverse.html	/^					function children(t){$/;"	f
chop	../js/dojox/flash/tests/test_flash.js	/^function chop(testString){$/;"	f
clamp	../js/util/less/functions.js	/^function clamp(val) {$/;"	f
clean	../js/util/buildscripts/build.js	/^function clean(){$/;"	f
cleanData	../js/dojo/tests/NodeList-data.html	/^					function cleanData(t){$/;"	f
cleanLocaleAlias	../js/util/buildscripts/cldr/alias.js	/^function cleanLocaleAlias(fileList\/*Array*\/){$/;"	f
clearTimeout	../js/dojo/_base/configRhino.js	/^		clearTimeout = function(idx){$/;"	f
clearall	../js/dojo/tests/NodeList-data.html	/^					function clearall(t){$/;"	f
click	../js/dijit/tests/_HasDropDown.html	/^	function click(node){$/;"	f
click	../js/dijit/tests/layout/StackContainer.html	/^			function click(\/*String*\/ id){$/;"	f
clickHello	../js/dojox/rpc/demos/demo_jabsorb.html	/^		function clickHello() {$/;"	f
clickItem	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function clickItem(modifiers){$/;"	f
clickPage2	../js/dijit/tests/layout/StackContainer.html	/^				function clickPage2(){$/;"	f
clickTwice	../js/dijit/tests/layout/StackContainer.html	/^				function clickTwice(){$/;"	f
clicked	../js/dojox/mobile/tests/test_Opener-ActionSheet-async.html	/^		function clicked(id){$/;"	f
clone	../js/dojo/tests/NodeList-manipulate.html	/^					function clone(t){$/;"	f
clone	../js/dojox/mdnd/tests/functionalTests/test_dnd_stress.html	/^			function clone(item, parentNode){$/;"	f
close	../js/dijit/tests/_HasDropDown.html	/^		function close(){$/;"	f
close2	../js/dijit/tests/_HasDropDown.html	/^		function close2(){$/;"	f
closeAround	../js/dijit/tests/_base/popup.html	/^				function closeAround(){$/;"	f
closeAround	../js/dijit/tests/popup.html	/^				function closeAround(){$/;"	f
closest	../js/dojo/tests/NodeList-traverse.html	/^					function closest(t){$/;"	f
closurefromCode	../js/util/build/optimizeRunner.js	/^		closurefromCode = function(filename,content){$/;"	f
cmt_1	../js/dijit/tests/i18n/currency.html	/^		<h3 class="testTitle"><a name="cmt_1">Issue #1<sup style="color:blue">Fixed<\/sup><\/a><\/h3>$/;"	a
cmt_1	../js/dijit/tests/i18n/textbox.html	/^		<a name="cmt_1"><h3 class="testTitle">Issue #1 <sup style="color:red">Not fixed. Avoid using this function of TextBox.<\/sup><\/h3><\/a>$/;"	a
cmt_2	../js/dijit/tests/i18n/currency.html	/^		<h3 class="testTitle"><a name="cmt_2">Issue #2<sup style="color:blue">Fixed: the CLDR data generator should be fixed by adding code to convert U+200F to "\\u200F" in nls JS files.<\/sup><\/a><\/h3>$/;"	a
cmt_2	../js/dijit/tests/i18n/textbox.html	/^		<a name="cmt_2"><h3 class="testTitle">Issue #2 <sup style="color:red">Not fixed. Avoid using this function of TextBox.<\/sup><\/h3><\/a>$/;"	a
cmt_3	../js/dijit/tests/i18n/currency.html	/^		<h3 class="testTitle"><a name="cmt_3">Issue #3<sup style="color:blue">Fixed: added a "localeDigit" to the options<\/sup><\/a><\/h3>$/;"	a
cnt	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^var cnt = totalCount;$/;"	v
collapse	../js/dijit/tests/tree/robot/Tree_a11y.html	/^				function collapse(node){$/;"	f
collapseSelected	../js/dojox/grid/tests/test_treegrid_lazyloading.html	/^			function collapseSelected(){$/;"	f
collectionTreeCheckItemAcceptance	../js/dijit/tests/tree/test_Tree_DnD.html	/^		function collectionTreeCheckItemAcceptance(node,source,position){$/;"	f
color	../js/util/shrinksafe/tests/8828.js	/^	var color = "red";$/;"	v
colors	../js/dojo/tests/_base/loader/requirejs/simple-badbase.html	/^                        function colors(t){$/;"	f
colors	../js/dojo/tests/_base/loader/requirejs/simple-nohead.html	/^                function colors(t){$/;"	f
colors.aliceblue	../js/util/less/colors.js	/^        'aliceblue':'#f0f8ff',$/;"	p
colors.antiquewhite	../js/util/less/colors.js	/^        'antiquewhite':'#faebd7',$/;"	p
colors.aqua	../js/util/less/colors.js	/^        'aqua':'#00ffff',$/;"	p
colors.aquamarine	../js/util/less/colors.js	/^        'aquamarine':'#7fffd4',$/;"	p
colors.azure	../js/util/less/colors.js	/^        'azure':'#f0ffff',$/;"	p
colors.beige	../js/util/less/colors.js	/^        'beige':'#f5f5dc',$/;"	p
colors.bisque	../js/util/less/colors.js	/^        'bisque':'#ffe4c4',$/;"	p
colors.black	../js/util/less/colors.js	/^        'black':'#000000',$/;"	p
colors.blanchedalmond	../js/util/less/colors.js	/^        'blanchedalmond':'#ffebcd',$/;"	p
colors.blue	../js/util/less/colors.js	/^        'blue':'#0000ff',$/;"	p
colors.blueviolet	../js/util/less/colors.js	/^        'blueviolet':'#8a2be2',$/;"	p
colors.brown	../js/util/less/colors.js	/^        'brown':'#a52a2a',$/;"	p
colors.burlywood	../js/util/less/colors.js	/^        'burlywood':'#deb887',$/;"	p
colors.cadetblue	../js/util/less/colors.js	/^        'cadetblue':'#5f9ea0',$/;"	p
colors.chartreuse	../js/util/less/colors.js	/^        'chartreuse':'#7fff00',$/;"	p
colors.chocolate	../js/util/less/colors.js	/^        'chocolate':'#d2691e',$/;"	p
colors.coral	../js/util/less/colors.js	/^        'coral':'#ff7f50',$/;"	p
colors.cornflowerblue	../js/util/less/colors.js	/^        'cornflowerblue':'#6495ed',$/;"	p
colors.cornsilk	../js/util/less/colors.js	/^        'cornsilk':'#fff8dc',$/;"	p
colors.crimson	../js/util/less/colors.js	/^        'crimson':'#dc143c',$/;"	p
colors.cyan	../js/util/less/colors.js	/^        'cyan':'#00ffff',$/;"	p
colors.darkblue	../js/util/less/colors.js	/^        'darkblue':'#00008b',$/;"	p
colors.darkcyan	../js/util/less/colors.js	/^        'darkcyan':'#008b8b',$/;"	p
colors.darkgoldenrod	../js/util/less/colors.js	/^        'darkgoldenrod':'#b8860b',$/;"	p
colors.darkgray	../js/util/less/colors.js	/^        'darkgray':'#a9a9a9',$/;"	p
colors.darkgreen	../js/util/less/colors.js	/^        'darkgreen':'#006400',$/;"	p
colors.darkgrey	../js/util/less/colors.js	/^        'darkgrey':'#a9a9a9',$/;"	p
colors.darkkhaki	../js/util/less/colors.js	/^        'darkkhaki':'#bdb76b',$/;"	p
colors.darkmagenta	../js/util/less/colors.js	/^        'darkmagenta':'#8b008b',$/;"	p
colors.darkolivegreen	../js/util/less/colors.js	/^        'darkolivegreen':'#556b2f',$/;"	p
colors.darkorange	../js/util/less/colors.js	/^        'darkorange':'#ff8c00',$/;"	p
colors.darkorchid	../js/util/less/colors.js	/^        'darkorchid':'#9932cc',$/;"	p
colors.darkred	../js/util/less/colors.js	/^        'darkred':'#8b0000',$/;"	p
colors.darksalmon	../js/util/less/colors.js	/^        'darksalmon':'#e9967a',$/;"	p
colors.darkseagreen	../js/util/less/colors.js	/^        'darkseagreen':'#8fbc8f',$/;"	p
colors.darkslateblue	../js/util/less/colors.js	/^        'darkslateblue':'#483d8b',$/;"	p
colors.darkslategray	../js/util/less/colors.js	/^        'darkslategray':'#2f4f4f',$/;"	p
colors.darkslategrey	../js/util/less/colors.js	/^        'darkslategrey':'#2f4f4f',$/;"	p
colors.darkturquoise	../js/util/less/colors.js	/^        'darkturquoise':'#00ced1',$/;"	p
colors.darkviolet	../js/util/less/colors.js	/^        'darkviolet':'#9400d3',$/;"	p
colors.deeppink	../js/util/less/colors.js	/^        'deeppink':'#ff1493',$/;"	p
colors.deepskyblue	../js/util/less/colors.js	/^        'deepskyblue':'#00bfff',$/;"	p
colors.dimgray	../js/util/less/colors.js	/^        'dimgray':'#696969',$/;"	p
colors.dimgrey	../js/util/less/colors.js	/^        'dimgrey':'#696969',$/;"	p
colors.dodgerblue	../js/util/less/colors.js	/^        'dodgerblue':'#1e90ff',$/;"	p
colors.firebrick	../js/util/less/colors.js	/^        'firebrick':'#b22222',$/;"	p
colors.floralwhite	../js/util/less/colors.js	/^        'floralwhite':'#fffaf0',$/;"	p
colors.forestgreen	../js/util/less/colors.js	/^        'forestgreen':'#228b22',$/;"	p
colors.fuchsia	../js/util/less/colors.js	/^        'fuchsia':'#ff00ff',$/;"	p
colors.gainsboro	../js/util/less/colors.js	/^        'gainsboro':'#dcdcdc',$/;"	p
colors.ghostwhite	../js/util/less/colors.js	/^        'ghostwhite':'#f8f8ff',$/;"	p
colors.gold	../js/util/less/colors.js	/^        'gold':'#ffd700',$/;"	p
colors.goldenrod	../js/util/less/colors.js	/^        'goldenrod':'#daa520',$/;"	p
colors.gray	../js/util/less/colors.js	/^        'gray':'#808080',$/;"	p
colors.green	../js/util/less/colors.js	/^        'green':'#008000',$/;"	p
colors.greenyellow	../js/util/less/colors.js	/^        'greenyellow':'#adff2f',$/;"	p
colors.grey	../js/util/less/colors.js	/^        'grey':'#808080',$/;"	p
colors.honeydew	../js/util/less/colors.js	/^        'honeydew':'#f0fff0',$/;"	p
colors.hotpink	../js/util/less/colors.js	/^        'hotpink':'#ff69b4',$/;"	p
colors.indianred	../js/util/less/colors.js	/^        'indianred':'#cd5c5c',$/;"	p
colors.indigo	../js/util/less/colors.js	/^        'indigo':'#4b0082',$/;"	p
colors.ivory	../js/util/less/colors.js	/^        'ivory':'#fffff0',$/;"	p
colors.khaki	../js/util/less/colors.js	/^        'khaki':'#f0e68c',$/;"	p
colors.lavender	../js/util/less/colors.js	/^        'lavender':'#e6e6fa',$/;"	p
colors.lavenderblush	../js/util/less/colors.js	/^        'lavenderblush':'#fff0f5',$/;"	p
colors.lawngreen	../js/util/less/colors.js	/^        'lawngreen':'#7cfc00',$/;"	p
colors.lemonchiffon	../js/util/less/colors.js	/^        'lemonchiffon':'#fffacd',$/;"	p
colors.lightblue	../js/util/less/colors.js	/^        'lightblue':'#add8e6',$/;"	p
colors.lightcoral	../js/util/less/colors.js	/^        'lightcoral':'#f08080',$/;"	p
colors.lightcyan	../js/util/less/colors.js	/^        'lightcyan':'#e0ffff',$/;"	p
colors.lightgoldenrodyellow	../js/util/less/colors.js	/^        'lightgoldenrodyellow':'#fafad2',$/;"	p
colors.lightgray	../js/util/less/colors.js	/^        'lightgray':'#d3d3d3',$/;"	p
colors.lightgreen	../js/util/less/colors.js	/^        'lightgreen':'#90ee90',$/;"	p
colors.lightgrey	../js/util/less/colors.js	/^        'lightgrey':'#d3d3d3',$/;"	p
colors.lightpink	../js/util/less/colors.js	/^        'lightpink':'#ffb6c1',$/;"	p
colors.lightsalmon	../js/util/less/colors.js	/^        'lightsalmon':'#ffa07a',$/;"	p
colors.lightseagreen	../js/util/less/colors.js	/^        'lightseagreen':'#20b2aa',$/;"	p
colors.lightskyblue	../js/util/less/colors.js	/^        'lightskyblue':'#87cefa',$/;"	p
colors.lightslategray	../js/util/less/colors.js	/^        'lightslategray':'#778899',$/;"	p
colors.lightslategrey	../js/util/less/colors.js	/^        'lightslategrey':'#778899',$/;"	p
colors.lightsteelblue	../js/util/less/colors.js	/^        'lightsteelblue':'#b0c4de',$/;"	p
colors.lightyellow	../js/util/less/colors.js	/^        'lightyellow':'#ffffe0',$/;"	p
colors.lime	../js/util/less/colors.js	/^        'lime':'#00ff00',$/;"	p
colors.limegreen	../js/util/less/colors.js	/^        'limegreen':'#32cd32',$/;"	p
colors.linen	../js/util/less/colors.js	/^        'linen':'#faf0e6',$/;"	p
colors.magenta	../js/util/less/colors.js	/^        'magenta':'#ff00ff',$/;"	p
colors.maroon	../js/util/less/colors.js	/^        'maroon':'#800000',$/;"	p
colors.mediumaquamarine	../js/util/less/colors.js	/^        'mediumaquamarine':'#66cdaa',$/;"	p
colors.mediumblue	../js/util/less/colors.js	/^        'mediumblue':'#0000cd',$/;"	p
colors.mediumorchid	../js/util/less/colors.js	/^        'mediumorchid':'#ba55d3',$/;"	p
colors.mediumpurple	../js/util/less/colors.js	/^        'mediumpurple':'#9370d8',$/;"	p
colors.mediumseagreen	../js/util/less/colors.js	/^        'mediumseagreen':'#3cb371',$/;"	p
colors.mediumslateblue	../js/util/less/colors.js	/^        'mediumslateblue':'#7b68ee',$/;"	p
colors.mediumspringgreen	../js/util/less/colors.js	/^        'mediumspringgreen':'#00fa9a',$/;"	p
colors.mediumturquoise	../js/util/less/colors.js	/^        'mediumturquoise':'#48d1cc',$/;"	p
colors.mediumvioletred	../js/util/less/colors.js	/^        'mediumvioletred':'#c71585',$/;"	p
colors.midnightblue	../js/util/less/colors.js	/^        'midnightblue':'#191970',$/;"	p
colors.mintcream	../js/util/less/colors.js	/^        'mintcream':'#f5fffa',$/;"	p
colors.mistyrose	../js/util/less/colors.js	/^        'mistyrose':'#ffe4e1',$/;"	p
colors.moccasin	../js/util/less/colors.js	/^        'moccasin':'#ffe4b5',$/;"	p
colors.navajowhite	../js/util/less/colors.js	/^        'navajowhite':'#ffdead',$/;"	p
colors.navy	../js/util/less/colors.js	/^        'navy':'#000080',$/;"	p
colors.oldlace	../js/util/less/colors.js	/^        'oldlace':'#fdf5e6',$/;"	p
colors.olive	../js/util/less/colors.js	/^        'olive':'#808000',$/;"	p
colors.olivedrab	../js/util/less/colors.js	/^        'olivedrab':'#6b8e23',$/;"	p
colors.orange	../js/util/less/colors.js	/^        'orange':'#ffa500',$/;"	p
colors.orangered	../js/util/less/colors.js	/^        'orangered':'#ff4500',$/;"	p
colors.orchid	../js/util/less/colors.js	/^        'orchid':'#da70d6',$/;"	p
colors.palegoldenrod	../js/util/less/colors.js	/^        'palegoldenrod':'#eee8aa',$/;"	p
colors.palegreen	../js/util/less/colors.js	/^        'palegreen':'#98fb98',$/;"	p
colors.paleturquoise	../js/util/less/colors.js	/^        'paleturquoise':'#afeeee',$/;"	p
colors.palevioletred	../js/util/less/colors.js	/^        'palevioletred':'#d87093',$/;"	p
colors.papayawhip	../js/util/less/colors.js	/^        'papayawhip':'#ffefd5',$/;"	p
colors.peachpuff	../js/util/less/colors.js	/^        'peachpuff':'#ffdab9',$/;"	p
colors.peru	../js/util/less/colors.js	/^        'peru':'#cd853f',$/;"	p
colors.pink	../js/util/less/colors.js	/^        'pink':'#ffc0cb',$/;"	p
colors.plum	../js/util/less/colors.js	/^        'plum':'#dda0dd',$/;"	p
colors.powderblue	../js/util/less/colors.js	/^        'powderblue':'#b0e0e6',$/;"	p
colors.purple	../js/util/less/colors.js	/^        'purple':'#800080',$/;"	p
colors.red	../js/util/less/colors.js	/^        'red':'#ff0000',$/;"	p
colors.rosybrown	../js/util/less/colors.js	/^        'rosybrown':'#bc8f8f',$/;"	p
colors.royalblue	../js/util/less/colors.js	/^        'royalblue':'#4169e1',$/;"	p
colors.saddlebrown	../js/util/less/colors.js	/^        'saddlebrown':'#8b4513',$/;"	p
colors.salmon	../js/util/less/colors.js	/^        'salmon':'#fa8072',$/;"	p
colors.sandybrown	../js/util/less/colors.js	/^        'sandybrown':'#f4a460',$/;"	p
colors.seagreen	../js/util/less/colors.js	/^        'seagreen':'#2e8b57',$/;"	p
colors.seashell	../js/util/less/colors.js	/^        'seashell':'#fff5ee',$/;"	p
colors.sienna	../js/util/less/colors.js	/^        'sienna':'#a0522d',$/;"	p
colors.silver	../js/util/less/colors.js	/^        'silver':'#c0c0c0',$/;"	p
colors.skyblue	../js/util/less/colors.js	/^        'skyblue':'#87ceeb',$/;"	p
colors.slateblue	../js/util/less/colors.js	/^        'slateblue':'#6a5acd',$/;"	p
colors.slategray	../js/util/less/colors.js	/^        'slategray':'#708090',$/;"	p
colors.slategrey	../js/util/less/colors.js	/^        'slategrey':'#708090',$/;"	p
colors.snow	../js/util/less/colors.js	/^        'snow':'#fffafa',$/;"	p
colors.springgreen	../js/util/less/colors.js	/^        'springgreen':'#00ff7f',$/;"	p
colors.steelblue	../js/util/less/colors.js	/^        'steelblue':'#4682b4',$/;"	p
colors.tan	../js/util/less/colors.js	/^        'tan':'#d2b48c',$/;"	p
colors.teal	../js/util/less/colors.js	/^        'teal':'#008080',$/;"	p
colors.thistle	../js/util/less/colors.js	/^        'thistle':'#d8bfd8',$/;"	p
colors.tomato	../js/util/less/colors.js	/^        'tomato':'#ff6347',$/;"	p
colors.turquoise	../js/util/less/colors.js	/^        'turquoise':'#40e0d0',$/;"	p
colors.violet	../js/util/less/colors.js	/^        'violet':'#ee82ee',$/;"	p
colors.wheat	../js/util/less/colors.js	/^        'wheat':'#f5deb3',$/;"	p
colors.white	../js/util/less/colors.js	/^        'white':'#ffffff',$/;"	p
colors.whitesmoke	../js/util/less/colors.js	/^        'whitesmoke':'#f5f5f5',$/;"	p
colors.yellow	../js/util/less/colors.js	/^        'yellow':'#ffff00',$/;"	p
colors.yellowgreen	../js/util/less/colors.js	/^        'yellowgreen':'#9acd32'$/;"	p
cols	../js/dojox/grid/tests/enhanced/support/test_write_store_dnd.js	/^	var cols = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"];$/;"	v
combineChain	../js/dojo/tests/fx.html	/^						function combineChain(t){$/;"	f
commands	../js/dojox/robot/recorder.js	/^var commands = [];$/;"	v
commoni18n	../js/dojo/tests/_base/loader/requirejs/i18n/common.html	/^	                    function commoni18n(t) {$/;"	f
compare	../js/dojox/gfx/tests/decompose.js	/^	var compare = function(t, a){$/;"	f
compare	../js/util/buildscripts/cldr/cldrUtil.js	/^function compare(a\/*String or Array*\/, b\/*String or Array*\/){$/;"	f
compare2native	../js/dijit/tests/form/test_verticalAlign.html	/^				function compare2native(className){$/;"	f
completed	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var completed = function(items, request){$/;"	f
completed	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var completed = function(items, request){$/;"	f
completedAll	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var completedAll = function(items, request){$/;"	f
completedAll	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var completedAll = function(items, request){$/;"	f
compose	../js/dojox/gfx/tests/decompose.js	/^	var compose = function(r){$/;"	f
compute	../js/dojo/tests/window/viewport.html	/^			function compute(){$/;"	f
concat	../js/dojo/tests/_base/NodeList.html	/^						function concat(){$/;"	f
concat2	../js/dojo/tests/_base/NodeList.html	/^						function concat2(){$/;"	f
concat3	../js/dojo/tests/_base/NodeList.html	/^						function concat3(){$/;"	f
concat4	../js/dojo/tests/_base/NodeList.html	/^						function concat4(){ $/;"	f
config	../js/dojo/tests/_base/loader/requirejs/config.html	/^                            function config(t){$/;"	f
connect	../js/dijit/tests/_Widget-on.html	/^				function connect(){$/;"	f
connect	../js/dojo/tests/_base/NodeList.html	/^						function connect(){$/;"	f
connectHandle	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var connectHandle = null;$/;"	v
console.debug	../js/dojo/_base/configFirefoxExtension.js	/^	console.debug = function(){$/;"	f
console.debug	../js/util/shrinksafe/tests/stripcomplex.js	/^	debug: function(arg) { result += "DEBUG: " + arg; },$/;"	m
console.debug	../js/util/shrinksafe/tests/stripconsole.js	/^	debug: function(arg) { result += "DEBUG: " + arg; },$/;"	m
console.dir	../js/util/shrinksafe/tests/stripcomplex.js	/^	dir: function(arg) { result += "DIR: " + arg; }$/;"	m
console.dir	../js/util/shrinksafe/tests/stripconsole.js	/^	dir: function(arg) { result += "DIR: " + arg; }$/;"	m
console.error	../js/dojo/_base/configRhino.js	/^		error: function(){ log("ERROR", arguments); },$/;"	m
console.error	../js/util/shrinksafe/tests/stripcomplex.js	/^	error: function(arg) { result += "ERROR: " + arg; },$/;"	m
console.error	../js/util/shrinksafe/tests/stripconsole.js	/^	error: function(arg) { result += "ERROR: " + arg; },$/;"	m
console.log	../js/dojo/_base/configFirefoxExtension.js	/^	console.log = function(m){$/;"	f
console.log	../js/dojo/_base/configRhino.js	/^		log: function(){ log(0, arguments); },$/;"	m
console.log	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
console.log	../js/util/shrinksafe/tests/stripcomplex.js	/^	log: function(arg) { result += "LOG: " + arg; },$/;"	m
console.warn	../js/dojo/_base/configRhino.js	/^		warn: function(){ log("WARN", arguments); }$/;"	m
console.warn	../js/util/shrinksafe/tests/stripcomplex.js	/^	warn: function(arg) { result += "WARN: " + arg; },$/;"	m
console.warn	../js/util/shrinksafe/tests/stripconsole.js	/^	warn: function(arg) { result += "WARN: " + arg; },$/;"	m
context.depth	../js/dojox/lang/aspect.js	/^				depth: contextStack.length,		\/\/ current level of depth starting from 0$/;"	p
context.instance	../js/dojox/lang/aspect.js	/^				instance: this,					\/\/ object instance$/;"	p
context.joinPoint	../js/dojox/lang/aspect.js	/^				joinPoint: self,				\/\/ join point$/;"	p
context.value	../js/util/less/tree/javascript.js	/^                value: env.frames[0].variables()[k].value,$/;"	p
continueSequence	../js/dojox/timing/tests/test_Sequence.html	/^		function continueSequence() {$/;"	f
contributions	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="contributions">5. Submission of Contributions<\/a><\/b>.$/;"	a
convertArrayToObject	../js/util/checkstyle/runCheckstyle.js	/^function convertArrayToObject(\/*Array*\/ary){$/;"	f
coolDown	../js/dijit/tests/form/Form.html	/^				function coolDown(){$/;"	f
coolio.calendar	../js/dojo/tests/_base/loader/coolio/calendar.js	/^coolio.calendar= function(id){$/;"	f
coolio.calendar1	../js/dojo/tests/_base/loader/coolio/calendar1.js	/^coolio.calendar1= function(id){$/;"	f
coords	../js/dojo/tests/_base/NodeList.html	/^						function coords(){$/;"	f
coordsBasic	../js/dojo/tests/_base/html.html	/^						function coordsBasic(t){$/;"	f
coordsBasic	../js/dojo/tests/_base/html_quirks.html	/^						function coordsBasic(t){$/;"	f
coordsBorder	../js/dojo/tests/_base/html.html	/^						function coordsBorder(t){$/;"	f
coordsBorder	../js/dojo/tests/_base/html_quirks.html	/^						function coordsBorder(t){$/;"	f
coordsMargin	../js/dojo/tests/_base/html.html	/^						function coordsMargin(t){$/;"	f
coordsMargin	../js/dojo/tests/_base/html_quirks.html	/^						function coordsMargin(t){$/;"	f
coordsScrolled	../js/dojo/tests/_base/html.html	/^						function coordsScrolled(t) {$/;"	f
copyEventHandlers	../js/dojox/jq.js	/^	function copyEventHandlers(\/*DOMNode*\/ src, \/*DOMNode*\/ target){$/;"	f
copyPath	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function copyPath(){$/;"	f
copyPath	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function copyPath(){$/;"	f
copyright	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="copyright">2. Grant of Copyright License<\/a><\/b>.$/;"	a
count	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var count = 0;$/;"	v
count	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var count = 0;$/;"	v
count	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^var count = 0;$/;"	v
create	../js/dijit/tests/CalendarLite.html	/^					function create(){$/;"	f
create	../js/dijit/tests/Dialog.html	/^				function create(){$/;"	f
create	../js/dijit/tests/layout/ContentPane-remote.html	/^				function create(){$/;"	f
create	../js/dijit/tests/layout/ContentPane.html	/^				function create(){$/;"	f
create	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function create(){$/;"	f
create	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function create(){$/;"	f
createAccordion	../js/dijit/tests/layout/test_AccordionContainer.html	/^		function createAccordion(){$/;"	f
createAttrs	../js/dojo/tests/_base/html_element.html	/^						function createAttrs(t){$/;"	f
createBasic	../js/dojo/tests/_base/html_element.html	/^						function createBasic(t){$/;"	f
createButton	../js/dijit/tests/form/test_Button.html	/^		function createButton(){$/;"	f
createButton	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature.html	/^		function createButton(loc){$/;"	f
createButton	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature_amd.html	/^		function createButton(loc){$/;"	f
createChart	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature.html	/^		function createChart(loc, params){$/;"	f
createChart	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature_amd.html	/^		function createChart(loc, params){$/;"	f
createChart	../js/dojox/mvc/tests/regression/test_mvc_loan-stateful.html	/^			function createChart() {$/;"	f
createCharts	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature.html	/^		function createCharts(){$/;"	f
createCharts	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature_amd.html	/^		function createCharts(){$/;"	f
createDialog	../js/dijit/tests/test_Dialog.html	/^		function createDialog(){$/;"	f
createDocument	../js/dojo/tests/_base/query.html	/^				function createDocument(xml){$/;"	f
createDocument	../js/dojo/tests/query/query.html	/^				function createDocument(xml){$/;"	f
createDocument	../js/dojo/tests/query/queryQuirks.html	/^				function createDocument(xml){$/;"	f
createDom	../js/dojox/rails/tests/test_rails.html	/^		function createDom(){$/;"	f
createEmptyTabContainer	../js/dijit/tests/layout/TabContainer.html	/^				function createEmptyTabContainer(){$/;"	f
createGrid	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^function createGrid(step){$/;"	f
createGroup	../js/dojox/xmpp/tests/test_xmppService.html	/^			function createGroup(groupName) {$/;"	f
createHtml	../js/dojo/tests/_base/html_element.html	/^						function createHtml(t){$/;"	f
createItem	../js/dojox/mdnd/tests/unitTests/areaManager/AreaManagerManagingDragItems.html	/^		function createItem(id){$/;"	f
createList	../js/dojo/tests/_base/html_element.html	/^						function createList(t){$/;"	f
createMenu	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^        function createMenu(){$/;"	f
createMenu	../js/dijit/tests/test_Menu.html	/^        function createMenu(){$/;"	f
createNode	../js/dojox/layout/tests/resources/script_dnd.js	/^function createNode(source, nodes, copy, target, dropIndex){$/;"	f
createNode	../js/dojox/mdnd/tests/functionalTests/test_dnd_dndFromDojo.html	/^			function createNode(source, nodes, copy, target, dropIndex){$/;"	f
createPlace	../js/dojo/tests/_base/html_element.html	/^						function createPlace(t){$/;"	f
createPlaceRef	../js/dojo/tests/_base/html_element.html	/^						function createPlaceRef(t){$/;"	f
createProgramatically	../js/dijit/tests/layout/BorderContainer.html	/^				function createProgramatically(){$/;"	f
createProgrammaticPortlet	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^function createProgrammaticPortlet() {$/;"	f
createStore	../js/dojox/grid/tests/test_data_grid_setStore.html	/^		function createStore(type)$/;"	f
createStyledElement	../js/dojo/tests/_base/html_box.html	/^			function createStyledElement(inStyle, inParent, inElement, inNoDefault) {$/;"	f
createStyledElement	../js/dojo/tests/_base/html_box_quirks.html	/^			function createStyledElement(inStyle, inParent, inElement, inNoDefault) {$/;"	f
createStyledNodes	../js/dojo/tests/_base/html_box.html	/^			function createStyledNodes(inArgs, inFunc) {$/;"	f
createStyledNodes	../js/dojo/tests/_base/html_box_quirks.html	/^			function createStyledNodes(inArgs, inFunc) {$/;"	f
createStyledParentChild	../js/dojo/tests/_base/html_box.html	/^			function createStyledParentChild(inParentArgs, inChildArgs, inFunc) {$/;"	f
createStyledParentChild	../js/dojo/tests/_base/html_box_quirks.html	/^			function createStyledParentChild(inParentArgs, inChildArgs, inFunc) {$/;"	f
createStyledParentChildren	../js/dojo/tests/_base/html_box.html	/^			function createStyledParentChildren(inParentArgs, inChildArgs, inFunc) {$/;"	f
createStyledParentChildren	../js/dojo/tests/_base/html_box_quirks.html	/^			function createStyledParentChildren(inParentArgs, inChildArgs, inFunc) {$/;"	f
createSurface	../js/dojox/gfx/tests/test_fx.html	/^function createSurface(){$/;"	f
createSurface	../js/dojox/gfx/tests/test_fx_shapes.html	/^			function createSurface(){$/;"	f
createSurface	../js/dojox/gfx/tests/test_vectortext_draw.html	/^			function createSurface(){$/;"	f
createSurface	../js/dojox/gfx/tests/test_vectortext_load.html	/^			function createSurface(){$/;"	f
createTab	../js/dijit/tests/layout/ContentPane-remote.html	/^		function createTab(){$/;"	f
createTable	../js/dojox/sql/demos/customers/customers.html	/^			function createTable(){	$/;"	f
createText	../js/dojox/geo/openlayers/tests/test_gfx2.html	/^					function createText(surface, x, y, text){$/;"	f
cssNameToJs	../js/dojox/jq.js	/^	function cssNameToJs(name){$/;"	f
ctor	../js/dojo/tests/_base/NodeList.html	/^						function ctor(){$/;"	f
ctor	../js/dojox/lang/tests/declare-old.js	/^	ctor.prototype.constructor = ctor;$/;"	c
ctor.constructor	../js/dojox/lang/tests/declare-old.js	/^	ctor.prototype.constructor = ctor;$/;"	m
ctorArgs	../js/dojo/tests/_base/NodeList.html	/^						function ctorArgs(){$/;"	f
ctorArgs2	../js/dojo/tests/_base/NodeList.html	/^						function ctorArgs2(){$/;"	f
ctorDependentAttributes	../js/dijit/tests/_Widget-attr.html	/^					function ctorDependentAttributes(){$/;"	f
currentEvtData	../js/dojox/jq.js	/^	var currentEvtData;$/;"	v
currentPage	../js/dojox/grid/tests/enhanced/test_enhanced_grid_pagination.html	/^		function currentPage(){$/;"	f
currentPageSize	../js/dojox/grid/tests/enhanced/test_enhanced_grid_pagination.html	/^		function currentPageSize(){$/;"	f
currying	../js/dojox/lang/functional/curry.js	/^	var currying = function(\/*Object*\/ info){$/;"	f
customSetters	../js/dijit/tests/_Widget-attr.html	/^					function customSetters(){$/;"	f
customTypeMap.Color	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var customTypeMap = {'Color': 	{$/;"	p
customTypeMap.Color	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var customTypeMap = {'Color': dojo.Color };$/;"	p
d	../js/dojox/lang/tests/oo_mixin.js	/^		y = {c: 1, d: 2, e: 3, f: 4},$/;"	p
d.NodeList	../js/dojox/rails/tests/plugd/trigger.js	/^	d.NodeList.prototype.trigger = d.NodeList._adaptAsForEach(d._trigger);$/;"	c
d.NodeList	../js/util/docscripts/cheat/floatup.js	/^	d.NodeList.prototype.floatup = function(selector){$/;"	c
d.NodeList.floatup	../js/util/docscripts/cheat/floatup.js	/^	d.NodeList.prototype.floatup = function(selector){$/;"	m
d.NodeList.trigger	../js/dojox/rails/tests/plugd/trigger.js	/^	d.NodeList.prototype.trigger = d.NodeList._adaptAsForEach(d._trigger);$/;"	m
d._trigger	../js/dojox/rails/tests/plugd/trigger.js	/^	d._trigger = function(\/* DomNode|String *\/node, \/* String *\/event, extraArgs){$/;"	f
d.kwArgFunction	../js/util/docscripts/tests/simple.js	/^	d.kwArgFunction = function(\/* util.docscripts.tests.simple.__kwArgs *\/args){$/;"	f
d.multiReturns	../js/util/docscripts/tests/simple.js	/^	d.multiReturns = function(a){$/;"	f
d.returner	../js/util/docscripts/tests/simple.js	/^	d.returner = function(a){$/;"	f
d.testFunction2	../js/util/docscripts/tests/simple.js	/^	d.testFunction2 = function(\/* String? *\/id){$/;"	f
d.trigger	../js/dojox/rails/tests/plugd/trigger.js	/^	d.trigger = function(obj, event, extraArgs){$/;"	f
data	../js/dojo/tests/store/Observable.js	/^    var data = [], i;$/;"	v
data	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var args = {data: {$/;"	p
data.data	../js/dojox/data/tests/stores/AndOrReadStore.js	/^			data = {data: {$/;"	p
data.data	../js/dojox/data/tests/stores/AndOrReadStore.js	/^		data = {data: { identifier: 'name',$/;"	p
data.data	../js/dojox/data/tests/stores/AndOrReadStore.js	/^		data = {data: {$/;"	p
data.data	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^			data = {data: {$/;"	p
data.data	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^			{ data: {$/;"	p
data.data	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^		data = {data: { identifier: 'name',$/;"	p
data.data	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^		data = {data: {$/;"	p
data.url	../js/dojox/data/tests/stores/AndOrReadStore.js	/^			data = {url: require.toUrl("dojo\/tests\/data\/countries.json").toString() };$/;"	p
data.url	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^			data = {url: require.toUrl("dojo\/tests\/data\/countries.json").toString() };$/;"	p
dataAttr	../js/dojox/jq.js	/^	var dataAttr = dojo._scopeName + "DataId";$/;"	v
dataId	../js/dojox/jq.js	/^	var dataId = 0;$/;"	v
dataStore	../js/dojox/jq.js	/^	var dataStore = [];$/;"	v
data_list	../js/dojox/grid/tests/enhanced/support/test_write_store_dnd.js	/^	var data_list = [];$/;"	v
deadScripts	../js/dojox/xmpp/bosh.js	/^		var deadScripts = _self._deadScripts;$/;"	v
dealInput	../js/dojox/gfx/tests/_gfxBidiSupport/canvas/dynamicallyChangeTextCanvas.html	/^			function dealInput(){$/;"	f
dealInput	../js/dojox/gfx/tests/_gfxBidiSupport/dynamicallyChangeText.html	/^			function dealInput(){$/;"	f
dealInput	../js/dojox/gfx/tests/_gfxBidiSupport/silverlight/dynamicallyChangeTextSilverlight.html	/^			function dealInput(){$/;"	f
dealInput	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/dynamicallyChangeTextSvgWeb.html	/^			function dealInput(){$/;"	f
decrypt	../js/dojox/sql/demos/customers/customers.html	/^			function decrypt(){$/;"	f
defaultDeclare	../js/dojox/lang/docs.js	/^	var defaultDeclare = dojo.declare;$/;"	v
defaultRequire	../js/dojox/lang/docs.js	/^	var defaultRequire = dojo.require;$/;"	v
defaultSubmitHandler	../js/dijit/tests/form/Form.html	/^		function defaultSubmitHandler(values){$/;"	f
defaultSubmitHandler	../js/dijit/tests/form/test_CheckBox.html	/^		function defaultSubmitHandler(values){$/;"	f
default_obj.doProfiling	../js/dojox/grid/tests/performance/_gridPerfFramework.js	/^	var default_obj = {rows: "100", layout: "single", rowSelector: "false", doProfiling: "false"};$/;"	p
default_obj.layout	../js/dojox/grid/tests/performance/_gridPerfFramework.js	/^	var default_obj = {rows: "100", layout: "single", rowSelector: "false", doProfiling: "false"};$/;"	p
default_obj.rowSelector	../js/dojox/grid/tests/performance/_gridPerfFramework.js	/^	var default_obj = {rows: "100", layout: "single", rowSelector: "false", doProfiling: "false"};$/;"	p
default_obj.rows	../js/dojox/grid/tests/performance/_gridPerfFramework.js	/^	var default_obj = {rows: "100", layout: "single", rowSelector: "false", doProfiling: "false"};$/;"	p
define	../js/dojox/mobile/tests/dojostub.js	/^	define = function(module, deps, def){$/;"	f
define	../js/util/build/transforms/depsDeclarative.js	/^define([$/;"	f
definitions	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="definitions">1. Definitions<\/a><\/b>.<\/p>$/;"	a
delay	../js/dojo/tests/_base/Deferred.js	/^var delay = function(ms){$/;"	f
delay	../js/dojox/grid/tests/performance/_gridPerfFramework.js	/^	var delay = 100;$/;"	v
delete1	../js/dojox/mobile/tests/doh/EdgeToEdgeDataList.html	/^			function delete1(){$/;"	f
delete1	../js/dojox/mobile/tests/doh/EdgeToEdgeDataList_Programmatic.html	/^			function delete1(){$/;"	f
delete1	../js/dojox/mobile/tests/doh/RoundRectDataList.html	/^			function delete1(){$/;"	f
delete1	../js/dojox/mobile/tests/doh/RoundRectDataList_Programmatic.html	/^			function delete1(){$/;"	f
deleteBuddy	../js/dojox/xmpp/tests/test_xmppService.html	/^			function deleteBuddy(){$/;"	f
deleteItem	../js/dojox/data/tests/stores/test_Tree_on_JsonRestStore.html	/^		function deleteItem(){$/;"	f
deleteResult	../js/dojox/mvc/tests/regression/test_mvc_search-results-ins-del.html	/^			function deleteResult(index) {$/;"	f
deleteSelectedItem	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function deleteSelectedItem(){$/;"	f
deleteSelectedItem	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function deleteSelectedItem(){$/;"	f
deleteTest	../js/dijit/tests/_base/manager.html	/^					function deleteTest(t){$/;"	f
delete_selected	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function delete_selected(t){$/;"	f
dependencies.action	../js/util/buildscripts/profiles/demos-all.profile.js	/^	action:"clean,release",$/;"	p
dependencies.action	../js/util/buildscripts/profiles/gfx.profile.js	/^	action:"clean,release",$/;"	p
dependencies.cssOptimize	../js/util/buildscripts/profiles/demos-all.profile.js	/^	cssOptimize:"comments.keepLines",$/;"	p
dependencies.dojoxStorageBuildOption	../js/util/buildscripts/profiles/sql.profile.js	/^	dojoxStorageBuildOption: "offline",$/;"	p
dependencies.layers	../js/dojox/analytics/profiles/analytics.profile.js	/^	layers : [ {$/;"	p
dependencies.layers	../js/dojox/analytics/profiles/analyticsInBase.profile.js	/^        layers: [$/;"	p
dependencies.layers	../js/dojox/mvc/tests/regression/mobile/demo/demo.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/baseplus.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/cometd.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/demos-all.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/dtkapi.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/fx.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/gfx.profile.js	/^	layers: [{$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/mobile-all.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/mobile.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/sql.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/standard.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/standardCustomBase.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/profiles/storage.profile.js	/^	layers: [$/;"	p
dependencies.layers	../js/util/buildscripts/tests/profiles/customBase.profile.js	/^  layers: [$/;"	p
dependencies.mini	../js/util/buildscripts/profiles/demos-all.profile.js	/^	mini:"false",$/;"	p
dependencies.optimize	../js/util/buildscripts/profiles/demos-all.profile.js	/^	optimize:"shrinksafe",$/;"	p
dependencies.optimize	../js/util/buildscripts/profiles/gfx.profile.js	/^	optimize:"shrinksafe",$/;"	p
dependencies.prefixes	../js/util/buildscripts/tests/profiles/nestedNls.profile.js	/^  prefixes: [$/;"	p
dependencies.releaseName	../js/util/buildscripts/profiles/demos-all.profile.js	/^	releaseName:"demosite",$/;"	p
dependencies.selectorEngine	../js/util/buildscripts/profiles/standard.profile.js	/^	selectorEngine:"acme",$/;"	p
dependencies.staticHasFeatures	../js/util/buildscripts/profiles/rhino.profile.js	/^	staticHasFeatures:{$/;"	p
dependencies.stripConsole	../js/util/buildscripts/profiles/gfx.profile.js	/^	stripConsole: "normal",$/;"	p
dependencies.stripConsole	../js/util/buildscripts/profiles/mobile-all.profile.js	/^	stripConsole: "normal",$/;"	p
dependencies.stripConsole	../js/util/buildscripts/profiles/mobile.profile.js	/^	stripConsole: "normal",$/;"	p
dependencies.stripConsole	../js/util/buildscripts/profiles/standard.profile.js	/^	stripConsole: "normal",$/;"	p
dependencyResult	../js/util/buildscripts/makeDojoJsWeb.js	/^var dependencyResult;$/;"	v
deps	../js/util/buildscripts/makeDojoJsWeb.js	/^var deps = dependencyResult.depList;$/;"	v
desc	../js/dojox/jsonPath/query.js	/^			function desc(v){$/;"	f
descArray	../js/dojox/flash/_base.js	/^				var descArray = flashDescription.split(" ");$/;"	v
deselectAll	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_with_plugin.html	/^		function deselectAll(){$/;"	f
deselectAll	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function deselectAll(){$/;"	f
destroy	../js/dijit/tests/layout/ContentPane.html	/^				function destroy(){$/;"	f
destroy	../js/dijit/tests/registry.html	/^				function destroy(){$/;"	f
destroy	../js/dojox/gesture/tests/doh/swipe.html	/^					function destroy(){$/;"	f
destroy	../js/dojox/gesture/tests/doh/tap.html	/^					function destroy(){$/;"	f
destroy	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^function destroy(){$/;"	f
destroyAll	../js/dijit/tests/layout/BorderContainer.html	/^				function destroyAll(){$/;"	f
destroyAll	../js/dojo/tests/_base/html_element.html	/^						function destroyAll(t){$/;"	f
destroyButton	../js/dijit/tests/form/test_Button.html	/^		function destroyButton(){$/;"	f
destroyList	../js/dojo/tests/_base/html_element.html	/^						function destroyList(t){$/;"	f
destroyMenu	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^        function destroyMenu(){$/;"	f
destroyMenu	../js/dijit/tests/test_Menu.html	/^        function destroyMenu(){$/;"	f
destroyStarted	../js/dijit/tests/layout/AccordionContainer.html	/^				function destroyStarted(){$/;"	f
destroySubgrid	../js/dojox/grid/tests/test_subgrid.html	/^			function destroySubgrid(inRowIndex) {$/;"	f
destroyTest	../js/dojo/tests/_base/connectLeaks.html	/^	function destroyTest(){$/;"	f
destroyTree	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function destroyTree(){$/;"	f
destroyTree	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function destroyTree(){$/;"	f
destroyUnstarted	../js/dijit/tests/layout/AccordionContainer.html	/^				function destroyUnstarted(){$/;"	f
detachSubgrid	../js/dojox/grid/tests/test_subgrid.html	/^			function detachSubgrid(inRowIndex) {$/;"	f
df.binrec	../js/dojox/lang/functional/binrec.js	/^	df.binrec = function($/;"	f
df.linrec	../js/dojox/lang/functional/linrec.js	/^	df.linrec = function($/;"	f
df.multirec	../js/dojox/lang/functional/multirec.js	/^	df.multirec = function($/;"	f
df.numrec	../js/dojox/lang/functional/numrec.js	/^	df.numrec = function(\/*Object*\/ then, \/*Function|String|Array*\/ after){$/;"	f
df.tailrec	../js/dojox/lang/functional/tailrec.js	/^	df.tailrec = function($/;"	f
dir	../js/util/buildscripts/cldr/alias.js	/^var dir\/*String*\/ = arguments[0];\/\/ ${dojo}\/dojo\/cldr\/nls$/;"	v
dir	../js/util/buildscripts/cldr/arrayInherit.js	/^var dir = arguments[0];$/;"	v
dir	../js/util/buildscripts/cldr/specialLocale.js	/^var dir\/*String*\/ = arguments[0];\/\/ ${dojo}\/dojo\/cldr\/nls$/;"	v
dir	../js/util/buildscripts/cldr/wrap.js	/^var dir\/*String*\/ = arguments[0];\/\/ ${dojo}\/dojo\/cldr\/nls$/;"	v
dirAttr	../js/dojo/tests/parser/parser.html	/^					function dirAttr(){$/;"	f
directCheckBoxCheck	../js/dijit/tests/form/Form.html	/^				function directCheckBoxCheck(){$/;"	f
directCheckBoxUncheck	../js/dijit/tests/form/Form.html	/^				function directCheckBoxUncheck(){$/;"	f
directSet	../js/dijit/tests/form/Form.html	/^				function directSet(){$/;"	f
directionOnChange	../js/dijit/tests/form/TextBox_sizes.html	/^		function directionOnChange(direction){$/;"	f
disableErrorWidget	../js/dijit/tests/form/Form.html	/^				function disableErrorWidget(){$/;"	f
disableWidget	../js/dijit/tests/form/Form.html	/^				function disableWidget(){$/;"	f
disconnect	../js/dojox/gesture/tests/doh/swipe.html	/^					function disconnect(){$/;"	f
disconnect	../js/dojox/gesture/tests/doh/tap.html	/^					function disconnect(){$/;"	f
disconnectTest	../js/dojo/tests/_base/connectLeaks.html	/^	function disconnectTest(){$/;"	f
displayData	../js/dijit/tests/form/test_DateTextBox.html	/^				function displayData(){$/;"	f
displayData	../js/dijit/tests/form/test_Textarea.html	/^				function displayData(){$/;"	f
displayData	../js/dijit/tests/form/test_TimeTextBox.html	/^			function displayData(){$/;"	f
displayData	../js/dojox/date/tests/test_DateTextBoxBuddhist.html	/^				function displayData() {$/;"	f
displayData	../js/dojox/date/tests/test_DateTextBoxIslamic.html	/^				function displayData() {$/;"	f
displayData	../js/dojox/date/tests/test_DateTextBoxNewHebrewGreg.html	/^				function displayData() {$/;"	f
displayData	../js/dojox/form/tests/test_DateTextBox.html	/^				function displayData() {$/;"	f
displayData	../js/dojox/form/tests/test_TimeSpinner.html	/^			function displayData() {$/;"	f
displayIt	../js/dojox/color/tests/Palette.js	/^function displayIt(pal, title){$/;"	f
displayPopup	../js/dojox/layout/tests/test_GridContainerLite.html	/^			function displayPopup(gridContainer) {$/;"	f
displayPopup	../js/dojox/layout/tests/test_GridContainerLite_dragRestriction.html	/^		function displayPopup(grid) {$/;"	f
djConfig.baseRelativePath	../js/util/buildscripts/makeDojoJsWeb.js	/^		baseRelativePath: "..\/"$/;"	p
djConfig.baseUrl	../js/util/buildscripts/cldr/alias.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djConfig.baseUrl	../js/util/buildscripts/cldr/arrayInherit.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djConfig.baseUrl	../js/util/buildscripts/cldr/specialLocale.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djConfig.baseUrl	../js/util/buildscripts/cldr/wrap.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djConfig.baseUrl	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^	baseUrl: "..\/..\/..\/dojo\/"$/;"	p
djConfig.extraLocale	../js/util/buildscripts/jslib/i18nUtil.js	/^			extraLocale: kwArgs.localeList,$/;"	p
djConfig.locale	../js/util/buildscripts/jslib/i18nUtil.js	/^			locale: 'xx',$/;"	p
djConfig.paths	../js/util/buildscripts/cldr/alias.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djConfig.paths	../js/util/buildscripts/cldr/arrayInherit.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djConfig.paths	../js/util/buildscripts/cldr/specialLocale.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djConfig.paths	../js/util/buildscripts/cldr/wrap.js	/^djConfig={baseUrl: "..\/..\/..\/dojo\/", paths: {"dojo\/_base\/xhr": "..\/util\/buildscripts\/cldr\/xhr"}};$/;"	p
djrealurl	../js/dijit/tests/editor/html.html	/^				function djrealurl(){$/;"	f
dndAccept	../js/dijit/tests/tree/test_Tree_DnD.html	/^		function dndAccept(source,nodes){$/;"	f
doAppend	../js/dojox/data/demos/demo_GoogleFeedStore.html	/^			function doAppend(items){$/;"	f
doAppend	../js/dojox/data/demos/demo_GoogleSearchStore.html	/^			function doAppend(){$/;"	f
doBox	../js/dojox/jq.js	/^	function doBox(\/*NodeList*\/nl, \/*String*\/boxType, \/*String*\/prop, \/*String||Number*\/value){;$/;"	f
doCon	../js/dojo/tests/test_FirebugLite.html	/^		function doCon(){$/;"	f
doCon	../js/dojo/tests/test_FirebugLitePopup.html	/^		function doCon(){$/;"	f
doDebugging	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
doEdit	../js/util/checkstyle/checkstyleReport.html	/^		function doEdit(item) {$/;"	f
doJsonpCallback	../js/dojo/tests/io/scriptJsonp.js	/^function doJsonpCallback(){$/;"	f
doReset	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^			function doReset() {$/;"	f
doReset	../js/dojox/mvc/tests/regression/doh_mvc_validation-test-simple.html	/^			function doReset() {$/;"	f
doReset	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function doReset() {$/;"	f
doReset	../js/dojox/mvc/tests/test_mvc_new_bindings-simple.html	/^			function doReset() {$/;"	f
doSearch	../js/dojox/data/demos/demo_GoogleFeedStore.html	/^		function doSearch() {					    $/;"	f
doSearch	../js/dojox/data/demos/demo_GoogleSearchStore.html	/^		function doSearch() {$/;"	f
doSearch	../js/dojox/data/demos/demo_QueryReadStore_grid.html	/^		function doSearch(el) {$/;"	f
doSearch	../js/dojox/data/demos/demo_WikipediaStore.html	/^function doSearch(){$/;"	f
doSearch	../js/dojox/data/tests/QueryReadStore.html	/^		function doSearch() {$/;"	f
doSubscribe	../js/dojox/image/tests/test_ThumbnailPicker.html	/^		function doSubscribe(){$/;"	f
doc	../js/dojox/secure/DOM.js	/^	var doc = element.ownerDocument;$/;"	v
docs	../js/util/docscripts/tests/basic.js	/^	var docs;$/;"	v
documentCallback	../js/dojox/html/tests/test_set.html	/^		function documentCallback(){$/;"	f
documentCallback	../js/dojox/layout/tests/ContentPane.html	/^		function documentCallback(){$/;"	f
doh.checkDate	../js/dojox/date/tests/timezone.js	/^doh.checkDate = function(x, u, z, e){$/;"	f
doit	../js/dojox/mobile/tests/test_Slider.html	/^				function doit(){$/;"	f
dojo.NodeList	../js/dojox/secure/sandbox.js	/^	dojo.NodeList.prototype.addContent.safetyCheck = function(content){$/;"	c
dojo.NodeList.addContent	../js/dojox/secure/sandbox.js	/^	dojo.NodeList.prototype.addContent.safetyCheck = function(content){$/;"	m
dojo.NodeList.attr	../js/dojox/secure/sandbox.js	/^	dojo.NodeList.prototype.attr.safetyCheck = function(name,value){$/;"	m
dojo.NodeList.style	../js/dojox/secure/sandbox.js	/^	dojo.NodeList.prototype.style.safetyCheck = function(name,value){$/;"	m
dojo._connect	../js/dojox/mobile/app/_event.js	/^dojo._connect = function(obj, event, context, method, dontFix){$/;"	f
dojo._getText	../js/dojo/_base/configFirefoxExtension.js	/^		dojo._getText = function(\/*URI*\/ uri, \/*Boolean*\/ fail_ok){$/;"	f
dojo._inContext	../js/dojo/_base/configFirefoxExtension.js	/^		dojo._inContext = function(g, d, f){$/;"	f
dojo._isDocumentOk	../js/dojo/_base/configFirefoxExtension.js	/^		dojo._isDocumentOk = function(http){$/;"	f
dojo._loadInit	../js/dojo/_base/configFirefoxExtension.js	/^	dojo._loadInit = function(e){$/;"	f
dojo._loadUri	../js/dojo/_base/configFirefoxExtension.js	/^		dojo._loadUri = function(uri, cb){$/;"	f
dojo._loadUri	../js/dojo/_base/configSpidermonkey.js	/^dojo._loadUri = function(uri){$/;"	f
dojo._spidermonkeyCurrentFile	../js/dojo/_base/configSpidermonkey.js	/^dojo._spidermonkeyCurrentFile = function(depth){$/;"	f
dojo._xhrObj	../js/dojo/_base/configFirefoxExtension.js	/^		dojo._xhrObj = function(){$/;"	f
dojo._xhrObj	../js/dojox/jq.js	/^	dojo._xhrObj = function(args){$/;"	f
dojo.addClass	../js/dojox/mobile/tests/dojostub.js	/^	dojo.addClass = function(node, s){$/;"	f
dojo.addOnWindowUnload	../js/dojo/_base/configFirefoxExtension.js	/^		dojo.addOnWindowUnload = function(\/*Object?*\/obj, \/*String|Function?*\/functionName){$/;"	f
dojo.connect	../js/dojox/mobile/tests/dojostub.js	/^	dojo.connect = function(node, eventName, scope, method){$/;"	f
dojo.connect.handler	../js/dojox/mobile/tests/dojostub.js	/^		var handler = function(e){$/;"	f
dojo.create	../js/dojox/mobile/tests/dojostub.js	/^	dojo.create = function(tag, attrs, refNode){$/;"	f
dojo.declare	../js/dojox/lang/docs.js	/^	dojo.declare = function(name){$/;"	f
dojo.declare	../js/dojox/lang/typed.js	/^			dojo.declare = function(name){$/;"	f
dojo.disconnect	../js/dojox/mobile/tests/dojostub.js	/^	dojo.disconnect = function(handle){$/;"	f
dojo.doc	../js/dojox/mobile/tests/dojostub.js	/^	dojo = {doc:document, global:window};$/;"	p
dojo.exit	../js/dojo/_base/configSpidermonkey.js	/^dojo.exit = function(exitcode){$/;"	f
dojo.fromJson	../js/util/buildscripts/cldr/cldrUtil.js	/^	dojo.fromJson = function(json){$/;"	f
dojo.global	../js/dojox/mobile/tests/dojostub.js	/^	dojo = {doc:document, global:window};$/;"	p
dojo.has	../js/dojox/mobile/tests/dojostub.js	/^	dojo.has = function(name){$/;"	f
dojo.has.add	../js/dojox/mobile/tests/dojostub.js	/^	dojo.has.add = function(name, test, now, force){$/;"	f
dojo.hasClass	../js/dojox/mobile/tests/dojostub.js	/^	dojo.hasClass = function(node, s){$/;"	f
dojo.popContext	../js/dojo/_base/configFirefoxExtension.js	/^		dojo.popContext = function(){$/;"	f
dojo.pushContext	../js/dojo/_base/configFirefoxExtension.js	/^		dojo.pushContext = function(\/*Object|String?*\/g, \/*MDocumentElement?*\/d){$/;"	f
dojo.removeClass	../js/dojox/mobile/tests/dojostub.js	/^	dojo.removeClass = function(node, s){$/;"	f
dojo.require	../js/dojox/lang/docs.js	/^	dojo.require = function(moduleName){$/;"	f
dojo.requireLocalization	../js/util/buildscripts/jslib/i18nUtil.js	/^	dojo.requireLocalization = function(modulename, bundlename, locale){$/;"	f
dojo.setStyle	../js/dojox/mobile/tests/dojostub.js	/^	dojo.setStyle = function(node, style, value){$/;"	f
dojo.stopEvent	../js/dojox/mobile/tests/dojostub.js	/^	dojo.stopEvent = function(evt){$/;"	f
dojo.windowUnloaded	../js/dojo/_base/configFirefoxExtension.js	/^		dojo.windowUnloaded = function(){$/;"	f
dojo.zoo.a	../js/dojo/tests/_base/object.js	/^dojo.zoo = { a:1, c: { d:1 } };$/;"	p
dojo.zoo.c	../js/dojo/tests/_base/object.js	/^dojo.zoo = { a:1, c: { d:1 } };$/;"	p
dojoConfig.async	../js/dojo/tests/_base/loader/requirejs/requirejs-setup.js	/^	async:dohArgs.async,$/;"	p
dojoConfig.packages	../js/util/build/examples/dojoConfig.js	/^	packages:[{$/;"	p
dojox.data.restListener	../js/dojox/data/restListener.js	/^dojox.data.restListener = function(message){$/;"	f
dojox.data.tests.performance.CsvStore.getData	../js/dojox/data/tests/performance/CsvStore.js	/^dojox.data.tests.performance.CsvStore.getData = function(size){$/;"	f
dojox.data.tests.stores.AndOrReadStore.getTestData	../js/dojox/data/tests/stores/AndOrReadStore.js	/^dojox.data.tests.stores.AndOrReadStore.getTestData = function(name){$/;"	f
dojox.data.tests.stores.AndOrReadStore.getTests	../js/dojox/data/tests/stores/AndOrReadStore.js	/^dojox.data.tests.stores.AndOrReadStore.getTests = function(){$/;"	f
dojox.data.tests.stores.AndOrWriteStore.getTestData	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^dojox.data.tests.stores.AndOrWriteStore.getTestData = function(name){$/;"	f
dojox.data.tests.stores.AndOrWriteStore.getTests	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^dojox.data.tests.stores.AndOrWriteStore.getTests = function(){$/;"	f
dojox.data.tests.stores.AppStore.getStore	../js/dojox/data/tests/stores/AppStore.js	/^dojox.data.tests.stores.AppStore.getStore = function(preventCache){$/;"	f
dojox.data.tests.stores.AtomReadStore.error	../js/dojox/data/tests/stores/AtomReadStore.js	/^dojox.data.tests.stores.AtomReadStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.AtomReadStore.getBlog1Store	../js/dojox/data/tests/stores/AtomReadStore.js	/^dojox.data.tests.stores.AtomReadStore.getBlog1Store = function(){$/;"	f
dojox.data.tests.stores.CssClassStore.createStore	../js/dojox/data/tests/stores/CssClassStore.js	/^dojox.data.tests.stores.CssClassStore.createStore = function(context){$/;"	f
dojox.data.tests.stores.CssClassStore.error	../js/dojox/data/tests/stores/CssClassStore.js	/^dojox.data.tests.stores.CssClassStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.CssClassStore.verifyItems	../js/dojox/data/tests/stores/CssClassStore.js	/^dojox.data.tests.stores.CssClassStore.verifyItems = function(cssClassStore, items, attribute, compareArray){$/;"	f
dojox.data.tests.stores.CssRuleStore.createStore	../js/dojox/data/tests/stores/CssRuleStore.js	/^dojox.data.tests.stores.CssRuleStore.createStore = function(context){$/;"	f
dojox.data.tests.stores.CssRuleStore.error	../js/dojox/data/tests/stores/CssRuleStore.js	/^dojox.data.tests.stores.CssRuleStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.CssRuleStore.verifyItems	../js/dojox/data/tests/stores/CssRuleStore.js	/^dojox.data.tests.stores.CssRuleStore.verifyItems = function(cssRuleStore, items, attribute, compareArray){$/;"	f
dojox.data.tests.stores.CsvStore.error	../js/dojox/data/tests/stores/CsvStore.js	/^dojox.data.tests.stores.CsvStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.CsvStore.getDatasource	../js/dojox/data/tests/stores/CsvStore.js	/^dojox.data.tests.stores.CsvStore.getDatasource = function(filepath){$/;"	f
dojox.data.tests.stores.CsvStore.verifyItems	../js/dojox/data/tests/stores/CsvStore.js	/^dojox.data.tests.stores.CsvStore.verifyItems = function(csvStore, items, attribute, compareArray){$/;"	f
dojox.data.tests.stores.FileStore.getGeoStore	../js/dojox/data/tests/stores/FileStore.js	/^dojox.data.tests.stores.FileStore.getGeoStore = function(){$/;"	f
dojox.data.tests.stores.FlickrRestStore.error	../js/dojox/data/tests/stores/FlickrRestStore.js	/^dojox.data.tests.stores.FlickrRestStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.FlickrStore.error	../js/dojox/data/tests/stores/FlickrStore.js	/^dojox.data.tests.stores.FlickrStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.GoogleFeedStore.error	../js/dojox/data/tests/stores/GoogleFeedStore.js	/^dojox.data.tests.stores.GoogleFeedStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.GoogleFeedStore.getStore	../js/dojox/data/tests/stores/GoogleFeedStore.js	/^dojox.data.tests.stores.GoogleFeedStore.getStore = function(){$/;"	f
dojox.data.tests.stores.GoogleSearchStore.error	../js/dojox/data/tests/stores/GoogleSearchStore.js	/^dojox.data.tests.stores.GoogleSearchStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.GoogleSearchStore.getStore	../js/dojox/data/tests/stores/GoogleSearchStore.js	/^dojox.data.tests.stores.GoogleSearchStore.getStore = function(){$/;"	f
dojox.data.tests.stores.HtmlStore.getBooks2Store	../js/dojox/data/tests/stores/HtmlStore.js	/^dojox.data.tests.stores.HtmlStore.getBooks2Store = function(){$/;"	f
dojox.data.tests.stores.HtmlStore.getBooks3Store	../js/dojox/data/tests/stores/HtmlStore.js	/^dojox.data.tests.stores.HtmlStore.getBooks3Store = function(){$/;"	f
dojox.data.tests.stores.HtmlStore.getBooks3StoreOnCreate	../js/dojox/data/tests/stores/HtmlStore.js	/^dojox.data.tests.stores.HtmlStore.getBooks3StoreOnCreate = function(){$/;"	f
dojox.data.tests.stores.HtmlStore.getBooks3StoreWhitespace	../js/dojox/data/tests/stores/HtmlStore.js	/^dojox.data.tests.stores.HtmlStore.getBooks3StoreWhitespace = function(){$/;"	f
dojox.data.tests.stores.HtmlStore.getBooksStore	../js/dojox/data/tests/stores/HtmlStore.js	/^dojox.data.tests.stores.HtmlStore.getBooksStore = function(){$/;"	f
dojox.data.tests.stores.HtmlStore.getBooksStoreWhitespace	../js/dojox/data/tests/stores/HtmlStore.js	/^dojox.data.tests.stores.HtmlStore.getBooksStoreWhitespace = function(){$/;"	f
dojox.data.tests.stores.HtmlTableStore.getBooks2Store	../js/dojox/data/tests/stores/HtmlTableStore.js	/^dojox.data.tests.stores.HtmlTableStore.getBooks2Store = function(){$/;"	f
dojox.data.tests.stores.HtmlTableStore.getBooksStore	../js/dojox/data/tests/stores/HtmlTableStore.js	/^dojox.data.tests.stores.HtmlTableStore.getBooksStore = function(){$/;"	f
dojox.data.tests.stores.JsonQueryRestStore.error	../js/dojox/data/tests/stores/JsonQueryRestStore.js	/^dojox.data.tests.stores.JsonQueryRestStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.JsonRestStore.error	../js/dojox/data/tests/stores/JsonRestStore.js	/^dojox.data.tests.stores.JsonRestStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.KeyValueStore.error	../js/dojox/data/tests/stores/KeyValueStore.js	/^dojox.data.tests.stores.KeyValueStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.KeyValueStore.getDatasource	../js/dojox/data/tests/stores/KeyValueStore.js	/^dojox.data.tests.stores.KeyValueStore.getDatasource = function(type){$/;"	f
dojox.data.tests.stores.KeyValueStore.verifyItems	../js/dojox/data/tests/stores/KeyValueStore.js	/^dojox.data.tests.stores.KeyValueStore.verifyItems = function(keyStore, items, attribute, compareArray){$/;"	f
dojox.data.tests.stores.OpenSearchStore.getAtomStore	../js/dojox/data/tests/stores/OpenSearchStore.js	/^dojox.data.tests.stores.OpenSearchStore.getAtomStore = function(){$/;"	f
dojox.data.tests.stores.OpenSearchStore.getHTMLStore	../js/dojox/data/tests/stores/OpenSearchStore.js	/^dojox.data.tests.stores.OpenSearchStore.getHTMLStore = function(){$/;"	f
dojox.data.tests.stores.OpenSearchStore.getRSSStore	../js/dojox/data/tests/stores/OpenSearchStore.js	/^dojox.data.tests.stores.OpenSearchStore.getRSSStore = function(){$/;"	f
dojox.data.tests.stores.OpmlStore.error	../js/dojox/data/tests/stores/OpmlStore.js	/^dojox.data.tests.stores.OpmlStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.OpmlStore.getDatasource	../js/dojox/data/tests/stores/OpmlStore.js	/^dojox.data.tests.stores.OpmlStore.getDatasource = function(filepath){$/;"	f
dojox.data.tests.stores.OpmlStore.verifyItems	../js/dojox/data/tests/stores/OpmlStore.js	/^dojox.data.tests.stores.OpmlStore.verifyItems = function(opmlStore, items, attribute, compareArray){$/;"	f
dojox.data.tests.stores.PicasaStore.error	../js/dojox/data/tests/stores/PicasaStore.js	/^dojox.data.tests.stores.PicasaStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.QueryReadStore.getStore	../js/dojox/data/tests/stores/QueryReadStore.js	/^dojox.data.tests.stores.QueryReadStore.getStore = function(){$/;"	f
dojox.data.tests.stores.ServiceStore.error	../js/dojox/data/tests/stores/ServiceStore.js	/^dojox.data.tests.stores.ServiceStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.SnapLogicStore.error	../js/dojox/data/tests/stores/SnapLogicStore.js	/^dojox.data.tests.stores.SnapLogicStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.WikipediaStore.error	../js/dojox/data/tests/stores/WikipediaStore.js	/^dojox.data.tests.stores.WikipediaStore.error = function(t, d, errData){$/;"	f
dojox.data.tests.stores.WikipediaStore.getStore	../js/dojox/data/tests/stores/WikipediaStore.js	/^dojox.data.tests.stores.WikipediaStore.getStore = function(){$/;"	f
dojox.data.tests.stores.XmlStore.getBooks2Store	../js/dojox/data/tests/stores/XmlStore.js	/^dojox.data.tests.stores.XmlStore.getBooks2Store = function(){$/;"	f
dojox.data.tests.stores.XmlStore.getBooks2StorePC	../js/dojox/data/tests/stores/XmlStore.js	/^dojox.data.tests.stores.XmlStore.getBooks2StorePC = function(){$/;"	f
dojox.data.tests.stores.XmlStore.getBooks3Store	../js/dojox/data/tests/stores/XmlStore.js	/^dojox.data.tests.stores.XmlStore.getBooks3Store = function(){$/;"	f
dojox.data.tests.stores.XmlStore.getBooksStore	../js/dojox/data/tests/stores/XmlStore.js	/^dojox.data.tests.stores.XmlStore.getBooksStore = function(){$/;"	f
dojox.data.tests.stores.XmlStore.getCDataTestStore	../js/dojox/data/tests/stores/XmlStore.js	/^dojox.data.tests.stores.XmlStore.getCDataTestStore = function(){$/;"	f
dojox.data.tests.stores.XmlStore.getGeographyStore	../js/dojox/data/tests/stores/XmlStore.js	/^dojox.data.tests.stores.XmlStore.getGeographyStore = function(){$/;"	f
dojox.dtl.DomBuffer	../js/dojox/dtl/tests/dom/util.js	/^dojox.dtl.DomBuffer.prototype.onClone = function(from, to){$/;"	c
dojox.dtl.DomBuffer.onAddEvent	../js/dojox/dtl/tests/dom/util.js	/^dojox.dtl.DomBuffer.prototype.onAddEvent = function(node, type, description){$/;"	m
dojox.dtl.DomBuffer.onClone	../js/dojox/dtl/tests/dom/util.js	/^dojox.dtl.DomBuffer.prototype.onClone = function(from, to){$/;"	m
dojox.dtl.tests.dom.util.render	../js/dojox/dtl/tests/dom/util.js	/^dojox.dtl.tests.dom.util.render = function(\/*DomTemplate*\/ template, \/*Context*\/ context) {$/;"	f
dojox.dtl.text.getTemplateString	../js/dojox/dtl/tests/text/tag.js	/^	dojox.dtl.text.getTemplateString = function(file){$/;"	f
dojox.encoding.tests.compression.colors.aliceblue	../js/dojox/encoding/tests/compression/colors.js	/^aliceblue:	[240,248,255],$/;"	p
dojox.flash.Communicator	../js/dojox/flash/_base.js	/^dojox.flash.Communicator = function(){$/;"	f
dojox.flash.Communicator	../js/dojox/flash/_base.js	/^dojox.flash.Communicator.prototype = {$/;"	c
dojox.flash.Communicator._addExternalInterfaceCallback	../js/dojox/flash/_base.js	/^	_addExternalInterfaceCallback: function(methodName){$/;"	m
dojox.flash.Communicator._decodeData	../js/dojox/flash/_base.js	/^	_decodeData: function(data){$/;"	m
dojox.flash.Communicator._encodeData	../js/dojox/flash/_base.js	/^	_encodeData: function(data){$/;"	m
dojox.flash.Communicator._execFlash	../js/dojox/flash/_base.js	/^	_execFlash: function(methodName, methodArgs){$/;"	m
dojox.flash.Communicator._execFlash.flashExec	../js/dojox/flash/_base.js	/^		var flashExec = function(){$/;"	f
dojox.flash.Embed	../js/dojox/flash/_base.js	/^dojox.flash.Embed = function(visible){$/;"	c
dojox.flash.Embed._visible	../js/dojox/flash/_base.js	/^	_visible: true,$/;"	p
dojox.flash.Embed.center	../js/dojox/flash/_base.js	/^	center: function(){$/;"	m
dojox.flash.Embed.get	../js/dojox/flash/_base.js	/^	get: function(){ \/* Object *\/$/;"	m
dojox.flash.Embed.height	../js/dojox/flash/_base.js	/^	height: 138,$/;"	p
dojox.flash.Embed.id	../js/dojox/flash/_base.js	/^	id: "flashObject",$/;"	p
dojox.flash.Embed.protocol	../js/dojox/flash/_base.js	/^	protocol: function(){$/;"	m
dojox.flash.Embed.setVisible	../js/dojox/flash/_base.js	/^	setVisible: function(\/* Boolean *\/ visible){$/;"	m
dojox.flash.Embed.width	../js/dojox/flash/_base.js	/^	width: 215,$/;"	p
dojox.flash.Embed.write	../js/dojox/flash/_base.js	/^	write: function(\/* Boolean? *\/ doExpressInstall){$/;"	m
dojox.flash.Info	../js/dojox/flash/_base.js	/^dojox.flash.Info = function(){$/;"	c
dojox.flash.Info.version	../js/dojox/flash/_base.js	/^	version: -1,$/;"	p
dojox.flash.Install	../js/dojox/flash/_base.js	/^dojox.flash.Install = function(){$/;"	f
dojox.flash.Install	../js/dojox/flash/_base.js	/^dojox.flash.Install.prototype = {$/;"	c
dojox.flash.Install._onInstallStatus	../js/dojox/flash/_base.js	/^	_onInstallStatus: function(msg){$/;"	m
dojox.flash.Install.install	../js/dojox/flash/_base.js	/^	install: function(){$/;"	m
dojox.flash.Install.needed	../js/dojox/flash/_base.js	/^	needed: function(){ \/* Boolean *\/$/;"	m
dojox.flash._loadedListeners	../js/dojox/flash/_base.js	/^	_loadedListeners: [],$/;"	p
dojox.flash._visible	../js/dojox/flash/_base.js	/^	_visible: true,$/;"	p
dojox.flash.ready	../js/dojox/flash/_base.js	/^	ready: false,$/;"	p
dojox.flash.url	../js/dojox/flash/_base.js	/^	url: null,$/;"	p
dojox.help.locate	../js/dojox/help/_base.js	/^	locate: function(\/*String*\/ searchFor, \/*String|Object|String[]|Object[]*\/ searchIn, \/*Number*\/ maxResults){$/;"	m
dojox.json.tests.error	../js/dojox/json/tests/query.js	/^dojox.json.tests.error = function(t, d, errData){$/;"	f
dojox.json.tests.testData.store	../js/dojox/json/tests/query.js	/^	store: {$/;"	p
dojox.jsonPath.query	../js/dojox/jsonPath/query.js	/^dojox.jsonPath.query = function(\/*Object*\/ obj, \/*String*\/ expr, \/*Object*\/ arg){$/;"	f
dojox.jsonPath.query._str	../js/dojox/jsonPath/query.js	/^	function _str(i){ return strs[i];}$/;"	f
dojox.jsonPath.tests.error	../js/dojox/jsonPath/tests/jsonPath.js	/^dojox.jsonPath.tests.error = function(t, d, errData){$/;"	f
dojox.jsonPath.tests.testData.store	../js/dojox/jsonPath/tests/jsonPath.js	/^	store: {$/;"	p
dojox.lang.docs.init	../js/dojox/lang/docs.js	/^	dojox.lang.docs.init = function(\/*Boolean*\/async){$/;"	f
dojox.lang.docs.init.getSplitDocs	../js/dojox/lang/docs.js	/^		var getSplitDocs = function(moduleName, sync){$/;"	f
dojox.lang.docs.init.loadFullDocs	../js/dojox/lang/docs.js	/^		function loadFullDocs(){$/;"	f
dojox.lang.makeObservable	../js/dojox/lang/observable.js	/^dojox.lang.makeObservable = function(\/*function*\/onRead,\/*function*\/onWrite,\/*function*\/onInvoke,\/*Object*\/hiddenFunctions){$/;"	f
dojox.lang.makeObservable.makeInvoker	../js/dojox/lang/observable.js	/^	function makeInvoker(scope,wrapped,i){$/;"	f
dojox.lang.observable	../js/dojox/lang/observable.js	/^dojox.lang.observable = function(\/*Object*\/wrapped,\/*function*\/onRead,\/*function*\/onWrite,\/*function*\/onInvoke){$/;"	f
dojox.lang.oo.rearrange	../js/dojox/lang/oo/rearrange.js	/^	dojox.lang.oo.rearrange = function(bag, map){$/;"	f
dojox.lang.tests.declareOld	../js/dojox/lang/tests/declare-old.js	/^dojox.lang.tests.declareOld = function(\/*String*\/ className, \/*Function|Function[]*\/ superclass, \/*Object*\/ props){$/;"	f
dojox.layout.dnd._setGcDndHandle	../js/dojox/layout/dnd/PlottedDnd.js	/^dojox.layout.dnd._setGcDndHandle = function(service,withHandles,handleClasses, first) {$/;"	f
dojox.mobile	../js/dojox/mobile/tests/dojostub.js	/^	dojox = {mobile:{}};$/;"	p
dojox.mobile.app.eventMap.mousedown	../js/dojox/mobile/app/_event.js	/^		mousedown: "ontouchstart",$/;"	p
dojox.mobile.app.eventMap.mousemove	../js/dojox/mobile/app/_event.js	/^		mousemove: "ontouchmove"$/;"	p
dojox.mobile.app.eventMap.mouseup	../js/dojox/mobile/app/_event.js	/^		mouseup: "ontouchend",$/;"	p
dojox.mobile.app.eventMap.onmousedown	../js/dojox/mobile/app/_event.js	/^		onmousedown: "ontouchstart",$/;"	p
dojox.mobile.app.eventMap.onmousemove	../js/dojox/mobile/app/_event.js	/^		onmousemove: "ontouchmove",$/;"	p
dojox.mobile.app.eventMap.onmouseup	../js/dojox/mobile/app/_event.js	/^		onmouseup: "ontouchend",$/;"	p
dojox.rails.live	../js/dojox/rails.js	/^dojox.rails.live = function(selector, evtName, fn){$/;"	f
dojox.rpc.tests._testMethod	../js/dojox/rpc/tests/Geonames.js	/^dojox.rpc.tests._testMethod = function(method){$/;"	f
dojox.rpc.tests.stores.JsonRestStore.error	../js/dojox/rpc/tests/stores/JsonRestStore.js	/^dojox.rpc.tests.stores.JsonRestStore.error = function(t, d, errData){$/;"	f
dojox.rpc.tests.wikipediaService._query	../js/dojox/rpc/tests/Wikipedia.js	/^dojox.rpc.tests.wikipediaService._query = function(q){$/;"	f
dojox.rpc.tests.yahooService._testMethod	../js/dojox/rpc/tests/Yahoo.js	/^dojox.rpc.tests.yahooService._testMethod = function(method){$/;"	f
dojox.secure.DOM	../js/dojox/secure/DOM.js	/^dojox.secure.DOM = function(element){$/;"	f
dojox.secure.DOM.safeNode	../js/dojox/secure/DOM.js	/^	function safeNode(node){$/;"	f
dojox.secure.DOM.wrap	../js/dojox/secure/DOM.js	/^	function wrap(result){$/;"	f
dojox.secure._safeDojoFunctions	../js/dojox/secure/sandbox.js	/^dojox.secure._safeDojoFunctions = function(element,wrap) {$/;"	f
dojox.secure._safeDojoFunctions.safe.query	../js/dojox/secure/sandbox.js	/^		query : function(query,root) {$/;"	m
dojox.secure.capability.keywords	../js/dojox/secure/capability.js	/^	keywords: ["break", "case", "catch", "const", "continue","debugger", "default", "delete", "do",$/;"	p
dojox.secure.sandbox	../js/dojox/secure/sandbox.js	/^	dojox.secure.sandbox = function(element) {$/;"	f
dojox.secure.sandbox.Class	../js/dojox/secure/sandbox.js	/^		function Class(\/*Function*\/superclass, \/*Object*\/properties, \/*Object*\/classProperties) {$/;"	f
dojox.secure.sandbox.checkString	../js/dojox/secure/sandbox.js	/^		function checkString(func){$/;"	f
dojox.secure.sandbox.evaluate	../js/dojox/secure/sandbox.js	/^		function evaluate(script){$/;"	f
dojox.secure.sandbox.forEach	../js/dojox/secure/sandbox.js	/^		function forEach(obj,fun) {$/;"	f
dojox.secure.sandbox.get	../js/dojox/secure/sandbox.js	/^		function get(obj,prop) {$/;"	f
dojox.secure.sandbox.set	../js/dojox/secure/sandbox.js	/^		function set(obj,prop,value) {$/;"	f
dojox.secure.sandbox.setInterval	../js/dojox/secure/sandbox.js	/^		function setInterval(func,time) {$/;"	f
dojox.secure.sandbox.setTimeout	../js/dojox/secure/sandbox.js	/^		function setTimeout(func,time) {$/;"	f
dojox.secure.unwrap	../js/dojox/secure/DOM.js	/^dojox.secure.unwrap = function unwrap(result){$/;"	f
dojox.socket.Reconnect	../js/dojox/socket/Reconnect.js	/^dojox.socket.Reconnect = function(socket, options){$/;"	f
dojox.storage.onHideSettingsUI	../js/dojox/storage/tests/test_storage.js	/^			dojox.storage.onHideSettingsUI = function(){$/;"	f
dojox.wire._getClass	../js/dojox/wire/_base.js	/^dojox.wire._getClass = function(\/*String*\/name){$/;"	f
dojox.wire._wireClasses.attribute	../js/dojox/wire/_base.js	/^	"attribute": "dojox.wire.DataWire",$/;"	p
dojox.wire._wireClasses.children	../js/dojox/wire/_base.js	/^	"children": "dojox.wire.CompositeWire",$/;"	p
dojox.wire._wireClasses.columns	../js/dojox/wire/_base.js	/^	"columns": "dojox.wire.TableAdapter",$/;"	p
dojox.wire._wireClasses.nodes	../js/dojox/wire/_base.js	/^	"nodes": "dojox.wire.TreeAdapter",$/;"	p
dojox.wire._wireClasses.path	../js/dojox/wire/_base.js	/^	"path": "dojox.wire.XmlWire",$/;"	p
dojox.wire._wireClasses.segments	../js/dojox/wire/_base.js	/^	"segments": "dojox.wire.TextAdapter"$/;"	p
dojox.wire.connect	../js/dojox/wire/_base.js	/^dojox.wire.connect = function(\/*Object*\/trigger, \/*Wire||Object*\/source, \/*Wire||Object*\/target){$/;"	f
dojox.wire.connect.connection.topic	../js/dojox/wire/_base.js	/^	var connection = {topic: trigger.topic};$/;"	p
dojox.wire.create	../js/dojox/wire/_base.js	/^dojox.wire.create = function(\/*Object*\/args){$/;"	f
dojox.wire.disconnect	../js/dojox/wire/_base.js	/^dojox.wire.disconnect = function(\/*Object*\/connection){$/;"	f
dojox.wire.isWire	../js/dojox/wire/_base.js	/^dojox.wire.isWire = function(\/*Object*\/wire){$/;"	f
dojox.wire.ml._getValue	../js/dojox/wire/ml/util.js	/^dojox.wire.ml._getValue = function(\/*String*\/source, \/*Array*\/args){$/;"	f
dojox.wire.ml._setValue	../js/dojox/wire/ml/util.js	/^dojox.wire.ml._setValue = function(\/*String*\/target, \/*anything*\/value){$/;"	f
dojox.wire.register	../js/dojox/wire/_base.js	/^dojox.wire.register = function(\/*Function||String*\/wireClass, \/*String*\/key){$/;"	f
dojox.wire.transfer	../js/dojox/wire/_base.js	/^dojox.wire.transfer = function(\/*Wire||Object*\/source, \/*Wire||Object*\/target, \/*Object?*\/defaultObject, \/*Object?*\/defaultTargetObject){$/;"	f
dojox.xmpp.TransportSession	../js/dojox/xmpp/TransportSession.js	/^dojox.xmpp.TransportSession = function(props) {$/;"	c
dojox.xmpp.bosh.transportIframes	../js/dojox/xmpp/bosh.js	/^	transportIframes: [],$/;"	p
dojox.xmpp.chat.ACTIVE_STATE	../js/dojox/xmpp/ChatService.js	/^	ACTIVE_STATE: 'active',$/;"	p
dojox.xmpp.chat.CHAT_STATE_NS	../js/dojox/xmpp/ChatService.js	/^	CHAT_STATE_NS: 'http:\/\/jabber.org\/protocol\/chatstates',$/;"	p
dojox.xmpp.chat.COMPOSING_STATE	../js/dojox/xmpp/ChatService.js	/^	COMPOSING_STATE: 'composing',$/;"	p
dojox.xmpp.chat.GONE_STATE	../js/dojox/xmpp/ChatService.js	/^	GONE_STATE: 'gone'$/;"	p
dojox.xmpp.chat.INACTIVE_STATE	../js/dojox/xmpp/ChatService.js	/^	INACTIVE_STATE: 'inactive',$/;"	p
dojox.xmpp.chat.PAUSED_STATE	../js/dojox/xmpp/ChatService.js	/^	PAUSED_STATE: 'paused',$/;"	p
dojox.xmpp.presence.STATUS_AWAY	../js/dojox/xmpp/PresenceService.js	/^	STATUS_AWAY: 'away',$/;"	p
dojox.xmpp.presence.STATUS_CHAT	../js/dojox/xmpp/PresenceService.js	/^	STATUS_CHAT: 'chat',$/;"	p
dojox.xmpp.presence.STATUS_DND	../js/dojox/xmpp/PresenceService.js	/^	STATUS_DND: 'dnd',$/;"	p
dojox.xmpp.presence.STATUS_EXTENDED_AWAY	../js/dojox/xmpp/PresenceService.js	/^	STATUS_EXTENDED_AWAY: 'xa',$/;"	p
dojox.xmpp.presence.STATUS_INVISIBLE	../js/dojox/xmpp/PresenceService.js	/^	STATUS_INVISIBLE: 'invisible'$/;"	p
dojox.xmpp.presence.STATUS_OFFLINE	../js/dojox/xmpp/PresenceService.js	/^	STATUS_OFFLINE: 'offline',$/;"	p
dojox.xmpp.presence.STATUS_ONLINE	../js/dojox/xmpp/PresenceService.js	/^	STATUS_ONLINE: 'online',$/;"	p
dojox.xmpp.presence.SUBSCRIPTION_BOTH	../js/dojox/xmpp/PresenceService.js	/^	SUBSCRIPTION_BOTH: 'both',$/;"	p
dojox.xmpp.presence.SUBSCRIPTION_FROM	../js/dojox/xmpp/PresenceService.js	/^	SUBSCRIPTION_FROM: 'from',$/;"	p
dojox.xmpp.presence.SUBSCRIPTION_NONE	../js/dojox/xmpp/PresenceService.js	/^	SUBSCRIPTION_NONE: 'none',$/;"	p
dojox.xmpp.presence.SUBSCRIPTION_REQUEST	../js/dojox/xmpp/PresenceService.js	/^	SUBSCRIPTION_REQUEST: 202,$/;"	p
dojox.xmpp.presence.SUBSCRIPTION_REQUEST_PENDING	../js/dojox/xmpp/PresenceService.js	/^	SUBSCRIPTION_REQUEST_PENDING: 'pending',$/;"	p
dojox.xmpp.presence.SUBSCRIPTION_SUBSTATUS_NONE	../js/dojox/xmpp/PresenceService.js	/^	SUBSCRIPTION_SUBSTATUS_NONE: 204,$/;"	p
dojox.xmpp.presence.SUBSCRIPTION_TO	../js/dojox/xmpp/PresenceService.js	/^	SUBSCRIPTION_TO: 'to',$/;"	p
dojox.xmpp.presence.UPDATE	../js/dojox/xmpp/PresenceService.js	/^	UPDATE: 201,$/;"	p
dojox.xmpp.roster.ADDED	../js/dojox/xmpp/RosterService.js	/^	ADDED: 101,$/;"	p
dojox.xmpp.roster.CHANGED	../js/dojox/xmpp/RosterService.js	/^	CHANGED: 102,$/;"	p
dojox.xmpp.roster.REMOVED	../js/dojox/xmpp/RosterService.js	/^	REMOVED: 103$/;"	p
dojox.xmpp.util.Base64.decode	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.Base64.decode = function(input){$/;"	f
dojox.xmpp.util.Base64.decode.b2s	../js/dojox/xmpp/util.js	/^	var b2s = function(b){$/;"	f
dojox.xmpp.util.Base64.encode	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.Base64.encode = function(input){$/;"	f
dojox.xmpp.util.Base64.encode.s2b	../js/dojox/xmpp/util.js	/^	var s2b = function(s){$/;"	f
dojox.xmpp.util.createElement	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.createElement = function(tag, attributes, terminal){$/;"	f
dojox.xmpp.util.decodeHtmlEntities	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.decodeHtmlEntities = function(str){$/;"	f
dojox.xmpp.util.decodeJid	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.decodeJid = function(jid) {$/;"	f
dojox.xmpp.util.encodeJid	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.encodeJid = function(jid) {$/;"	f
dojox.xmpp.util.htmlToPlain	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.htmlToPlain = function(str){$/;"	f
dojox.xmpp.util.stripHtml	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.stripHtml = function(str){$/;"	f
dojox.xmpp.util.xmlEncode	../js/dojox/xmpp/util.js	/^dojox.xmpp.util.xmlEncode = function(str) {$/;"	f
dojox.xmpp.xmpp.ACTIVE	../js/dojox/xmpp/xmppSession.js	/^	ACTIVE: "Active",$/;"	p
dojox.xmpp.xmpp.BIND_NS	../js/dojox/xmpp/xmppSession.js	/^	BIND_NS: 'urn:ietf:params:xml:ns:xmpp-bind',$/;"	p
dojox.xmpp.xmpp.BODY_NS	../js/dojox/xmpp/xmppSession.js	/^	BODY_NS: "http:\/\/jabber.org\/protocol\/httpbind",$/;"	p
dojox.xmpp.xmpp.CLIENT_NS	../js/dojox/xmpp/xmppSession.js	/^	CLIENT_NS: 'jabber:client',$/;"	p
dojox.xmpp.xmpp.CONNECTED	../js/dojox/xmpp/xmppSession.js	/^	CONNECTED: "Connected",$/;"	p
dojox.xmpp.xmpp.INACTIVE	../js/dojox/xmpp/xmppSession.js	/^	INACTIVE: "Inactive",$/;"	p
dojox.xmpp.xmpp.INVALID_ID	../js/dojox/xmpp/xmppSession.js	/^	INVALID_ID: -1,$/;"	p
dojox.xmpp.xmpp.LOGIN_FAILURE	../js/dojox/xmpp/xmppSession.js	/^	LOGIN_FAILURE: "LoginFailure",$/;"	p
dojox.xmpp.xmpp.SASL_NS	../js/dojox/xmpp/xmppSession.js	/^	SASL_NS: 'urn:ietf:params:xml:ns:xmpp-sasl',$/;"	p
dojox.xmpp.xmpp.SESSION_NS	../js/dojox/xmpp/xmppSession.js	/^	SESSION_NS: 'urn:ietf:params:xml:ns:xmpp-session',$/;"	p
dojox.xmpp.xmpp.STANZA_NS	../js/dojox/xmpp/xmppSession.js	/^	STANZA_NS: 'urn:ietf:params:xml:ns:xmpp-stanzas',$/;"	p
dojox.xmpp.xmpp.STREAM_NS	../js/dojox/xmpp/xmppSession.js	/^	STREAM_NS:  'http:\/\/etherx.jabber.org\/streams',$/;"	p
dojox.xmpp.xmpp.TERMINATE	../js/dojox/xmpp/xmppSession.js	/^	TERMINATE: "Terminate",$/;"	p
dojox.xmpp.xmpp.XHTML_BODY_NS	../js/dojox/xmpp/xmppSession.js	/^	XHTML_BODY_NS: "http:\/\/www.w3.org\/1999\/xhtml",$/;"	p
dojox.xmpp.xmpp.XHTML_IM_NS	../js/dojox/xmpp/xmppSession.js	/^	XHTML_IM_NS: "http:\/\/jabber.org\/protocol\/xhtml-im",$/;"	p
dojox.xmpp.xmppSession	../js/dojox/xmpp/xmppSession.js	/^dojox.xmpp.xmppSession = function(props){$/;"	c
dom2string	../js/dijit/tests/editor/robot/EnterKeyHandling.html	/^			function dom2string(root){$/;"	f
domChanger	../js/dojox/secure/DOM.js	/^	function domChanger(name,newNodeArg){$/;"	f
domConnect	../js/dojox/jq.js	/^	function domConnect(\/*DOMNode*\/node, \/*String*\/evtName){$/;"	f
domMapping	../js/dijit/tests/_Widget-attr.html	/^					function domMapping(){$/;"	f
domOrder	../js/dojo/tests/_base/query.html	/^						function domOrder() {$/;"	f
domOrder	../js/dojo/tests/query/query.html	/^						function domOrder() {$/;"	f
domOrder	../js/dojo/tests/query/queryQuirks.html	/^						function domOrder() {$/;"	f
done	../js/dojo/tests/_base/loader/requirejs/config.html	/^        function done() {$/;"	f
done	../js/dojox/calc/tests/test_Executor.html	/^				function done(){$/;"	f
done	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var done = [false, false];$/;"	v
done	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var done = [false, false];$/;"	v
done	../js/dojox/widget/tests/test_Wizard.html	/^		function done() {$/;"	f
doubleConnect	../js/dojo/tests/parser/parser.html	/^					function doubleConnect(){$/;"	f
doubleTap	../js/dojox/gesture/tests/doh/tap.html	/^					function doubleTap(){$/;"	f
drag	../js/dojox/gfx/demos/career_test.html	/^function drag(mover){$/;"	f
dragGermanyToAsia	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function dragGermanyToAsia(){$/;"	f
dragGermanyToEurope	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function dragGermanyToEurope(){$/;"	f
dragKenyaToAfrica	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function dragKenyaToAfrica(){$/;"	f
dragKenyaToAsia	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function dragKenyaToAsia(){$/;"	f
dragSourceToItemTree	../js/dijit/tests/tree/robot/Tree_dnd.html	/^				function dragSourceToItemTree(srcId, destId, after){$/;"	f
drawArrow	../js/dojox/gfx/tests/svgweb/sample.html	/^				function drawArrow(x1, y1, x2, y2) {$/;"	f
drop	../js/dojox/gfx/demos/career_test.html	/^function drop(mover){$/;"	f
dropInDojox	../js/dojox/mdnd/tests/functionalTests/test_dnd_dndToDojo_dndFromDojo.html	/^			function dropInDojox(source, nodes, copy, target, dropIndex){$/;"	f
dumpFifthFetch	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var dumpFifthFetch = function(items, request){$/;"	f
dumpFifthFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var dumpFifthFetch = function(items, request){$/;"	f
dumpFirstFetch	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var dumpFirstFetch = function(items, request){$/;"	f
dumpFirstFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var dumpFirstFetch = function(items, request){$/;"	f
dumpFourthFetch	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var dumpFourthFetch = function(items, request){$/;"	f
dumpFourthFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var dumpFourthFetch = function(items, request){$/;"	f
dumpLog	../js/dojox/string/tests/peller.html	/^  function dumpLog() {$/;"	f
dumpSecondFetch	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var dumpSecondFetch = function(items, request){$/;"	f
dumpSecondFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var dumpSecondFetch = function(items, request){$/;"	f
dumpSixthFetch	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var dumpSixthFetch = function(items, request){$/;"	f
dumpSixthFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var dumpSixthFetch = function(items, request){$/;"	f
dumpThirdFetch	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var dumpThirdFetch = function(items, request){$/;"	f
dumpThirdFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var dumpThirdFetch = function(items, request){$/;"	f
duration	../js/dojox/grid/tests/performance/_gridPerfFramework.js	/^	var duration = 100;$/;"	v
e	../js/dojox/lang/tests/oo_mixin.js	/^		y = {c: 1, d: 2, e: 3, f: 4},$/;"	p
easingNames	../js/dojo/tests/fx.html	/^						function easingNames(t){$/;"	f
easingReturns	../js/dojo/tests/fx.html	/^						function easingReturns(t){$/;"	f
egypt	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var egypt;$/;"	v
element	../js/dojox/string/tests/BuilderArguments.html	/^    function element(tag, textOrChildOrArray) {$/;"	f
element	../js/dojox/string/tests/BuilderPerf.html	/^    function element(tag, textOrChildOrArray) {$/;"	f
element	../js/dojox/string/tests/PerfFun.html	/^    function element(tag, textOrChild) {$/;"	f
empty	../js/dojox/string/tests/PerfFun.html	/^    function empty() { }$/;"	f
emptyDiv	../js/dojo/tests/_base/html_element.html	/^						function emptyDiv(t){$/;"	f
emptyTable	../js/dojo/tests/_base/html_element.html	/^						function emptyTable(t){$/;"	f
enableCookie	../js/dojox/grid/tests/enhanced/test_enhanced_grid_cookie.html	/^		function enableCookie(key, toEnable){$/;"	f
enableCookie	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function enableCookie(key, toEnable){$/;"	f
enableErrorWidget	../js/dijit/tests/form/Form.html	/^				function enableErrorWidget(){$/;"	f
enableWidget	../js/dijit/tests/form/Form.html	/^				function enableWidget(){$/;"	f
encrypt	../js/dojox/sql/demos/customers/customers.html	/^			function encrypt(){$/;"	f
enterInvalidValue	../js/dijit/tests/form/robot/ValidationTextBox.html	/^					function enterInvalidValue(){$/;"	f
eq	../js/dojox/gfx/tests/decompose.js	/^	var eq = function(t, a, b){ t.t(2 * Math.abs(a - b) \/ ((a < 1 && b < 1) ? 1 : a + b) < 1e-6); };$/;"	f
eq	../js/dojox/gfx/tests/matrix.js	/^	var eq = function(t, a, b){ t.t(2 * Math.abs(a - b) \/ ((a < 1 && b < 1) ? 1 : a + b) < 1e-6); };$/;"	f
eq	../js/dojox/math/tests/stats.js	/^		eq = function(t, a, b){$/;"	f
eqM	../js/dojox/gfx/tests/decompose.js	/^	var eqM = function(t, a, b){$/;"	f
error	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var error = function(errData, request){$/;"	f
error	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var error = function(errData, request){$/;"	f
error	../js/util/less/index.js	/^        var error = [];$/;"	v
errorInput	../js/dijit/tests/form/Form.html	/^				function errorInput(){$/;"	f
even	../js/dojo/tests/NodeList-traverse.html	/^					function even(t){$/;"	f
even	../js/dojo/tests/store/DataStore.js	/^			four = {id: 4, name: "four", even: true, prime: false};$/;"	p
event.failOn	../js/dojox/lang/async/event.js	/^	event.failOn = function(src, name){$/;"	f
event.from	../js/dojox/lang/async/event.js	/^	event.from = function(src, name){$/;"	f
eventAttr	../js/dojox/jq.js	/^	var eventAttr = dojo._scopeName + "eventid";$/;"	v
eventHandler	../js/dijit/tests/form/test_DateTextBox.html	/^			function eventHandler(e){$/;"	f
eventHandler	../js/dojox/date/tests/test_DateTextBoxBuddhist.html	/^			function eventHandler(e){$/;"	f
eventHandler	../js/dojox/date/tests/test_DateTextBoxIslamic.html	/^			function eventHandler(e){$/;"	f
eventHandler	../js/dojox/date/tests/test_DateTextBoxNewHebrewGreg.html	/^			function eventHandler(e){$/;"	f
events	../js/dijit/tests/test_Declaration.html	/^				function events(){$/;"	f
every	../js/dojo/tests/_base/NodeList.html	/^						function every(){$/;"	f
everyTest	../js/dijit/tests/_base/manager.html	/^					function everyTest(t){$/;"	f
executor	../js/dojox/json/query.js	/^		var executor = eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return " + query + "}");$/;"	v
executorLoaded	../js/dojox/calc/tests/test_Executor.html	/^	function executorLoaded(){$/;"	f
expand	../js/dojo/tests/window/viewport.html	/^					function expand(t){$/;"	f
expandSelected	../js/dojox/grid/tests/test_treegrid_lazyloading.html	/^			function expandSelected(){$/;"	f
expandedNodesTextDirTest	../js/dijit/tests/_BidiSupport/tree/ProgrammaticTree.html	/^				function expandedNodesTextDirTest(tree, textDir){$/;"	f
expectDjConfig	../js/dojo/tests/_base/loader/config.html	/^		function expectDjConfig(t) {$/;"	f
expectDojoConfig	../js/dojo/tests/_base/loader/config-sniff-djConfig.html	/^					function expectDojoConfig(t) {$/;"	f
expectDojoConfig	../js/dojo/tests/_base/loader/config-sniff.html	/^					function expectDojoConfig(t) {$/;"	f
expectDojoConfig	../js/dojo/tests/_base/loader/config.html	/^		function expectDojoConfig(t) {$/;"	f
expectDojoConfig	../js/dojo/tests/_base/loader/configApi.html	/^					function expectDojoConfig(t) {$/;"	f
expectRequireConfig	../js/dojo/tests/_base/loader/config.html	/^		function expectRequireConfig(t) {$/;"	f
exportCSV	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function exportCSV(){$/;"	f
exportCSV	../js/dojox/grid/tests/enhanced/test_enhanced_grid_print_export.html	/^		function exportCSV(){$/;"	f
exportSelected	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function exportSelected(){$/;"	f
exportSelected	../js/dojox/grid/tests/enhanced/test_enhanced_grid_print_export.html	/^		function exportSelected(){$/;"	f
exportTable	../js/dojox/grid/tests/enhanced/test_enhanced_grid_print_export.html	/^		function exportTable(){$/;"	f
exports.config	../js/dojo/_base/configNode.js	/^exports.config = function(config){$/;"	f
exports.config.hasCache.dojo-dom-ready-api	../js/dojo/_base/configNode.js	/^		"dojo-dom-ready-api":0,$/;"	p
exports.config.hasCache.dojo-has-api	../js/dojo/_base/configNode.js	/^		"dojo-has-api":1,$/;"	p
exports.config.hasCache.dojo-inject-api	../js/dojo/_base/configNode.js	/^		"dojo-inject-api":1,$/;"	p
exports.config.hasCache.dojo-loader	../js/dojo/_base/configNode.js	/^		"dojo-loader":1,$/;"	p
exports.config.hasCache.dojo-publish-privates	../js/dojo/_base/configNode.js	/^		"dojo-publish-privates":1,$/;"	p
exports.config.hasCache.dojo-sniff	../js/dojo/_base/configNode.js	/^		"dojo-sniff":0,$/;"	p
exports.config.hasCache.dojo-test-sniff	../js/dojo/_base/configNode.js	/^		"dojo-test-sniff":0$/;"	p
exports.config.hasCache.dojo-test-xd	../js/dojo/_base/configNode.js	/^		"dojo-test-xd":0,$/;"	p
exports.config.hasCache.dojo-timeout-api	../js/dojo/_base/configNode.js	/^		"dojo-timeout-api":0,$/;"	p
exports.config.hasCache.dojo-trace-api	../js/dojo/_base/configNode.js	/^		"dojo-trace-api":1,$/;"	p
exports.config.hasCache.dojo-xhr-factory	../js/dojo/_base/configNode.js	/^		"dojo-xhr-factory":0,$/;"	p
exports.config.hasCache.dom	../js/dojo/_base/configNode.js	/^		"dom":0,$/;"	p
exports.config.hasCache.host-browser	../js/dojo/_base/configNode.js	/^		"host-browser":0,$/;"	p
exports.config.hasCache.host-node	../js/dojo/_base/configNode.js	/^		"host-node":1,$/;"	p
exports.config.nodeConfig.baseUrl	../js/dojo/_base/configNode.js	/^		baseUrl: path.dirname(process.argv[1]),$/;"	p
extend	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
extended_range	../js/dijit/tests/_TimePicker.html	/^				function extended_range(){$/;"	f
exterminateNewAndDelete	../js/dojox/calc/_ExecutorIframe.html	/^			function exterminateNewAndDelete(text){$/;"	f
externalAppend	../js/dojox/string/tests/PerfFun.html	/^    function externalAppend(w){ g_s += w; }$/;"	f
extract	../js/util/less/index.js	/^        var extract = ctx.extract;$/;"	v
f	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	c
f	../js/dojox/jq.js	/^	var f = $.fn = $.prototype = dojo.delegate(nlProto);$/;"	v
f	../js/dojox/lang/tests/oo_mixin.js	/^		y = {c: 1, d: 2, e: 3, f: 4},$/;"	p
f	../js/util/shrinksafe/tests/8828.js	/^	var f = "The" + "Quick" + color + "Fox";$/;"	v
f._cloneNode	../js/dojox/jq.js	/^	f._cloneNode = function(\/*DOMNode*\/ src){$/;"	f
f.add	../js/dojox/jq.js	/^	f.add = function(){$/;"	f
f.andSelf	../js/dojox/jq.js	/^	f.andSelf = function(){$/;"	f
f.attr	../js/dojox/jq.js	/^	f.attr = function(name, value){$/;"	f
f.bind	../js/dojox/jq.js	/^	f.bind = function(\/*String*\/type, \/*Array||Function?*\/data, \/*Function*\/fn){$/;"	c
f.contents	../js/dojox/jq.js	/^	f.contents = function(){$/;"	c
f.css	../js/dojox/jq.js	/^	f.css = function(\/*String|Object*\/name, \/*String|Number?*\/value){$/;"	f
f.data	../js/dojox/jq.js	/^	f.data = function(\/*String*\/name, \/*String*\/value){$/;"	c
f.each	../js/dojox/jq.js	/^	f.each = function(\/*Function*\/cb){$/;"	f
f.eq	../js/dojox/jq.js	/^	f.eq = function(){$/;"	f
f.extend	../js/dojox/jq.js	/^	f.extend = function(){$/;"	f
f.find	../js/dojox/jq.js	/^	f.find = function(\/*String*\/query){$/;"	c
f.get	../js/dojox/jq.js	/^	f.get = function(\/*Number*\/index){$/;"	f
f.hasClass	../js/dojox/jq.js	/^	f.hasClass = function(\/*String*\/name){$/;"	f
f.height	../js/dojox/jq.js	/^	f.height = function(value){$/;"	f
f.hide	../js/dojox/jq.js	/^	f.hide = function(\/*String||Number*\/speed, \/*Function?*\/callback){$/;"	c
f.index	../js/dojox/jq.js	/^	f.index = function(arg){$/;"	f
f.innerHeight	../js/dojox/jq.js	/^	f.innerHeight = function(){$/;"	f
f.innerWidth	../js/dojox/jq.js	/^	f.innerWidth = function(){$/;"	f
f.is	../js/dojox/jq.js	/^	f.is = function(query){$/;"	f
f.load	../js/dojox/jq.js	/^	f.load = function(url, data, callback){$/;"	f
f.map	../js/dojox/jq.js	/^	f.map = function(\/*Function*\/callback){$/;"	f
f.not	../js/dojox/jq.js	/^	f.not = function(){$/;"	f
f.one	../js/dojox/jq.js	/^	f.one = function(\/*String*\/evtName, \/*Function*\/func){$/;"	f
f.one.oneFunc	../js/dojox/jq.js	/^		var oneFunc = function(){$/;"	f
f.outerHeight	../js/dojox/jq.js	/^	f.outerHeight = function(useMargin){$/;"	f
f.outerWidth	../js/dojox/jq.js	/^	f.outerWidth = function(useMargin){$/;"	f
f.remove	../js/dojox/jq.js	/^	f.remove = function(\/*String?*\/query){$/;"	f
f.removeAttr	../js/dojox/jq.js	/^	f.removeAttr = function(name){$/;"	c
f.removeData	../js/dojox/jq.js	/^	f.removeData = function(\/*String*\/name){$/;"	c
f.serialize	../js/dojox/jq.js	/^	f.serialize = function(){$/;"	f
f.show	../js/dojox/jq.js	/^	f.show = function(\/*String||Number*\/speed, \/*Function?*\/callback){$/;"	c
f.size	../js/dojox/jq.js	/^	f.size = function(){return this.length; };$/;"	f
f.toggle	../js/dojox/jq.js	/^	f.toggle = function(){$/;"	f
f.toggleClass	../js/dojox/jq.js	/^	f.toggleClass = function(\/*String*\/name, \/*Expression?*\/condition){$/;"	c
f.trigger	../js/dojox/jq.js	/^	f.trigger = function(\/*String*\/type, \/*Array?*\/data, \/*Function?*\/extraFunc){$/;"	c
f.triggerHandler	../js/dojox/jq.js	/^	f.triggerHandler = function(\/*String*\/type, \/*Array?*\/data, \/*Function?*\/extraFunc){$/;"	f
f.unbind	../js/dojox/jq.js	/^	f.unbind = function(\/*String*\/type, \/*Function*\/fn){$/;"	c
f.width	../js/dojox/jq.js	/^	f.width = function(value){$/;"	f
fClick	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^           function fClick(){console.log("clicked!")}$/;"	f
fClick	../js/dijit/tests/test_Menu.html	/^            function fClick(){console.log("clicked!")}$/;"	f
fadeIn	../js/dojo/tests/NodeList-fx.html	/^						function fadeIn(){$/;"	f
fadeOut	../js/dojo/tests/NodeList-fx.html	/^						function fadeOut(){$/;"	f
features	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var features = store.getFeatures();$/;"	v
features	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var features = store.getFeatures();$/;"	v
feedHandler	../js/dojox/atom/tests/widget/test_FeedViewer_local.html	/^	function feedHandler(feed,domNode){$/;"	f
fetch_externalStore	../js/dijit/tests/form/robot/_autoComplete_a11y.html	/^				function fetch_externalStore(){$/;"	f
fetch_optionTags	../js/dijit/tests/form/robot/_autoComplete_a11y.html	/^				function fetch_optionTags(){$/;"	f
fileList	../js/util/buildscripts/cldr/arrayInherit.js	/^var fileList = fileUtil.getFilteredFileList(dir, \/\\\/gregorian\\.js$\/, true);$/;"	v
fileList	../js/util/buildscripts/jslib/convertTestsToXDomain.js	/^var fileList = fileUtil.getFilteredFileList(startDir, \/\\.(html|htm)$\/, true);$/;"	v
fileList	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^var fileList = fileUtil.getFilteredFileList(srcRoot, \/\\.js$\/, true);$/;"	v
fileLists	../js/util/buildscripts/cldr/wrap.js	/^var fileLists = fileUtil.getFilteredFileList(dir, \/\\.js$\/, true, false, true)$/;"	v
fileUtil.copyDir	../js/util/buildscripts/jslib/fileUtil.js	/^fileUtil.copyDir = function(\/*String*\/srcDir, \/*String*\/destDir, \/*RegExp*\/regExpFilter, \/*boolean?*\/onlyCopyNew){$/;"	f
fileUtil.getFilteredFileList	../js/util/buildscripts/jslib/fileUtil.js	/^fileUtil.getFilteredFileList = function(\/*String*\/startDir, \/*RegExp*\/regExpFilters, \/*boolean?*\/makeUnixPaths, \/*boolean?*\/startDirIsJavaObject, \/*boolean?*\/dontRecurse){$/;"	f
fileUtil.getLineSeparator	../js/util/buildscripts/jslib/fileUtil.js	/^fileUtil.getLineSeparator = function(){$/;"	f
files	../js/dojox/mobile/themes/common/compile.js	/^var files = [];$/;"	v
filter	../js/dojo/tests/_base/NodeList.html	/^						function filter(){$/;"	f
filterScope	../js/dijit/tests/_base/manager.html	/^					function filterScope(t){$/;"	f
filterTest	../js/dijit/tests/_base/manager.html	/^					function filterTest(t){$/;"	f
findJsonpCallback	../js/dojox/jq.js	/^	function findJsonpCallback(obj){$/;"	f
findJsonpDone	../js/dojo/tests/io/scriptJsonp.js	/^function findJsonpDone(){$/;"	f
findTabDescend	../js/dijit/tests/a11y.html	/^				function findTabDescend(t){$/;"	f
findTabElements	../js/dijit/tests/a11y.html	/^				function findTabElements(t){$/;"	f
findTabNullOnEmpty	../js/dijit/tests/a11y.html	/^				function findTabNullOnEmpty(t){$/;"	f
findTabOnElementRatherThanString	../js/dijit/tests/a11y.html	/^				function findTabOnElementRatherThanString(t){$/;"	f
findTabOuterInner	../js/dijit/tests/a11y.html	/^				function findTabOuterInner(t){$/;"	f
findTabPositiveTabindex	../js/dijit/tests/a11y.html	/^				function findTabPositiveTabindex(t){$/;"	f
findTabSkipDisabled	../js/dijit/tests/a11y.html	/^				function findTabSkipDisabled(t){$/;"	f
findTabSkipMinusOneTabindex	../js/dijit/tests/a11y.html	/^				function findTabSkipMinusOneTabindex(t){$/;"	f
findTabZeroTabindex	../js/dijit/tests/a11y.html	/^				function findTabZeroTabindex(t){$/;"	f
findTargetContact	../js/dojox/xmpp/tests/test_xmppService.html	/^		   	function findTargetContact(evt) {$/;"	f
findTreeNode	../js/dijit/tests/tree/robot/Tree_dnd.js	/^function findTreeNode(\/*String*\/ treeId, \/*String*\/ label){$/;"	f
findTreeNodeByPath	../js/dijit/tests/tree/robot/Tree_dnd.js	/^function findTreeNodeByPath(\/*String*\/ treeId, \/*String[] *\/ path){$/;"	f
findWidgets	../js/dijit/tests/registry.html	/^				function findWidgets(){$/;"	f
finishInput	../js/dijit/tests/form/Form.html	/^				function finishInput(){$/;"	f
fireOnChange	../js/dijit/tests/form/robot/CheckBox_mouse.html	/^						function fireOnChange(){$/;"	f
fireOnClick	../js/dojox/mobile/tests/doh/TestUtil.js	/^function fireOnClick(obj){$/;"	f
fireOnMouseDown	../js/dojox/mobile/tests/doh/TestUtil.js	/^function fireOnMouseDown(obj){$/;"	f
fireOnMouseUp	../js/dojox/mobile/tests/doh/TestUtil.js	/^function fireOnMouseUp(obj){$/;"	f
fireTouchEvent	../js/dojox/mobile/tests/doh/TestUtil.js	/^function fireTouchEvent(eventtype, node, x, y){$/;"	f
fireTouchEvent	../js/dojox/mobile/tests/test_Slider.html	/^			function fireTouchEvent(type, widget, x, y, delay){$/;"	f
first	../js/dojo/tests/NodeList-traverse.html	/^					function first(t){$/;"	f
firstComplete	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var firstComplete = function(items, request){$/;"	f
firstComplete	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var firstComplete = function(items, request){$/;"	f
fitBoth	../js/dojox/grid/tests/test_sizing.html	/^		function fitBoth() {$/;"	f
fitBoth	../js/dojox/grid/tests/test_sizing_100rows.html	/^		function fitBoth() {$/;"	f
fitHeight	../js/dojox/grid/tests/test_sizing.html	/^		function fitHeight() {$/;"	f
fitHeight	../js/dojox/grid/tests/test_sizing_100rows.html	/^		function fitHeight() {$/;"	f
fitTest	../js/dojo/tests/_base/html_box.html	/^			function fitTest(inParent, inChild) {$/;"	f
fitTest	../js/dojo/tests/_base/html_box_quirks.html	/^			function fitTest(inParent, inChild) {$/;"	f
fitTests	../js/dojo/tests/_base/html_box.html	/^					function fitTests(t) {$/;"	f
fitTests	../js/dojo/tests/_base/html_box_quirks.html	/^					function fitTests(t) {$/;"	f
fitTestsFloat	../js/dojo/tests/_base/html_box.html	/^					function fitTestsFloat(t) {$/;"	f
fitTestsFloat	../js/dojo/tests/_base/html_box_quirks.html	/^					function fitTestsFloat(t) {$/;"	f
fitTestsOverflow	../js/dojo/tests/_base/html_box.html	/^					function fitTestsOverflow(t) {$/;"	f
fitTestsOverflow	../js/dojo/tests/_base/html_box_quirks.html	/^					function fitTestsOverflow(t) {$/;"	f
fitWidth	../js/dojox/grid/tests/test_sizing.html	/^		function fitWidth() {$/;"	f
fitWidth	../js/dojox/grid/tests/test_sizing_100rows.html	/^		function fitWidth() {$/;"	f
fixNbsp	../js/dijit/tests/form/robot/ValidationTextBox.html	/^			function fixNbsp(val){$/;"	f
fixPngIE6	../js/dojox/html/tests/test_set.html	/^		function fixPngIE6(){$/;"	f
fixPngIE6	../js/dojox/layout/tests/ContentPane.html	/^	function fixPngIE6(){$/;"	f
flashDescription	../js/dojox/flash/_base.js	/^				var flashDescription = navigator.plugins["Shockwave Flash" + swVer2].description;$/;"	v
flashLoaded	../js/dojox/flash/tests/test_flash.js	/^var flashLoaded = false;$/;"	v
flashReady	../js/dojox/flash/tests/test_flash.js	/^function flashReady(){$/;"	f
fmtCheck	../js/dojox/grid/tests/test_subgrid.html	/^		function fmtCheck(data, inRowIndex) { $/;"	f
fmtDetail	../js/dojox/grid/tests/test_subgrid.html	/^		function fmtDetail(data, inRowIndex) {$/;"	f
fn	../js/dojox/string/tests/PerfFun.html	/^              function fn(w) { s += w; }$/;"	f
folders	../js/dojox/mobile/themes/common/compile.js	/^var folders = ["..\/android", "..\/android\/dijit",$/;"	v
fontFamilyOnChange	../js/dijit/tests/form/TextBox_sizes.html	/^		function fontFamilyOnChange(fontFamily){$/;"	f
foo	../js/dojo/tests/parser/parser.html	/^				function foo(){ this.fooCalled=true; }$/;"	f
foo	../js/dojo/tests/resources/test_css.html	/^function foo(bar){$/;"	f
foo	../js/util/shrinksafe/tests/3241.js	/^result = "";$/;"	f
fooBar	../js/dojo/tests/_base/loader/requirejs/simple-badbase.html	/^                            function fooBar(t){$/;"	f
fooBar	../js/dojo/tests/_base/loader/requirejs/simple.html	/^                            function fooBar(t){$/;"	f
foobar	../js/dojo/tests/_base/loader/scope04.html	/^			function foobar(){$/;"	f
forAgain	../js/dojox/string/tests/peller.html	/^  function forAgain(){$/;"	f
forEach	../js/dojo/tests/_base/NodeList.html	/^						function forEach(){$/;"	f
forEachAgain	../js/dojox/string/tests/peller.html	/^  function forEachAgain(){$/;"	f
forEachButton	../js/dijit/tests/form/test_Button.html	/^		function forEachButton(func){$/;"	f
forEachInc	../js/dijit/tests/_base/manager.html	/^					function forEachInc(t){$/;"	f
forEachLoop	../js/dojox/string/tests/peller.html	/^  function forEachLoop() {$/;"	f
forEachReturn	../js/dijit/tests/_base/manager.html	/^					function forEachReturn(t){$/;"	f
forEachScope	../js/dijit/tests/_base/manager.html	/^					function forEachScope(t){$/;"	f
forEachTest	../js/dijit/tests/_base/manager.html	/^					function forEachTest(t){$/;"	f
forLoop	../js/dojox/string/tests/peller.html	/^  function forLoop() {$/;"	f
form1	../js/dojo/tests/parser/parser.html	/^					function form1(){$/;"	f
form2	../js/dojo/tests/parser/parser.html	/^					function form2(){$/;"	f
formIdToObject	../js/dojo/tests/_base/xhr.html	/^						function formIdToObject(t){$/;"	f
formNodeToObject	../js/dojo/tests/_base/xhr.html	/^						function formNodeToObject(t){$/;"	f
formNodeValueFromNode	../js/dojo/tests/_base/xhr.html	/^						function formNodeValueFromNode(t){$/;"	f
formSet	../js/dijit/tests/form/Form.html	/^				function formSet(){$/;"	f
formToJson	../js/dojo/tests/_base/xhr.html	/^						function formToJson(t){$/;"	f
formToJsonArr	../js/dojo/tests/_base/xhr.html	/^						function formToJsonArr(t){$/;"	f
formToObjectRadioGroup	../js/dojo/tests/_base/xhr.html	/^						function formToObjectRadioGroup(t){$/;"	f
formToObjectWithMultiSelect	../js/dojo/tests/_base/xhr.html	/^						function formToObjectWithMultiSelect(t){$/;"	f
formToQuery	../js/dojo/tests/_base/xhr.html	/^						function formToQuery(t){$/;"	f
formToQueryArr	../js/dojo/tests/_base/xhr.html	/^						function formToQueryArr(t){$/;"	f
formatCheck	../js/dojox/grid/tests/test_expand.html	/^		function formatCheck(value, inRowIndex){$/;"	f
formatCurrency	../js/dojox/grid/tests/robot/structures.js	/^formatCurrency = function(inDatum){$/;"	f
formatDate	../js/dojox/grid/tests/enhanced/support/test_layout_music.js	/^var formatDate = function(inDatum){$/;"	f
formatDate	../js/dojox/grid/tests/robot/structures.js	/^formatDate = function(inDatum){$/;"	f
formatDate	../js/dojox/grid/tests/support/yahoo_search.js	/^formatDate = function(inDatum, inRowIndex) {$/;"	f
formatDate	../js/dojox/grid/tests/yahooSearch.js	/^var formatDate = function(inDatum, inRowIndex){$/;"	f
formatDetail	../js/dojox/grid/tests/test_expand.html	/^		function formatDetail(value, inRowIndex){$/;"	f
formatDimensions	../js/dojox/grid/tests/support/yahoo_search.js	/^formatDimensions = function(inData, inRowIndex) {$/;"	f
formatImage	../js/dojox/grid/tests/support/yahoo_search.js	/^formatImage = function(inData, inRowIndex) {$/;"	f
formatImage	../js/dojox/grid/tests/yahooSearch.js	/^var formatImage = function(result){$/;"	f
formatLink	../js/dojox/grid/tests/support/yahoo_search.js	/^formatLink = function(inData, inRowIndex) {$/;"	f
formatLink	../js/dojox/grid/tests/yahooSearch.js	/^var formatLink = function(result){$/;"	f
formatMessage	../js/util/checkstyle/checkstyleReport.html	/^		function formatMessage(item) {$/;"	f
formatTime	../js/dojox/grid/tests/test_treegrid.html	/^		function formatTime(value, rowIdx){$/;"	f
formatTime	../js/dojox/grid/tests/test_treegrid_loading.html	/^		function formatTime(value, rowIdx){$/;"	f
formatTime	../js/dojox/grid/tests/test_treegrid_performance.html	/^		function formatTime(value, rowIdx){$/;"	f
formatWidgetCount	../js/dijit/tests/i18n/test_i18n.js	/^var formatWidgetCount = 0;$/;"	v
forward	../js/dijit/tests/layout/StackContainer.html	/^				function forward(){$/;"	f
found	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var found = false;$/;"	v
fruits11	../js/dojox/mobile/tests/doh/DataListTests.js	/^var fruits11, fruits12, fruits13, fruits21, fruits22, fruits23;$/;"	v
fs	../js/dijit/themes/claro/compile.js	/^var fs = require('fs'),		\/\/ file system access$/;"	v
fs	../js/dojox/mobile/themes/common/compile.js	/^var fs = require("fs");$/;"	v
func	../js/dojo/tests/_base/connectLeaks.html	/^	function func(){$/;"	f
function.flushQueue	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
function.stylize	../js/util/less/index.js	/^function stylize(str, style) {$/;"	f
function.stylize.styles.bold	../js/util/less/index.js	/^        'bold'      : [1,  22],$/;"	p
function.verifyRefDelete	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^						function verifyRefDelete(items, request){$/;"	f
functions.%	../js/util/less/functions.js	/^    '%': function (quoted \/* arg, arg, ...*\/) {$/;"	m
functions._math	../js/util/less/functions.js	/^    _math: function (fn, n) {$/;"	m
functions.alpha	../js/util/less/functions.js	/^    alpha: function (color) {$/;"	m
functions.ceil	../js/util/less/functions.js	/^    ceil: function (n) {$/;"	m
functions.darken	../js/util/less/functions.js	/^    darken: function (color, amount) {$/;"	m
functions.desaturate	../js/util/less/functions.js	/^    desaturate: function (color, amount) {$/;"	m
functions.e	../js/util/less/functions.js	/^    e: function (str) {$/;"	m
functions.escape	../js/util/less/functions.js	/^    escape: function (str) {$/;"	m
functions.fade	../js/util/less/functions.js	/^    fade: function (color, amount) {$/;"	m
functions.fadein	../js/util/less/functions.js	/^    fadein: function (color, amount) {$/;"	m
functions.fadeout	../js/util/less/functions.js	/^    fadeout: function (color, amount) {$/;"	m
functions.floor	../js/util/less/functions.js	/^    floor: function (n) {$/;"	m
functions.greyscale	../js/util/less/functions.js	/^    greyscale: function (color) {$/;"	m
functions.hsl	../js/util/less/functions.js	/^    hsl: function (h, s, l) {$/;"	m
functions.hsla	../js/util/less/functions.js	/^    hsla: function (h, s, l, a) {$/;"	m
functions.hsla.hue	../js/util/less/functions.js	/^        function hue(h) {$/;"	f
functions.hue	../js/util/less/functions.js	/^    hue: function (color) {$/;"	m
functions.lighten	../js/util/less/functions.js	/^    lighten: function (color, amount) {$/;"	m
functions.lightness	../js/util/less/functions.js	/^    lightness: function (color) {$/;"	m
functions.mix	../js/util/less/functions.js	/^    mix: function (color1, color2, weight) {$/;"	m
functions.rgb	../js/util/less/functions.js	/^    rgb: function (r, g, b) {$/;"	m
functions.rgba	../js/util/less/functions.js	/^    rgba: function (r, g, b, a) {$/;"	m
functions.round	../js/util/less/functions.js	/^    round: function (n) {$/;"	m
functions.saturate	../js/util/less/functions.js	/^    saturate: function (color, amount) {$/;"	m
functions.saturation	../js/util/less/functions.js	/^    saturation: function (color) {$/;"	m
functions.spin	../js/util/less/functions.js	/^    spin: function (color, amount) {$/;"	m
gameSummary	../js/dojox/grid/tests/test_treegrid.html	/^		function gameSummary(value, rowIdx){$/;"	f
gameSummary	../js/dojox/grid/tests/test_treegrid_loading.html	/^		function gameSummary(value, rowIdx){$/;"	f
gameSummary	../js/dojox/grid/tests/test_treegrid_performance.html	/^		function gameSummary(value, rowIdx){$/;"	f
gen4DateFormat	../js/dijit/tests/i18n/date.html	/^			function gen4DateFormat(testCases, language, locale, date, short, shortCmt, medium, mediumCmt, long, longCmt, full, fullCmt){$/;"	f
gen4DateFormat	../js/dijit/tests/i18n/digit.html	/^			function gen4DateFormat(testCases, language, locale, date, shortVal, shortCmt, mediumVal, mediumCmt, longVal, longCmt, fullVal, fullCmt){$/;"	f
gen4DateFormat	../js/dijit/tests/i18n/time.html	/^				function gen4DateFormat(testCases, language, locale, date, shortFmt, shortCmt, mediumFmt, mediumCmt, longFmt, longCmt, full, fullCmt){$/;"	f
genFormatTestCase	../js/dijit/tests/i18n/test_i18n.js	/^function genFormatTestCase(desc, dojoType, dojoAttrs, value, expValue, comment){$/;"	f
genFormatTestCases	../js/dijit/tests/i18n/test_i18n.js	/^function genFormatTestCases(title, dojoType, testCases){$/;"	f
genScrollingTestBody	../js/dojo/tests/_base/scrollingIframe.js	/^function genScrollingTestBody(){$/;"	f
genScrollingTestNodes	../js/dojo/tests/_base/scrollingIframe.js	/^function genScrollingTestNodes(hScroll, vScroll, large){$/;"	f
genValidateTestCase	../js/dijit/tests/i18n/test_i18n.js	/^function genValidateTestCase(desc, dojoType, dojoAttrs, input, value, comment, isWrong){$/;"	f
genValidateTestCases	../js/dijit/tests/i18n/test_i18n.js	/^function genValidateTestCases(title, dojoType, testCases){$/;"	f
general	../js/dijit/tests/Destroyable.html	/^		function general(){$/;"	f
general	../js/dijit/tests/editor/html.html	/^				function general(){$/;"	f
generateDom	../js/dojo/tests/parser/bench.html	/^			function generateDom(\/*String[]*\/ nodes, \/*Number*\/ fan, \/*DOMNode*\/ parent){$/;"	f
generateTest	../js/dojo/tests/window/test_scroll.html	/^			function generateTest(id, maxVal, minVal){$/;"	f
generateTestXY	../js/dojo/tests/window/test_scroll.html	/^			function generateTestXY(id, maxScrollX, maxScrollY, minScrollX, minScrollY){$/;"	f
genmodel	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^var genmodel;$/;"	v
get	../js/dojox/grid/tests/test_change_structure.html	/^		function get(inRowIndex) {$/;"	f
get	../js/dojox/grid/tests/test_expand.html	/^		function get(inRowIndex) {$/;"	f
get	../js/dojox/grid/tests/test_sizing.html	/^		function get(inRowIndex) {$/;"	f
get	../js/dojox/grid/tests/test_sizing_100rows.html	/^		function get(inRowIndex) {$/;"	f
get	../js/dojox/grid/tests/test_sizing_ResizeHandle.html	/^		function get(inRowIndex) {$/;"	f
getAllTestCases	../js/dijit/tests/i18n/test_i18n.js	/^function getAllTestCases(){$/;"	f
getBase	../js/dojox/calc/_ExecutorIframe.html	/^			function getBase(base){$/;"	f
getBaseString	../js/dojox/calc/_ExecutorIframe.html	/^	function getBaseString(whole, base, numberStr){$/;"	f
getBaseTen	../js/dojox/calc/_ExecutorIframe.html	/^			function getBaseTen(whole, numberStr, base){$/;"	f
getBgcolor	../js/dojo/tests/_base/html.html	/^						function getBgcolor(t){$/;"	f
getBlank	../js/dojox/grid/tests/test_subgrid.html	/^		function getBlank(inRowIndex){ return ""; }$/;"	f
getCellData	../js/dojox/grid/tests/yahooSearch.js	/^var getCellData = function(item, field){$/;"	f
getCenter	../js/dojox/gfx/demos/career_test.html	/^function getCenter(circle){$/;"	f
getCheck	../js/dojox/grid/tests/test_expand.html	/^		function getCheck(inRowIndex) {$/;"	f
getChildrenOfItem	../js/dijit/tests/tree/robot/Tree_dnd.js	/^function getChildrenOfItem(\/*String*\/ name){$/;"	f
getColor1	../js/dojox/mobile/tests/test_Opener-ColorPalette-lazy.html	/^		function getColor1(node, v){$/;"	f
getColor1	../js/dojox/mobile/tests/test_Opener-ColorPalette.html	/^		function getColor1(node, v){$/;"	f
getCoords	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature.html	/^		function getCoords(loc){$/;"	f
getCoords	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature_amd.html	/^		function getCoords(loc){$/;"	f
getCursorPosition	../js/util/checkstyle/checkstyleReport.html	/^		function getCursorPosition(textarea) {$/;"	f
getData	../js/dojox/charting/tests/test_fireEvent.html	/^function getData(){$/;"	f
getData	../js/dojox/jq.js	/^	var getData = function(node){$/;"	f
getDataId	../js/dojox/jq.js	/^	var getDataId = function(node){$/;"	f
getDate	../js/dojox/mobile/tests/test_Opener-DateSpinWheel-lazy.html	/^		function getDate(node, v){$/;"	f
getDate	../js/dojox/mobile/tests/test_Opener-DateSpinWheel.html	/^		function getDate(node, v){$/;"	f
getDate2	../js/dojox/mobile/tests/test_Opener-Calendar-lazy-prog.html	/^		function getDate2(node, v){$/;"	f
getDate2	../js/dojox/mobile/tests/test_Opener-Calendar-lazy.html	/^		function getDate2(node, v){$/;"	f
getDate2	../js/dojox/mobile/tests/test_Opener-Calendar.html	/^		function getDate2(node, v){$/;"	f
getDefaultRow	../js/dojox/grid/tests/test_mysql_edit.html	/^		function getDefaultRow() {$/;"	f
getDependentAxisArgs	../js/dojox/widget/DataPresentation.js	/^	var getDependentAxisArgs = function(charttype, axistype, minval, maxval){$/;"	f
getDependentAxisArgs.args.fixLower	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: true, fixLower: "major", fixUpper: "major", natural: true };$/;"	p
getDependentAxisArgs.args.fixUpper	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: true, fixLower: "major", fixUpper: "major", natural: true };$/;"	p
getDependentAxisArgs.args.natural	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: true, fixLower: "major", fixUpper: "major", natural: true };$/;"	p
getDependentAxisArgs.args.vertical	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: true, fixLower: "major", fixUpper: "major", natural: true };$/;"	p
getDetail	../js/dojox/grid/tests/test_expand.html	/^		function getDetail(inRowIndex) {$/;"	f
getDimensions	../js/dojox/grid/tests/yahooSearch.js	/^var getDimensions = function(inRowIndex, inItem){$/;"	f
getDimensions	../js/dojox/jq.js	/^	function getDimensions(\/*DOMNode*\/node, \/*String*\/type, \/*Boolean*\/usePadding, \/*Boolean*\/useBorder, \/*Boolean*\/useMargin){$/;"	f
getDispatcher	../js/dojox/lang/aspect.js	/^	var getDispatcher = function(){$/;"	f
getDuration	../js/dojox/gfx/demos/career_test.html	/^function getDuration(x1, y1, x2, y2, rate){$/;"	f
getElementsById	../js/dijit/tests/i18n/test_i18n.js	/^function getElementsById(id){$/;"	f
getEmptyWairoleRole	../js/dijit/tests/_base/wai.html	/^					function getEmptyWairoleRole(){$/;"	f
getEnclosingWidget	../js/dijit/tests/registry.html	/^				function getEnclosingWidget(){$/;"	f
getEnclosingWidgetTest	../js/dijit/tests/_base/manager.html	/^					function getEnclosingWidgetTest(t){$/;"	f
getExtension	../js/dojox/widget/tests/test_PortletInGridContainer.html	/^								function getExtension(item) {$/;"	f
getHoney	../js/dojox/widget/tests/test_Loader.html	/^		function getHoney(){$/;"	f
getIcon	../js/dijit/tests/tree/test_Tree_DnD.html	/^		function getIcon(item){$/;"	f
getIframeDocument	../js/dojo/tests/_base/html.html	/^				function getIframeDocument(\/*DOMNode*\/iframeNode){$/;"	f
getIframeSrc	../js/dojo/tests/window/test_scroll.html	/^			function getIframeSrc(id, content, doctype, rtl){$/;"	f
getImage	../js/dojox/grid/tests/yahooSearch.js	/^var getImage = function(inRowIndex, inItem){$/;"	f
getIndependentAxisArgs	../js/dojox/widget/DataPresentation.js	/^	var getIndependentAxisArgs = function(charttype, labels){$/;"	f
getIndependentAxisArgs.args.labels	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: false, labels: labels, min: 0, max: labels.length-1, majorTickStep: 1, minorTickStep: 1 };$/;"	p
getIndependentAxisArgs.args.max	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: false, labels: labels, min: 0, max: labels.length-1, majorTickStep: 1, minorTickStep: 1 };$/;"	p
getIndependentAxisArgs.args.min	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: false, labels: labels, min: 0, max: labels.length-1, majorTickStep: 1, minorTickStep: 1 };$/;"	p
getIndependentAxisArgs.args.vertical	../js/dojox/widget/DataPresentation.js	/^		var args = { vertical: false, labels: labels, min: 0, max: labels.length-1, majorTickStep: 1, minorTickStep: 1 };$/;"	p
getInput	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function getInput(str){$/;"	f
getJsonpCallback	../js/dojo/tests/io/scriptJsonp.js	/^function getJsonpCallback(url){$/;"	f
getLabels	../js/dijit/tests/form/test_Button.html	/^		function getLabels(){$/;"	f
getLink	../js/dojox/grid/tests/yahooSearch.js	/^var getLink = function(inRowIndex, inItem){$/;"	f
getMax	../js/dojox/lang/tests/async.js	/^	function getMax(a){$/;"	f
getMin	../js/dojox/lang/tests/async.js	/^	function getMin(a){$/;"	f
getMin	../js/util/docscripts/cheat/floatup.js	/^	function getMin(list){$/;"	f
getModifierObject	../js/dojox/robot/recorder.js	/^var getModifierObject = function(e){$/;"	f
getMouseButtonObject	../js/dojox/robot/recorder.js	/^var getMouseButtonObject = function(b){$/;"	f
getNamesOfChildrenOfItem	../js/dijit/tests/tree/robot/Tree_dnd.js	/^function getNamesOfChildrenOfItem(\/*String*\/ name){$/;"	f
getNativeBundle	../js/util/buildscripts/cldr/cldrUtil.js	/^function getNativeBundle(filePath){$/;"	f
getNewValue	../js/dojox/mvc/tests/doh_mvc_loan-stateful.html	/^				function getNewValue(model, prop, name, value){$/;"	f
getNewValue	../js/dojox/mvc/tests/test_mvc_new_loan-stateful.html	/^				function getNewValue(model, prop, name, value){$/;"	f
getNonNamespacedName	../js/dojox/jq.js	/^	function getNonNamespacedName(\/*String*\/evtName){$/;"	f
getOuterHTML	../js/dijit/tests/_TemplatedMixin.html	/^			function getOuterHTML(\/*DomNode*\/ node){$/;"	f
getPath	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function getPath(){$/;"	f
getPlotArgs	../js/dojox/widget/DataPresentation.js	/^	var getPlotArgs = function(charttype, axistype, animate){$/;"	f
getPlotArgs.args.hAxis	../js/dojox/widget/DataPresentation.js	/^		var args = { type: charttype, hAxis: "independent", vAxis: "dependent-" + axistype, gap: 4, lines: false, areas: false, markers: false };$/;"	p
getPlotArgs.args.type	../js/dojox/widget/DataPresentation.js	/^		var args = { type: charttype, hAxis: "independent", vAxis: "dependent-" + axistype, gap: 4, lines: false, areas: false, markers: false };$/;"	p
getPlotArgs.args.vAxis	../js/dojox/widget/DataPresentation.js	/^		var args = { type: charttype, hAxis: "independent", vAxis: "dependent-" + axistype, gap: 4, lines: false, areas: false, markers: false };$/;"	p
getPlugin	../js/dijit/tests/editor/robot/Editor_FontChoice.html	/^				function getPlugin(\/*String*\/ command){$/;"	f
getPlugin	../js/dijit/tests/editor/robot/Editor_FullScreen.html	/^				function getPlugin(\/*Editor*\/ editor){$/;"	f
getPlugin	../js/dijit/tests/editor/robot/Editor_NewPage.html	/^				function getPlugin(\/*Editor*\/ editor){$/;"	f
getPlugin	../js/dijit/tests/editor/robot/Editor_misc.html	/^				function getPlugin(\/*Editor*\/ editor, \/*String*\/ command){$/;"	f
getProgressReport	../js/dijit/tests/ProgressBar.html	/^		function getProgressReport(){$/;"	f
getRadixObject	../js/dojox/calc/_ExecutorIframe.html	/^	function getRadixObject(whole, numberStr, base){$/;"	f
getRand	../js/dojox/gfx/demos/career_test.html	/^function getRand(from, to){$/;"	f
getRand	../js/dojox/gfx/demos/circles.html	/^function getRand(from, to){$/;"	f
getRandSkewed	../js/dojox/gfx/demos/circles.html	/^function getRandSkewed(from, to){$/;"	f
getRow	../js/dojox/grid/tests/test_backwards_compatibility.html	/^		function getRow(inRowIndex){$/;"	f
getScriptUrls	../js/dojo/tests/io/scriptJsonp.js	/^function getScriptUrls(){$/;"	f
getSelected	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function getSelected(tree){$/;"	f
getSelectedContact	../js/dojox/mobile/tests/test_Opener-SearchList-async.html	/^		function getSelectedContact(node, accept){$/;"	f
getSelectedRingtone	../js/dojox/mobile/tests/test_Opener-RoundSelectList-async.html	/^		function getSelectedRingtone(node, accept){$/;"	f
getSelector	../js/dojox/robot/recorder.js	/^var getSelector = function(node){$/;"	f
getString	../js/dijit/tests/i18n/test_i18n.js	/^function getString(n){$/;"	f
getSubfield	../js/dojox/widget/DataPresentation.js	/^	var getSubfield = function(\/*Object*\/object, \/*String*\/field){$/;"	f
getTabindexDiv	../js/dojo/tests/_base/html.html	/^						function getTabindexDiv(t){$/;"	f
getTabindexInput	../js/dojo/tests/_base/html.html	/^						function getTabindexInput(t){$/;"	f
getTableString	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_with_plugin.html	/^		function getTableString(){$/;"	f
getTableString	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function getTableString(){$/;"	f
getTestSurface	../js/dojox/gfx/tests/svgweb/test_gfx.html	/^		function getTestSurface(testName, testDescription, width, height){$/;"	f
getTestSurface	../js/dojox/gfx/tests/test_gfx.html	/^		function getTestSurface(testName, testDescription, width, height){$/;"	f
getTestSurface	../js/dojox/gfx/tests/test_gfx_amd.html	/^		function getTestSurface(testName, testDescription, width, height){$/;"	f
getTestWidgets	../js/dijit/tests/_Templated-widgetsInTemplate1.x.html	/^				function getTestWidgets(testW){$/;"	f
getTestWidgets	../js/dijit/tests/_WidgetsInTemplateMixin.html	/^				function getTestWidgets(testW){$/;"	f
getType	../js/dojox/lang/docs.js	/^	var getType = function(typeDef){$/;"	f
getTypeInput	../js/dojo/tests/_base/html.html	/^						function getTypeInput(t){$/;"	f
getUnprefixedRole	../js/dijit/tests/_base/wai.html	/^					function getUnprefixedRole(){$/;"	f
getValue	../js/dijit/tests/form/_autoComplete.html	/^		function getValue(){$/;"	f
getValues	../js/dijit/tests/form/Form.html	/^					function getValues(){$/;"	f
getValues	../js/dijit/tests/form/Form.html	/^		function getValues(){$/;"	f
getValues	../js/dijit/tests/form/robot/CheckBox_mouse.html	/^					function getValues(){$/;"	f
getWaiRoleOnElementWithNoRole	../js/dijit/tests/_base/wai.html	/^					function getWaiRoleOnElementWithNoRole(){$/;"	f
getWaiState	../js/dijit/tests/_base/wai.html	/^					function getWaiState(){$/;"	f
getWaiStateOnElementWithNoState	../js/dijit/tests/_base/wai.html	/^					function getWaiStateOnElementWithNoState(){$/;"	f
getWairoleRole	../js/dijit/tests/_base/wai.html	/^					function getWairoleRole(){$/;"	f
getWithString	../js/dojo/tests/_base/html.html	/^						function getWithString(t){$/;"	f
getZeroes	../js/dojox/charting/tests/test_fireEvent.html	/^function getZeroes(){$/;"	f
getanobjectback	../js/dojo/tests/NodeList-data.html	/^					function getanobjectback(t){$/;"	f
getdata	../js/util/docscripts/tests/basic.js	/^	function getdata(file){$/;"	f
getmember	../js/util/docscripts/tests/basic.js	/^	function getmember(key, obj){$/;"	f
gfxTextPath_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/canvas/test_SurfaceGroupCanvas.html	/^					function gfxTextPath_TextDir(){$/;"	f
gfxTextPath_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/test_SurfaceGroupSvgWeb.html	/^					function gfxTextPath_TextDir(){$/;"	f
gfxTextPath_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/test_SurfaceGroup.html	/^					function gfxTextPath_TextDir(){$/;"	f
gfxText_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/canvas/test_SurfaceGroupCanvas.html	/^					function gfxText_TextDir(){$/;"	f
gfxText_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/silverlight/test_SurfaceGroupSilverlight.html	/^					function gfxText_TextDir(){$/;"	f
gfxText_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/test_SurfaceGroupSvgWeb.html	/^					function gfxText_TextDir(){$/;"	f
gfxText_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/test_SurfaceGroup.html	/^					function gfxText_TextDir(){$/;"	f
good	../js/dojo/tests/_base/connect.js	/^good = function(){$/;"	f
gotoGrid	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^function gotoGrid(){$/;"	f
gotoLine	../js/util/checkstyle/checkstyleReport.html	/^		function gotoLine(line) {$/;"	f
gotoName	../js/dojox/fx/tests/test_scroll.html	/^		function gotoName(name){$/;"	f
graph	../js/dijit/tests/editor/html.html	/^					function graph(){$/;"	f
groups_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/canvas/test_SurfaceGroupCanvas.html	/^					function groups_TextDir(){$/;"	f
groups_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/silverlight/test_SurfaceGroupSilverlight.html	/^					function groups_TextDir(){$/;"	f
groups_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/test_SurfaceGroupSvgWeb.html	/^					function groups_TextDir(){$/;"	f
groups_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/test_SurfaceGroup.html	/^					function groups_TextDir(){$/;"	f
guid	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
guidCounter	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	v
h	../js/dojo/OpenAjax.js	/^		h.registerLibrary = function(prefix, nsURL, version, extra){$/;"	m
h	../js/dojo/OpenAjax.js	/^		h.unregisterLibrary = function(prefix){$/;"	m
h	../js/util/shrinksafe/tests/8828.js	/^	var h = 4;$/;"	v
h._publish	../js/dojo/OpenAjax.js	/^		h._publish = function(tree, path, index, name, msg){$/;"	f
h._subscribe	../js/dojo/OpenAjax.js	/^		h._subscribe = function(tree, path, index, sub){$/;"	c
h._unsubscribe	../js/dojo/OpenAjax.js	/^		h._unsubscribe = function(tree, path, index, sid){$/;"	f
h.h.c	../js/dojo/OpenAjax.js	/^		h._subscriptions = { c:{}, s:[] };$/;"	p
h.libs.extraData	../js/dojo/OpenAjax.js	/^				extraData: extra$/;"	p
h.libs.namespaceURI	../js/dojo/OpenAjax.js	/^				namespaceURI: nsURL,$/;"	p
h.libs.prefix	../js/dojo/OpenAjax.js	/^				prefix: prefix,$/;"	p
h.libs.version	../js/dojo/OpenAjax.js	/^				version: version,$/;"	p
h.publish	../js/dojo/OpenAjax.js	/^		h.publish = function(name, message){$/;"	c
h.reinit	../js/dojo/OpenAjax.js	/^		h.reinit = function(){$/;"	f
h.subscribe	../js/dojo/OpenAjax.js	/^		h.subscribe = function(name, callback, scope, subscriberData, filter){$/;"	c
h.subscribe.sub.cb	../js/dojo/OpenAjax.js	/^			var sub = { scope: scope, cb: callback, fcb: filter, data: subscriberData, sid: this._subIndex++, hdl: handle };$/;"	p
h.subscribe.sub.data	../js/dojo/OpenAjax.js	/^			var sub = { scope: scope, cb: callback, fcb: filter, data: subscriberData, sid: this._subIndex++, hdl: handle };$/;"	p
h.subscribe.sub.fcb	../js/dojo/OpenAjax.js	/^			var sub = { scope: scope, cb: callback, fcb: filter, data: subscriberData, sid: this._subIndex++, hdl: handle };$/;"	p
h.subscribe.sub.scope	../js/dojo/OpenAjax.js	/^			var sub = { scope: scope, cb: callback, fcb: filter, data: subscriberData, sid: this._subIndex++, hdl: handle };$/;"	p
h.subscribe.sub.sid	../js/dojo/OpenAjax.js	/^			var sub = { scope: scope, cb: callback, fcb: filter, data: subscriberData, sid: this._subIndex++, hdl: handle };$/;"	p
h.unsubscribe	../js/dojo/OpenAjax.js	/^		h.unsubscribe = function(sub){$/;"	c
has	../js/dojo/tests/on/on.js	/^var has = dojo.require("dojo.has");$/;"	v
has.add	../js/dojo/dojo.js	/^	has.add = function(name, test, now, force){$/;"	f
hasArrayIndexBasedOnUnderscore	../js/dojox/calc/_ExecutorIframe.html	/^			function hasArrayIndexBasedOnUnderscore(text){$/;"	f
hasGetters	../js/dojox/lang/typed.js	/^	var hasGetters = jsonSchema.__defineGetter__;$/;"	v
hasQuirks	../js/dojo/tests/_base/window.html	/^		function hasQuirks(t){$/;"	f
hasUnsimplifiedPlusMinus	../js/dojox/calc/_ExecutorIframe.html	/^				function hasUnsimplifiedPlusMinus(text){$/;"	f
hashdata	../js/dojo/tests/NodeList-data.html	/^					function hashdata(t){$/;"	f
head	../js/dijit/tests/_loadTest.js	/^var head = document.documentElement.firstChild;$/;"	v
headerRegExp	../js/dojox/jq.js	/^	var headerRegExp = \/^H\\d\/i;$/;"	v
help	../js/util/buildscripts/build.js	/^function help(){$/;"	f
hideDeleteButton	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-a11y.html	/^			function hideDeleteButton(){$/;"	f
hideDeleteButton	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-sv.html	/^			function hideDeleteButton(){$/;"	f
hideDeleteButton	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable.html	/^			function hideDeleteButton(){$/;"	f
hideDeleteButton	../js/dojox/mobile/tests/test_RoundRectList-editable-sv.html	/^			function hideDeleteButton(){$/;"	f
hideDeleteButton	../js/dojox/mobile/tests/test_RoundRectList-editable.html	/^			function hideDeleteButton(){$/;"	f
hideDialog	../js/dijit/tests/form/robot/ValidationTextBox.html	/^					function hideDialog(){$/;"	f
hideDialog	../js/dijit/tests/form/test_Select.html	/^						function hideDialog(){$/;"	f
hitch	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
hsla	../js/util/less/functions.js	/^function hsla(hsla) {$/;"	f
html	../js/dojo/tests/NodeList-manipulate.html	/^					function html(t){$/;"	f
html	../js/dojox/fx/text.js	/^	var html = "";$/;"	v
html5inherited	../js/dojo/tests/parser/parser.html	/^					function html5inherited(){$/;"	f
html5withMethod	../js/dojo/tests/parser/parser.html	/^					function html5withMethod(){$/;"	f
hub	../js/dojo/tests/_base/connect.js	/^hub = function(){$/;"	f
i	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var i;$/;"	v
i	../js/dojox/grid/tests/enhanced/support/test_write_store_dnd.js	/^	var i, row, j;$/;"	v
i	../js/dojox/secure/tests/fromJson.js	/^var i, mediumDataSet = [];$/;"	v
i18n	../js/dojo/tests/_base/loader/i18n-exhaustive/i18n-test/legacyModule.js	/^	var i18n= require("dojo\/i18n");$/;"	v
i18n	../js/dojo/tests/_base/loader/requirejs/i18n/i18n.html	/^	                    function i18n(t) {$/;"	f
i18nTest.legacyModule	../js/dojo/tests/_base/loader/i18n-exhaustive/i18n-test/legacyModule.js	/^i18nTest.legacyModule = function(){$/;"	f
i18nTest.nls.legacyBundle.ROOT.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ROOT.js	/^dojo.provide("i18nTest.nls.legacyModule_ROOT");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ROOT");i18nTest.nls.legacyBundle.ROOT={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.ROOT.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers/nls/legacyModule_ROOT.js	/^dojo.provide("i18nTest.nls.legacyModule_ROOT");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ROOT");i18nTest.nls.legacyBundle.ROOT={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.ROOT.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ROOT.js	/^dojo.provide("i18nTest.nls.legacyModule_ROOT");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ROOT");i18nTest.nls.legacyBundle.ROOT={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.ROOT.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers/nls/legacyModule_ROOT.js	/^dojo.provide("i18nTest.nls.legacyModule_ROOT");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ROOT");i18nTest.nls.legacyBundle.ROOT={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.ab.abValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab.js	/^dojo.provide("i18nTest.nls.legacyModule_ab");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab");i18nTest.nls.legacyBundle.ab={"abValueOnly":"abValueOnly","legacyBundle":"legacyBundle-ab","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab.js	/^dojo.provide("i18nTest.nls.legacyModule_ab");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab");i18nTest.nls.legacyBundle.ab={"abValueOnly":"abValueOnly","legacyBundle":"legacyBundle-ab","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab.js	/^dojo.provide("i18nTest.nls.legacyModule_ab");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab");i18nTest.nls.legacyBundle.ab={"abValueOnly":"abValueOnly","legacyBundle":"legacyBundle-ab","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab_cd.abValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab-cd.js	/^dojo.provide("i18nTest.nls.legacyModule_ab-cd");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab_cd");i18nTest.nls.legacyBundle.ab_cd={"abValueOnly":"abValueOnly","legacyBundle":"legacyBundle-ab","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab_cd.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab-cd.js	/^dojo.provide("i18nTest.nls.legacyModule_ab-cd");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab_cd");i18nTest.nls.legacyBundle.ab_cd={"abValueOnly":"abValueOnly","legacyBundle":"legacyBundle-ab","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab_cd.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab-cd.js	/^dojo.provide("i18nTest.nls.legacyModule_ab-cd");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab_cd");i18nTest.nls.legacyBundle.ab_cd={"abValueOnly":"abValueOnly","legacyBundle":"legacyBundle-ab","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab_cd_ef.abCdEfValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab-cd-ef.js	/^dojo.provide("i18nTest.nls.legacyModule_ab-cd-ef");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab_cd_ef");i18nTest.nls.legacyBundle.ab_cd_ef={"abCdEfValueOnly":"abCdEfValueOnly","legacyBundle":"legacyBundle-ab-cd-ef","abValueOnly":"abValueOnly","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab_cd_ef.abValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab-cd-ef.js	/^dojo.provide("i18nTest.nls.legacyModule_ab-cd-ef");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab_cd_ef");i18nTest.nls.legacyBundle.ab_cd_ef={"abCdEfValueOnly":"abCdEfValueOnly","legacyBundle":"legacyBundle-ab-cd-ef","abValueOnly":"abValueOnly","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab_cd_ef.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab-cd-ef.js	/^dojo.provide("i18nTest.nls.legacyModule_ab-cd-ef");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab_cd_ef");i18nTest.nls.legacyBundle.ab_cd_ef={"abCdEfValueOnly":"abCdEfValueOnly","legacyBundle":"legacyBundle-ab-cd-ef","abValueOnly":"abValueOnly","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.ab_cd_ef.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_ab-cd-ef.js	/^dojo.provide("i18nTest.nls.legacyModule_ab-cd-ef");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.ab_cd_ef");i18nTest.nls.legacyBundle.ab_cd_ef={"abCdEfValueOnly":"abCdEfValueOnly","legacyBundle":"legacyBundle-ab-cd-ef","abValueOnly":"abValueOnly","rootValueOnly":"rootValueOnly"};$/;"	p
i18nTest.nls.legacyBundle.en.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers/nls/legacyModule_en.js	/^dojo.provide("i18nTest.nls.legacyModule_en");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.en");i18nTest.nls.legacyBundle.en={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.en.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers/nls/legacyModule_en.js	/^dojo.provide("i18nTest.nls.legacyModule_en");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.en");i18nTest.nls.legacyBundle.en={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.en_us.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers/nls/legacyModule_en-us.js	/^dojo.provide("i18nTest.nls.legacyModule_en-us");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.en_us");i18nTest.nls.legacyBundle.en_us={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.en_us.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers/nls/legacyModule_en-us.js	/^dojo.provide("i18nTest.nls.legacyModule_en-us");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.en_us");i18nTest.nls.legacyBundle.en_us={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.xx.legacyBundle	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_xx.js	/^dojo.provide("i18nTest.nls.legacyModule_xx");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.xx");i18nTest.nls.legacyBundle.xx={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nTest.nls.legacyBundle.xx.rootValueOnly	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/nls/legacyModule_xx.js	/^dojo.provide("i18nTest.nls.legacyModule_xx");dojo.provide("i18nTest.nls.legacyBundle");i18nTest.nls.legacyBundle._built=true;dojo.provide("i18nTest.nls.legacyBundle.xx");i18nTest.nls.legacyBundle.xx={"rootValueOnly":"rootValueOnly","legacyBundle":"legacyBundle"};$/;"	p
i18nUtil.flattenLayerFileBundles	../js/util/buildscripts/jslib/i18nUtil.js	/^i18nUtil.flattenLayerFileBundles = function(\/*String*\/fileName, \/*String*\/fileContents, \/*Object*\/kwArgs){$/;"	f
i18nUtil.setup	../js/util/buildscripts/jslib/i18nUtil.js	/^i18nUtil.setup = function(\/*Object*\/kwArgs){$/;"	f
id	../js/dojo/tests/store/DataStore.js	/^			four = {id: 4, name: "four", even: true, prime: false};$/;"	p
ident	../js/dojox/string/tests/BuilderArguments.html	/^    function ident(i) { return i; }$/;"	f
ident	../js/dojox/string/tests/BuilderPerf.html	/^    function ident(i) { return i; }$/;"	f
ident	../js/dojox/string/tests/PerfFun.html	/^    function ident(w) { return w; }$/;"	f
identifier	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					identifier:'name',$/;"	p
identifier	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					identifier:'name',$/;"	p
identifier	../js/dojox/grid/tests/enhanced/support/test_write_store_dnd.js	/^		identifier: 'id',$/;"	p
identifier	../js/dojox/grid/tests/enhanced/support/test_write_store_music.js	/^		identifier: 'id',$/;"	p
identifier	../js/dojox/grid/tests/support/test_data.js	/^		identifier: 'id',$/;"	p
identifier	../js/dojox/grid/tests/support/test_data_date.js	/^		identifier: 'id',$/;"	p
identity	../js/dojox/lang/tests/async.js	/^	function identity(x){$/;"	f
identityFunc	../js/dojox/lang/typed.js	/^	function identityFunc(obj){$/;"	f
idx	../js/util/checkstyle/checkstyleUtil.js	/^		var idx;$/;"	v
ieTrimSpaceBetweenTags	../js/dojo/tests/html/test_set.html	/^			function ieTrimSpaceBetweenTags(str){$/;"	f
ieTrimSpaceBetweenTags	../js/dojox/layout/tests/ContentPane.html	/^			function ieTrimSpaceBetweenTags(str){$/;"	f
iframe10095loaded	../js/dojo/tests/_base/html.html	/^		function iframe10095loaded() {$/;"	f
iframeDoc	../js/dojox/jq.js	/^	function iframeDoc(\/*DOMNode*\/iframeNode){$/;"	f
iframeDoc	../js/dojox/xmpp/bosh.js	/^		var iframeDoc = dojo.io.iframe.doc(iframe);$/;"	v
iframeLoaded	../js/dojo/tests/window/test_scroll.html	/^		function iframeLoaded(id){$/;"	f
iframeTest	../js/dojo/tests/_base/connectLeaks.html	/^	function iframeTest(){$/;"	f
illegal	../js/dijit/tests/_TemplatedMixin.html	/^						function illegal(t){$/;"	f
image	../js/dijit/tests/editor/html.html	/^				function image(){$/;"	f
inRect	../js/dojox/gfx/demos/career_test.html	/^function inRect(rect, crd){$/;"	f
indexOf	../js/dojo/tests/_base/NodeList.html	/^						function indexOf(){$/;"	f
init	../js/dijit/tests/form/_autoComplete.html	/^		function init(){$/;"	f
init	../js/dojo/resources/iframe_history.html	/^	function init(){$/;"	f
init	../js/dojo/tests/_base/loader/afterOnLoad.html	/^			function init(){$/;"	f
init	../js/dojo/tests/dnd/test_autoscroll.html	/^		function init(){$/;"	f
init	../js/dojo/tests/dnd/test_dnd.html	/^		function init(){$/;"	f
init	../js/dojox/atom/tests/widget/test_FeedViewer_bind.html	/^	function init(){$/;"	f
init	../js/dojox/atom/tests/widget/test_FeedViewer_bind_sync.html	/^	function init(){$/;"	f
init	../js/dojox/atom/tests/widget/test_FeedViewer_local.html	/^	function init(){$/;"	f
init	../js/dojox/charting/tests/test_themes-amd.html	/^		function init(){$/;"	f
init	../js/dojox/charting/tests/test_themes.html	/^	function init(){$/;"	f
init	../js/dojox/data/demos/demo_CssStores_combo_tree_grid.html	/^		function init() {$/;"	f
init	../js/dojox/data/demos/demo_FlickrRestStore.html	/^		function init(){$/;"	f
init	../js/dojox/data/demos/demo_FlickrStore.html	/^		function init(){$/;"	f
init	../js/dojox/data/demos/demo_OpenSearchStore.html	/^		function init(){$/;"	f
init	../js/dojox/data/demos/demo_PicasaStore.html	/^		function init(){$/;"	f
init	../js/dojox/data/tests/ml/test_HtmlStore_declaratively.html	/^	function init() {$/;"	f
init	../js/dojox/data/tests/ml/test_HtmlStore_remote.html	/^	function init() {$/;"	f
init	../js/dojox/data/tests/ml/test_HtmlTableStore_declaratively.html	/^	function init() {$/;"	f
init	../js/dojox/gauges/tests/test_AnalogGaugeWidget.html	/^	function init() {$/;"	f
init	../js/dojox/gauges/tests/test_AnalogGaugeWidgetIndicators.html	/^			function init(){$/;"	f
init	../js/dojox/gauges/tests/test_AnalogGaugeWidgetLabelPlacement.html	/^			function init(){$/;"	f
init	../js/dojox/gauges/tests/test_AnalogGaugeWidgetOrientation.html	/^			function init(){$/;"	f
init	../js/dojox/gauges/tests/test_BarGaugeWidget.html	/^	function init() {$/;"	f
init	../js/dojox/image/tests/test_Badge.html	/^		function init(){$/;"	f
init	../js/dojox/image/tests/test_Lightbox.html	/^		function init(){$/;"	f
init	../js/dojox/layout/tests/resources/script_dnd.js	/^function init(){$/;"	f
init	../js/dojox/layout/tests/test_GridContainer_in_BorderContainer_prog.html	/^			function init(){$/;"	f
init	../js/dojox/mobile/tests/auto.html	/^	function init(){$/;"	f
init	../js/dojox/mobile/tests/index.html	/^		function init(){$/;"	f
init	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^		function init(){$/;"	f
init	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function init(){$/;"	f
init	../js/dojox/rpc/demos/demo_GoogleAjax.html	/^		function init(){$/;"	f
init	../js/dojox/rpc/demos/demo_GoogleAjaxTranslate.html	/^		function init(){$/;"	f
init	../js/dojox/rpc/demos/demo_GoogleFeed.html	/^	function init(){$/;"	f
init	../js/dojox/sketch/tests/test_full.html	/^			function init(){$/;"	f
init	../js/dojox/widget/tests/test_Standby.html	/^		function init() {$/;"	f
init	../js/dojox/widget/tests/test_Standby_quirks.html	/^		function init() {$/;"	f
init	../js/dojox/widget/tests/test_Standby_rtl.html	/^		function init() {$/;"	f
init	../js/util/doh/Robot.html	/^	function init(){$/;"	f
initBackButton	../js/dojox/mobile/app/_base.js	/^	var initBackButton = function(){$/;"	f
initFlickrGallery	../js/dojox/image/tests/test_ThumbnailPicker.html	/^		function initFlickrGallery() {$/;"	f
initGfx	../js/dojox/gfx/demos/career_test.html	/^function initGfx(){$/;"	f
initGfx	../js/dojox/gfx/demos/circles.html	/^function initGfx(){$/;"	f
initGfx	../js/dojox/gfx/demos/circles2.html	/^function initGfx(){$/;"	f
initIframeMethods	../js/dojo/tests/window/test_scroll.html	/^		function initIframeMethods(iframeWin, parentWin){$/;"	f
initItemStoreGallery	../js/dojox/image/tests/test_ThumbnailPicker.html	/^		function initItemStoreGallery(){$/;"	f
initItemStoreGallery	../js/dojox/image/tests/test_ThumbnailPickerLightbox.html	/^		function initItemStoreGallery(){$/;"	f
initial	../js/dijit/tests/form/robot/DateTextBox.html	/^					function initial(){$/;"	f
initial	../js/dojo/tests/window/viewport.html	/^					function initial(t){$/;"	f
initialConditions	../js/dijit/tests/_base/popup.html	/^				function initialConditions(t){$/;"	f
initialConditions	../js/dijit/tests/editor/robot/CustomPlugin.html	/^					function initialConditions(){$/;"	f
initialConditions	../js/dijit/tests/layout/BorderContainer.html	/^				function initialConditions(){$/;"	f
initialConditions	../js/dijit/tests/layout/robot/BorderContainer_complex.html	/^					function initialConditions(){$/;"	f
initialConditions	../js/dijit/tests/layout/robot/BorderContainer_full.html	/^					function initialConditions(){$/;"	f
initialConditions	../js/dijit/tests/layout/robot/GUI.html	/^					function initialConditions(){$/;"	f
initialConditions	../js/dijit/tests/popup.html	/^				function initialConditions(t){$/;"	f
initialGerman	../js/dijit/tests/form/robot/DateTextBox.html	/^					function initialGerman(){$/;"	f
initialScroll	../js/dijit/tests/layout/TabContainer.html	/^				function initialScroll(){$/;"	f
initialState	../js/dijit/tests/form/robot/Button_a11y.html	/^					function initialState(){$/;"	f
initialValue	../js/dijit/tests/robot/Calendar_a11y.html	/^					function initialValue(){$/;"	f
initial_value	../js/dijit/tests/form/robot/Select.html	/^					function initial_value(){$/;"	f
initializeChart	../js/util/checkstyle/checkstyleReport.html	/^		function initializeChart(items) {$/;"	f
initialized	../js/dojox/lang/docs.js	/^	var initialized;$/;"	v
innerHTML	../js/dojo/tests/NodeList-manipulate.html	/^					function innerHTML(t){$/;"	f
innerText	../js/dojox/mvc/tests/helpers.js	/^function innerText(\/*DomNode*\/ node){$/;"	f
innerText	../js/dojox/mvc/tests/regression/helpers.js	/^function innerText(\/*DomNode*\/ node){$/;"	f
input1	../js/dojo/tests/parser/parser.html	/^					function input1(){$/;"	f
input2	../js/dojo/tests/parser/parser.html	/^					function input2(){$/;"	f
input3	../js/dojo/tests/parser/parser.html	/^					function input3(){$/;"	f
inputNodeValueFromId	../js/dojo/tests/_base/xhr.html	/^						function inputNodeValueFromId(t){$/;"	f
insertAfter	../js/dojo/tests/NodeList-manipulate.html	/^					function insertAfter(t){$/;"	f
insertBefore	../js/dojo/tests/NodeList-manipulate.html	/^					function insertBefore(t){$/;"	f
insertCustomers	../js/dojox/sql/demos/customers/customers.html	/^			function insertCustomers(data, i, password){$/;"	f
insertResult	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^function insertResult(index){$/;"	f
insertResult	../js/dojox/mvc/tests/regression/mobile/test_Android-repeat-data-store.html	/^			function insertResult(index){$/;"	f
insertResult	../js/dojox/mvc/tests/regression/test_mvc_search-results-ins-del.html	/^			function insertResult(index) {$/;"	f
instantiate	../js/dojo/tests/_base/NodeList.html	/^						function instantiate(){$/;"	f
intialFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var intialFetch = function(items, request){$/;"	f
intialFetch.afterNewFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var afterNewFetch = function(items, request){$/;"	f
invalidBiggerObj.address	../js/dojox/json/tests/schema.js	/^  "address" : {"street":"123 S Main St",$/;"	p
invalidBiggerObj.born	../js/dojox/json/tests/schema.js	/^  "born" : false,$/;"	p
invalidBiggerObj.gender	../js/dojox/json/tests/schema.js	/^  "gender" : "mal",$/;"	p
invalidBiggerObj.name	../js/dojox/json/tests/schema.js	/^  "name" : "John Doe",$/;"	p
invalidPrefixes	../js/util/checkstyle/checkstyleUtil.js	/^		var invalidPrefixes = ["\/\/", "\/\/\\t"];$/;"	v
invokeSearch	../js/dojox/data/demos/demo_FlickrRestStore.html	/^			function invokeSearch(){$/;"	f
invokeSearch	../js/dojox/data/demos/demo_OpenSearchStore.html	/^			function invokeSearch(){$/;"	f
invokeSearch	../js/dojox/data/demos/demo_PicasaStore.html	/^			function invokeSearch(){$/;"	f
invokers.appendChild	../js/dojox/secure/DOM.js	/^		appendChild : domChanger("appendChild",0),$/;"	p
ioArgs	../js/dojox/xmpp/bosh.js	/^		var ioArgs = dfd.ioArgs;$/;"	v
ioIframeContentArray	../js/dojo/tests/io/iframe.html	/^					function ioIframeContentArray(t){$/;"	f
ioIframeDataArray	../js/dojo/tests/request/iframe.html	/^					function ioIframeDataArray(t){$/;"	f
ioIframeGetFormJson	../js/dojo/tests/io/iframe.html	/^					function ioIframeGetFormJson(t){$/;"	f
ioIframeGetHtml	../js/dojo/tests/io/iframe.html	/^					function ioIframeGetHtml(t){$/;"	f
ioIframeGetHtml	../js/dojo/tests/request/iframe.html	/^					function ioIframeGetHtml(t){$/;"	f
ioIframeGetJavascript	../js/dojo/tests/io/iframe.html	/^					function ioIframeGetJavascript(t){$/;"	f
ioIframeGetJavascript	../js/dojo/tests/request/iframe.html	/^					function ioIframeGetJavascript(t){$/;"	f
ioIframeGetJson	../js/dojo/tests/io/iframe.html	/^					function ioIframeGetJson(t){$/;"	f
ioIframeGetJson	../js/dojo/tests/request/iframe.html	/^					function ioIframeGetJson(t){$/;"	f
ioIframeGetText	../js/dojo/tests/io/iframe.html	/^					function ioIframeGetText(t){$/;"	f
ioIframeGetText	../js/dojo/tests/request/iframe.html	/^					function ioIframeGetText(t){$/;"	f
ioIframeGetWithForm	../js/dojo/tests/request/iframe.html	/^					function ioIframeGetWithForm(t){$/;"	f
ioIframeGetXml	../js/dojo/tests/io/iframe.html	/^					function ioIframeGetXml(t){$/;"	f
ioIframeGetXml	../js/dojo/tests/request/iframe.html	/^					function ioIframeGetXml(t){$/;"	f
ioIframeNotPostJson	../js/dojo/tests/io/iframe.html	/^					function ioIframeNotPostJson(t){$/;"	f
ioIframePostFormJson	../js/dojo/tests/io/iframe.html	/^					function ioIframePostFormJson(t){$/;"	f
ioIframePostJson	../js/dojo/tests/request/iframe.html	/^					function ioIframePostJson(t){$/;"	f
ioIframePostWithoutForm	../js/dojo/tests/request/iframe.html	/^					function ioIframePostWithoutForm(t){$/;"	f
ioPublish	../js/dojo/tests/_base/xhr.html	/^						function ioPublish(t){$/;"	f
ioPublish	../js/dojo/tests/io/iframe.html	/^					function ioPublish(t){$/;"	f
ioScriptJsonp	../js/dojo/tests/io/script.html	/^					function ioScriptJsonp(t){$/;"	f
ioScriptJsonp	../js/dojox/io/tests/scriptFrame.html	/^						function ioScriptJsonp(t){$/;"	f
ioScriptJsonpTimeout	../js/dojo/tests/io/script.html	/^					function ioScriptJsonpTimeout(t){$/;"	f
ioScriptJsonpTimeout	../js/dojox/io/tests/scriptFrame.html	/^						function ioScriptJsonpTimeout(t){$/;"	f
ioScriptLoad	../js/dojo/tests/io/script.html	/^					function ioScriptLoad(t){$/;"	f
ioScriptSimple	../js/dojo/tests/io/script.html	/^					function ioScriptSimple(t){$/;"	f
is	../js/dojox/lang/tests/async.js	/^	function is(a, b, visited){$/;"	f
isAllowedRequest	../js/dojox/io/proxy/xip_server.html	/^	function isAllowedRequest(request){$/;"	f
isDescendant	../js/dojo/tests/_base/html.html	/^						function isDescendant(t){$/;"	f
isDescendantIframe	../js/dojo/tests/_base/html.html	/^						function isDescendantIframe(t){$/;"	f
isEqual	../js/dojox/gfx/tests/svgweb/test_gfx.html	/^		function isEqual(foo, bar, prefix){$/;"	f
isEqual	../js/dojox/gfx/tests/test_gfx.html	/^		function isEqual(foo, bar, prefix){$/;"	f
isEqual	../js/dojox/gfx/tests/test_gfx_amd.html	/^		function isEqual(foo, bar, prefix){$/;"	f
isFunction	../js/dojox/help/_base.js	/^			var isFunction = dojo.isFunction(item);$/;"	v
isHidden	../js/dojox/mvc/tests/helpers.js	/^function isHidden(\/*dijit._Widget || DomNode*\/ node){$/;"	f
isHidden	../js/dojox/mvc/tests/regression/helpers.js	/^function isHidden(\/*dijit._Widget || DomNode*\/ node){$/;"	f
isInputOk	../js/util/buildscripts/makeDojoJsWeb.js	/^var isInputOk = true;$/;"	v
isLoading	../js/dijit/tests/layout/ContentPane-remote.html	/^		function isLoading(domNode){$/;"	f
isLocaleAliasSrc	../js/util/buildscripts/cldr/cldrUtil.js	/^function isLocaleAliasSrc(prop, bundle){$/;"	f
isObject	../js/dojox/help/_base.js	/^			var isObject = dojo.isObject(item) && !dojo.isArray(item) && !item.nodeType;$/;"	v
isOpera	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	v
isQuirks	../js/dojo/tests/_base/scrollingIframe.js	/^var isQuirks = document.compatMode == "BackCompat";$/;"	v
isReady	../js/dojox/flash/tests/test_flash.js	/^function isReady(){$/;"	f
isRightIcon	../js/dojox/mobile/tests/index.html	/^		function isRightIcon(icon){$/;"	f
isSimpleFunction	../js/dojox/calc/_ExecutorIframe.html	/^			function isSimpleFunction(text){$/;"	f
isSimpleGrouping	../js/dojox/calc/_ExecutorIframe.html	/^			function isSimpleGrouping(text){$/;"	f
isTabNavigable	../js/dijit/tests/a11y.html	/^				function isTabNavigable(t){$/;"	f
isVisible	../js/dojox/mvc/tests/helpers.js	/^function isVisible(\/*dijit._Widget || DomNode*\/ node){$/;"	f
isVisible	../js/dojox/mvc/tests/regression/helpers.js	/^function isVisible(\/*dijit._Widget || DomNode*\/ node){$/;"	f
item	../js/dojox/help/_base.js	/^			var item = namespace[key];$/;"	v
itemEntryNum	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var itemEntryNum = newCountry[store._itemNumPropName];$/;"	v
itemSelection	../js/dijit/tests/tree/robot/Tree_selector.html	/^				function itemSelection(selector, clicker){$/;"	f
itemTreeCheckItemAcceptance	../js/dijit/tests/tree/test_Tree_DnD.html	/^		function itemTreeCheckItemAcceptance(node,source,position){$/;"	f
itemUpdate	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function itemUpdate(){$/;"	f
itemUpdate	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function itemUpdate(){$/;"	f
items	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					items: [$/;"	p
items	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					items: [$/;"	p
items	../js/dojox/grid/tests/enhanced/support/test_write_store_dnd.js	/^		items: []$/;"	p
items	../js/dojox/grid/tests/enhanced/support/test_write_store_music.js	/^		items: []$/;"	p
items	../js/dojox/grid/tests/support/test_data.js	/^		items: []$/;"	p
items	../js/dojox/grid/tests/support/test_data_date.js	/^		items: []$/;"	p
items	../js/dojox/help/_base.js	/^		var items = [];$/;"	v
iterations	../js/dojox/grid/tests/performance/_gridPerfFramework.js	/^	var iterations = 100;$/;"	v
jqMix	../js/dojox/jq.js	/^	function jqMix(obj, props){$/;"	f
jsContentHandler	../js/dojo/tests/_base/xhr.html	/^						function jsContentHandler(t){$/;"	f
jsDependencies	../js/dojox/mobile/app/_base.js	/^	var jsDependencies = [$/;"	v
jsdoc.nodes	../js/util/jsdoc/jsdoc.js	/^jsdoc = {nodes: {}};$/;"	p
jsonCFContentHandler	../js/dojo/tests/_base/xhr.html	/^						function jsonCFContentHandler(t){$/;"	f
jsonContentHandler	../js/dojo/tests/_base/xhr.html	/^						function jsonContentHandler(t){$/;"	f
jsonp	../js/dojo/tests/request/script.html	/^					function jsonp(t){$/;"	f
jsonpCancel	../js/dojo/tests/request/script.html	/^					function jsonpCancel(t){$/;"	f
jsonpTimeout	../js/dojo/tests/request/script.html	/^					function jsonpTimeout(t){$/;"	f
key	../js/dijit/tests/_HasDropDown.html	/^	function key(node, key){$/;"	f
keyDown	../js/dojox/grid/tests/test_keyboard.html	/^		function keyDown(e) {$/;"	f
keyStrokeSetup	../js/dijit/tests/form/robot/Spinner_a11y.html	/^				function keyStrokeSetup(inSpinnerId){$/;"	f
keyUpHandler	../js/dijit/tests/ProgressBar.html	/^		function keyUpHandler(){$/;"	f
keyboardSelect	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function keyboardSelect(tree, item, modifiers, k){$/;"	f
kwArgs	../js/util/buildscripts/build.js	/^var kwArgs = buildUtil.makeBuildOptions(arguments);$/;"	v
label	../js/dojox/grid/tests/enhanced/support/test_write_store_dnd.js	/^		label: 'id',$/;"	p
label	../js/dojox/grid/tests/enhanced/support/test_write_store_music.js	/^		label: 'id',$/;"	p
label	../js/dojox/grid/tests/support/test_data.js	/^		label: 'id',$/;"	p
label	../js/dojox/grid/tests/support/test_data_date.js	/^		label: 'id',$/;"	p
labels.text	../js/dojox/widget/DataPresentation.js	/^		labels[0] = {value: 0, text: ''};$/;"	p
labels.value	../js/dojox/widget/DataPresentation.js	/^		labels[0] = {value: 0, text: ''};$/;"	p
langAttr	../js/dojo/tests/parser/parser.html	/^					function langAttr(){$/;"	f
largeDataSet	../js/dojox/secure/tests/fromJson.js	/^var largeDataSet = [];$/;"	v
largeJson	../js/dojox/secure/tests/fromJson.js	/^var largeJson = dojo.toJson(largeDataSet);$/;"	v
last	../js/dojo/tests/NodeList-traverse.html	/^					function last(t){$/;"	f
lastEvent.type	../js/dojox/robot/recorder.js	/^	lastEvent={type:e.type, button:e.button};$/;"	p
lastEvent.type	../js/dojox/robot/recorder.js	/^	lastEvent={type:e.type, charCode:e.charCode, keyCode:e.keyCode};$/;"	p
lastEvent.type	../js/dojox/robot/recorder.js	/^	lastEvent={type:e.type, detail:(e.detail ? (e.detail) : (-e.wheelDelta \/ 120))};$/;"	p
lastEvent.type	../js/dojox/robot/recorder.js	/^	lastEvent={type:e.type, pageX:e.pageX, pageY:e.pageY};$/;"	p
lastEvent.type	../js/dojox/robot/recorder.js	/^var lastEvent = {type:""};$/;"	p
lastIndexOf	../js/dojo/tests/_base/NodeList.html	/^						function lastIndexOf(){$/;"	f
layer0	../js/util/buildscripts/jslib/checkBuildSize.js	/^var layer0 = buildUtil.optimizeJs(null, result[0].contents, null, "shrinksafe");$/;"	v
layoutNode	../js/dijit/tests/_base/place.html	/^						function layoutNode(node, aroundCorner, nodeCorner){$/;"	f
layoutNode	../js/dijit/tests/place.html	/^					function layoutNode(node, aroundCorner, nodeCorner){$/;"	f
layoutPriorityBC	../js/dijit/tests/layout/robot/BorderContainer_nested.html	/^					function layoutPriorityBC(){$/;"	f
leakTest	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_programmatic.html	/^			function leakTest(){$/;"	f
leakTest	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_scroll.html	/^			function leakTest(){$/;"	f
leftItemSelected	../js/dojox/mobile/tests/test_ScreenSizeAware-demo-prop.html	/^			function leftItemSelected(e){$/;"	f
leftItemSelected	../js/dojox/mobile/tests/test_ScreenSizeAware-demo-tag.html	/^			function leftItemSelected(e){$/;"	f
leftItemsLoaded	../js/dojox/mobile/tests/test_ScreenSizeAware-demo-prop.html	/^			function leftItemsLoaded(){$/;"	f
leftItemsLoaded	../js/dojox/mobile/tests/test_ScreenSizeAware-demo-tag.html	/^			function leftItemsLoaded(){$/;"	f
legacyMode	../js/dojo/dojo.js	/^	var legacyMode = 0,$/;"	v
len	../js/dojox/grid/tests/enhanced/support/test_write_store_dnd.js	/^	var len = data_list.length;$/;"	v
len	../js/dojox/grid/tests/enhanced/support/test_write_store_music.js	/^	var len = data_list.length;$/;"	v
length	../js/dijit/tests/_TemplatedMixin.html	/^						function length(){$/;"	f
lengthTest	../js/dijit/tests/_base/manager.html	/^					function lengthTest(t){$/;"	f
less	../js/dojox/mobile/themes/common/compile.js	/^var less = require("less");$/;"	v
less	../js/util/less/parser.js	/^var less, tree;$/;"	v
less.Parser	../js/util/less/parser.js	/^less.Parser = function Parser(env) {$/;"	c
less.Parser.finish	../js/util/less/parser.js	/^    var finish = function () {};$/;"	f
less.Parser.importer	../js/util/less/index.js	/^less.Parser.importer = function (file, paths, callback) {$/;"	f
less.Parser.importer	../js/util/less/parser.js	/^    less.Parser.importer = function (path, paths, callback, env) {$/;"	f
less.refresh	../js/util/less/browser.js	/^less.refresh = function (reload) {$/;"	f
less.unwatch.loadStyleSheet	../js/util/less/browser.js	/^function loadStyleSheet(sheet, callback, reload, remaining) {$/;"	f
less.unwatch.loadStyleSheet.styles.css	../js/util/less/browser.js	/^    var styles    = { css: css, timestamp: timestamp };$/;"	p
less.unwatch.loadStyleSheet.styles.timestamp	../js/util/less/browser.js	/^    var styles    = { css: css, timestamp: timestamp };$/;"	p
less.unwatch.loadStyleSheets	../js/util/less/browser.js	/^function loadStyleSheets(callback, reload) {$/;"	f
less.unwatch.loadStyles	../js/util/less/browser.js	/^function loadStyles() {$/;"	f
less.version	../js/util/less/index.js	/^    version: [1, 1, 6],$/;"	p
li	../js/dojo/tests/parser/parser.html	/^					function li(){$/;"	f
lightboxShow	../js/dojox/image/tests/test_ThumbnailPickerLightbox.html	/^			function lightboxShow(packet){$/;"	f
lineSeparator	../js/util/buildscripts/listProfileDeps.js	/^var lineSeparator = java.lang.System.getProperty("line.separator");$/;"	v
lipsum	../js/dojox/string/tests/lipsum.js	/^var lipsum = ["Lorem", "ipsum", "dolor", "sit", "amet,", "consectetuer",$/;"	v
lipsumLong	../js/dojox/string/tests/lipsum.js	/^var lipsumLong = ["sed justo bibedum ticidut. Aliquam semper vestibulum quam. Sed. Lorem ipsum dolor sit amet, consecte...", "facilisis pretium nulla. Sed semper accumsan quam. Donec vulputate auctor", "neque. Aenean arcu pede, consequat eget, molestie sed, bibendum quis,", "ante. Praesent sit amet odio ut ipsum suscipit faucibus. Vestibulum", "accumsan, nunc non adipiscing hendrerit, lorem arcu dignissim mi, vel", "blandit urna velit dictum leo. Aliquam ornare massa quis lacus.", "Cum sociis natoque penatibus et magnis dis parturient montes, nascetur", "ridiculus mus. Vivamus sit amet ligula. Pellentesque vitae nunc sed", "mauris consequat condimentum.Lorem ipsum dolor sit amet, consectetuer adipiscing elit.", "Donec in lectus eu magna consectetuer pellentesque. Donec ante. Integer", "ut turpis. Sed tincidunt consectetuer purus. Cras lacus. Nunc et", "lacus. Ut aliquet urna ut urna. Etiam vel urna. Nunc", "id diam. Fusce at purus id velit molestie pretium.Aenean vel", "sapien et justo ornare cursus. Donec facilisis. Vestibulum feugiat magna", "in nulla. Curabitur orci. Vestibulum molestie aliquet est. Sed eget", "erat non sem laoreet pellentesque. Cras at odio nec leo", "egestas blandit. Nullam at dui. Duis felis lacus, blandit non,", "consequat ut, fringilla at, est. Etiam blandit porta tellus. Etiam", "purus turpis, molestie ut, tristique eget, elementum sit amet, orci.", "Pellentesque condimentum ultrices neque. Duis dignissim. Curabitur condimentum arcu id", "sapien.Nunc diam eros, pellentesque non, lobortis et, venenatis eu, felis.", "Vestibulum vel dolor quis nunc semper consectetuer. Nullam mollis. Aenean", "molestie cursus mi. Mauris ante. In hac habitasse platea dictumst.", "Nunc sem dui, fermentum ac, luctus a, imperdiet in, neque.", "Cras mattis pretium metus. Praesent ligula mi, imperdiet eu, rutrum", "volutpat, blandit id, lectus. Duis sed mauris id lacus lacinia", "rhoncus. Vivamus ultricies sem a nisi fermentum pretium. Cras sagittis", "tempus velit. Mauris eget quam. Sed facilisis tincidunt tellus. Vestibulum", "rhoncus venenatis felis. Aliquam erat volutpat.Proin et orci at libero", "faucibus iaculis. Nam id purus. Ut aliquet, turpis id volutpat", "gravida, felis urna viverra justo, id semper nulla ligula id", "libero. Sed fringilla. Fusce vel lorem ut tortor porta tincidunt.", "Nunc arcu. Class aptent taciti sociosqu ad litora torquent per", "coubia ostra, per iceptos hymeaeos. Doec ullamcorper ate vel felis.", "Mauris quis dolor. Vestibulum ulla felis, laoreet ut, placerat at,", "malesuada et, lacus. Suspedisse eget mi id dui porttitor porttitor.", "Quisque elemetum. Sed tortor. Etiam malesuada. Cum sociis atoque peatibus", "et magis dis parturiet motes, ascetur ridiculus mus.Suspedisse euismod sagittis", "eros. uc sollicitudi. Doec ac turpis. Mauris feugiat isl vel", "ate. am isi. Etiam auctor elemetum diam. uc ut elit", "auctor ibh orare viverra. Iteger vulputate. Duis dictum justo sagittis", "tortor. Suspedisse placerat. am faucibus eros eget odio. Proi et", "lectus. uc massa ligula, vulputate eu, mattis ac, euismod ec,", "isl. ullam sit amet turpis eu ura elemetum auctor. Pelletesque", "lobortis orare justo. Suspedisse metus felis, iterdum ac, placerat at,", "frigilla mollis, erat. ullam sed odio eu mi egestas scelerisque.", "Pelletesque habitat morbi tristique seectus et etus et malesuada fames", "ac turpis egestas. Cras purus leo, aliquam eget, accumsa volutpat,", "eleifed vel, eros. I ultricies mattis turpis.Curabitur volutpat aliquam lorem.", "Sed at risus. Quisque tristique. Suspedisse mollis. I tellus quam,", "viverra eget, mollis vitae, bibedum sit amet, eim. Pelletesque frigilla", "tortor ac orci. Phasellus commodo porttitor elit. Maeceas ate orci,", "vehicula ticidut, lobortis eu, vehicula id, lorem. Quisque sapie ura,", "iaculis laoreet, digissim ac, adipiscig vitae, elit. ulla fermetum, leo", "ec posuere tempor, isi diam cursus arcu, at egestas ibh", "maga i odio. Mauris o diam sed dolor ultricies egestas.", "Aliquam erat volutpat. Quisque rhocus. ulla vitae arcu o pede", "scelerisque luctus. Pelletesque pretium massa. Fusce i leo eget eros", "fermetum ticidut. ulla velit risus, malesuada sed, auctor faucibus, porta", "sed, lacus. Aeea at eque.Doec o maga. Suspedisse cosequat orci", "sit amet velit. Ut est. Iteger sollicitudi, libero vitae gravida", "imperdiet, sem lorem tristique odio, sed pulviar tortor arcu vel", "mi. Aliquam erat volutpat. Vivamus tellus. Cras semper. Cras dictum", "dictum eros. Praeset et ulla i ulla ultricies auctor. Aeea", "tortor odio, ticidut sit amet, vestibulum id, covallis vel, pede.", "Vivamus volutpat elit i orci. Praeset arcu justo, adipiscig ac,", "commodo quis, scelerisque ac, libero. I odio ate, rutrum eu,", "aliquam vitae, ullamcorper et, sapie. Ut augue purus, pelletesque ut,", "auctor sit amet, laoreet eget, lectus. Vestibulum ate ipsum primis", "i faucibus orci luctus et ultrices posuere cubilia Curae; I", "orare, dui ac cosequat posuere, justo odio fermetum sem, eget", "covallis lacus quam o dui. Etiam mattis lacus cosectetuer pede", "veeatis eleifed. Cras quis tortor.uc libero erat, ultricies eget, ticidut", "sed, placerat eu, sapie. Cras posuere, pede ec dictum egestas,", "tortor orci faucibus lorem, eget iterdum mauris velit dapibus velit.", "ulla digissim imperdiet sapie. Ut tempus tellus. Pelletesque adipiscig varius", "tortor. Doec ligula dolor, pulviar ut, rutrum ac, dictum eget,", "diam. Sed at justo. Etiam orare scelerisque erat. am arcu.", "Iteger i orci. Fusce cosectetuer, isi o iterdum bladit, velit", "turpis codimetum tellus, i ullamcorper turpis leo at tellus. Doec", "velit. Phasellus augue. Doec et dui quis tortor fermetum eleifed.", "ulla facilisi. am veeatis suscipit ate. Aeea volutpat. Pelletesque ultricies", "accumsa orci. Pelletesque tellus diam, frigilla eu, cursus at, porta", "eget, justo.am dui. Suspedisse poteti. Vestibulum porttitor, purus a ullamcorper", "placerat, justo libero digissim augue, quis pelletesque ura tortor a", "orci. Duis eim. Aeea auctor, augue sed facilisis vulputate, ipsum", "lacus vestibulum metus, eu egestas felis diam a mauris. ulla", "imperdiet elit vel lectus. Ut ac ibh vel pede gravida", "hedrerit. Sed pelletesque, odio et eleifed cosequat, ulla ligula pretium", "ura, vel ultricies eros orci ut pede. Doec cosequat orare", "maga. Pelletesque ulla eim, bladit eget, sollicitudi ticidut, posuere vel,", "dolor. Phasellus facilisis arcu ut isi. Vivamus varius. Curabitur hedrerit,", "ligula sit amet molestie facilisis, ligula libero ultricies ulla, at", "bibedum libero dolor ticidut ibh. Doec pede tellus, pharetra pelletesque,", "euismod eget, placerat ut, dolor.Aeea mauris. Pelletesque sed ligula. Quisque", "faucibus tristique eque. Maeceas tempus auctor uc. Etiam et justo.", "Praeset ultrices odio id arcu aliquam pretium. Sed pulviar purus", "eu lorem. Suspedisse poteti. Aeea lacus. Vestibulum sit amet isi"];$/;"	v
listenForEvents	../js/dojox/rails/tests/test_rails.html	/^    function listenForEvents(expectedNode, events){$/;"	f
listenId	../js/dojox/jq.js	/^	var listenId = 1;$/;"	v
listenerUnbind	../js/dojox/jq.js	/^	function listenerUnbind(lls, evtName, evtFullName, callbackId, fn){$/;"	f
listeners	../js/dijit/tests/focus.html	/^					function listeners(){$/;"	f
listeners	../js/dojox/jq.js	/^	var listeners = [];$/;"	v
literals	../js/dojo/tests/NodeList-data.html	/^					function literals(t){$/;"	f
ll	../js/util/shrinksafe/tests/8828.js	/^	var ll = "+";$/;"	v
load	../js/dojo/tests/_base/loader/8976.html	/^function load(count){$/;"	f
load	../js/dojo/tests/request/script.html	/^					function load(t){$/;"	f
load	../js/util/buildscripts/webbuild/server/js/build.js	/^function load(\/*String*\/fileName){$/;"	f
loadArticle	../js/dojox/data/demos/demo_WikipediaStore.html	/^	function loadArticle(article){$/;"	f
loadEnd	../js/dojox/geo/openlayers/tests/test_bench.html	/^	function loadEnd(event){$/;"	f
loadFeed	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^function loadFeed(url, nodeId, emptyMsg, type) {$/;"	f
loadFeed.doAppend	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^	function doAppend(items){$/;"	f
loadFeed.query.url	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^		url: url$/;"	p
loadFeed.request.query	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^	var request = {query:query};$/;"	p
loadFile	../js/util/checkstyle/checkstyleReport.html	/^		function loadFile(file, line) {$/;"	f
loadJsonMap	../js/dojox/geo/openlayers/tests/json/test_json.html	/^		function loadJsonMap(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeDataList-auto-sv.html	/^			function loadMore(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeDataList-auto-v.html	/^			function loadMore(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeDataList-more-sv.html	/^			function loadMore(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeDataList-more-v.html	/^			function loadMore(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeStoreList-auto-sv.html	/^			function loadMore(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeStoreList-auto-v.html	/^			function loadMore(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeStoreList-more-sv.html	/^			function loadMore(){$/;"	f
loadMore	../js/dojox/mobile/tests/test_EdgeToEdgeStoreList-more-v.html	/^			function loadMore(){$/;"	f
loadPage	../js/dojox/mobile/tests/test_ProgressIndicator.html	/^			function loadPage(moveTo){$/;"	f
loadPage	../js/dojox/mobile/tests/test_dynamic-items.html	/^			function loadPage(moveTo){$/;"	f
loadPage	../js/dojox/mobile/tests/test_hash-parameter.html	/^			function loadPage(moveTo){$/;"	f
loadProvidePlugin	../js/dojo/tests/_base/loader/asyncWithDojoRequire.html	/^	function loadProvidePlugin(){$/;"	f
loadResources	../js/dojox/flash/tests/test_flash.js	/^function loadResources(){$/;"	f
loadResources	../js/dojox/mobile/app/_base.js	/^	function loadResources(resources, callback){$/;"	f
loadStart	../js/dojox/geo/openlayers/tests/test_bench.html	/^	function loadStart(event){$/;"	f
loadStyleSheet	../js/util/less/rhino.js	/^function loadStyleSheet(sheet, callback, reload, remaining) {$/;"	f
loadValues	../js/dojox/storage/demos/helloworld.html	/^      function loadValues(){$/;"	f
load_app	../js/dojox/widget/tests/demo_FisheyeList.html	/^		function load_app(id){$/;"	f
loadingDependencies	../js/dojox/mobile/app/_base.js	/^	var loadingDependencies;$/;"	v
localeAliasPaths	../js/util/buildscripts/cldr/alias.js	/^var localeAliasPaths = [];\/**\/$/;"	v
log	../js/dijit/tests/_base/popup.html	/^		function log(str){$/;"	f
log	../js/dijit/tests/popup.html	/^		function log(str){$/;"	f
log	../js/dojox/embed/tests/flash.html	/^			function log(msg){$/;"	f
log	../js/dojox/geo/openlayers/tests/test_bench.html	/^  function log(msg) {$/;"	f
log	../js/dojox/string/tests/BuilderArguments.html	/^    function log(t) {$/;"	f
log	../js/dojox/string/tests/BuilderPerf.html	/^    function log(t) {$/;"	f
log	../js/dojox/string/tests/PerfFun.html	/^    function log(t) {$/;"	f
log	../js/dojox/string/tests/peller.html	/^  function log(s) {$/;"	f
log	../js/util/buildscripts/tests/webkitHasTest.html	/^			function log(){$/;"	f
logDir	../js/util/buildscripts/cldr/alias.js	/^var logDir = arguments[1];$/;"	v
logDir	../js/util/buildscripts/cldr/arrayInherit.js	/^var logDir = arguments[1];$/;"	v
logDir	../js/util/buildscripts/cldr/specialLocale.js	/^var logDir = arguments[2];$/;"	v
logDir	../js/util/buildscripts/cldr/wrap.js	/^var logDir = arguments[1];$/;"	v
logMsg	../js/dojox/timing/tests/test_Sequence.html	/^		function logMsg(msg){$/;"	f
logStr	../js/util/buildscripts/cldr/alias.js	/^var logStr = "";$/;"	v
logStr	../js/util/buildscripts/cldr/arrayInherit.js	/^var logStr = "";$/;"	v
logStr	../js/util/buildscripts/cldr/specialLocale.js	/^var logStr = "";$/;"	v
logStr	../js/util/buildscripts/cldr/wrap.js	/^var logStr = "";$/;"	v
logStrayGlobals	../js/dijit/themes/themeTester-orig.html	/^		function logStrayGlobals(){$/;"	f
logWidgets	../js/dijit/themes/themeTester-orig.html	/^		function logWidgets(){$/;"	f
logger.ERROR	../js/util/buildscripts/jslib/logger.js	/^	ERROR: 3,$/;"	p
logger.INFO	../js/util/buildscripts/jslib/logger.js	/^	INFO: 1,$/;"	p
logger.TRACE	../js/util/buildscripts/jslib/logger.js	/^	TRACE: 0,$/;"	p
logger.WARN	../js/util/buildscripts/jslib/logger.js	/^	WARN: 2,$/;"	p
logger._print	../js/util/buildscripts/jslib/logger.js	/^	_print: function(message){$/;"	m
logger.error	../js/util/buildscripts/jslib/logger.js	/^	error: function(message){$/;"	m
logger.info	../js/util/buildscripts/jslib/logger.js	/^	info: function(message){$/;"	m
logger.level	../js/util/buildscripts/jslib/logger.js	/^	level: 0,$/;"	p
logger.logPrefix	../js/util/buildscripts/jslib/logger.js	/^	logPrefix: "",$/;"	p
logger.trace	../js/util/buildscripts/jslib/logger.js	/^	trace: function(message){$/;"	m
logger.warn	../js/util/buildscripts/jslib/logger.js	/^	warn: function(message){$/;"	m
login	../js/dojox/xmpp/tests/test_xmppService.html	/^			function login() {$/;"	f
m	../js/dojo/tests/resources/nodemod/m.js	/^var m = module.exports = exports;$/;"	v
makeBusy	../js/dojox/form/tests/test_BusyButton.html	/^			function makeBusy(id){$/;"	f
makeCircleGrid	../js/dojox/gfx/demos/circles.html	/^function makeCircleGrid(itemCount){$/;"	f
makeCircles	../js/dojox/gfx/demos/circles2.html	/^function makeCircles(){$/;"	f
makeClientUrl	../js/dojox/io/proxy/xip_server.html	/^	function makeClientUrl(cmd, message){$/;"	f
makeFloater	../js/dojox/layout/tests/test_FloatingPane.html	/^		function makeFloater() {$/;"	f
makeGrid	../js/dojox/gfx/tests/test_refproj.html	/^        function makeGrid(group, size, step, stroke){$/;"	f
makeIframe	../js/dojo/tests/window/test_scroll.html	/^			function makeIframe(id, className, style, content, doctype, rtl, srcNode){$/;"	f
makeNewSizer	../js/dojox/layout/tests/test_ResizeHandle.html	/^		function makeNewSizer(){$/;"	f
makeObjects	../js/dojox/charting/tests/test_fireEvent.html	/^function makeObjects(){$/;"	f
makeObserver	../js/dojox/secure/DOM.js	/^	function makeObserver(setter){ \/\/ we make two of these, but the setter for style nodes is different$/;"	f
makePatties	../js/dojox/gfx/demos/career_test.html	/^function makePatties(n){$/;"	f
makeShapes	../js/dojox/gfx/tests/test_fx.html	/^function makeShapes(surface){$/;"	f
makeShapes	../js/dojox/gfx/tests/test_vectortext_draw.html	/^			function makeShapes(surface){$/;"	f
makeShapes	../js/dojox/gfx/tests/test_vectortext_load.html	/^			function makeShapes(surface){$/;"	f
makeSimpleFixes	../js/util/checkstyle/checkstyleReport.html	/^		function makeSimpleFixes() {$/;"	f
makeStarShape	../js/dojox/geo/openlayers/tests/test_gfx.html	/^		function makeStarShape(r1, r2, b){$/;"	f
makeStarShape	../js/dojox/geo/openlayers/tests/test_gfx2.html	/^		function makeStarShape(r1, r2, b, start){$/;"	f
makeStarShape	../js/dojox/geo/openlayers/tests/test_gfx_amd.html	/^		function makeStarShape(r1, r2, b){$/;"	f
makeSubgridId	../js/dojox/grid/tests/test_subgrid.html	/^			function makeSubgridId(inRowIndex) {$/;"	f
makeTab	../js/dijit/tests/layout/test_TabContainer.html	/^		function makeTab(){$/;"	f
makeTriggerData	../js/dojox/jq.js	/^	function makeTriggerData(data, type){$/;"	f
makeValid	../js/dijit/tests/form/Form.html	/^				function makeValid(){$/;"	f
map	../js/dojo/tests/_base/NodeList.html	/^						function map(){$/;"	f
mapItemsToNames	../js/dijit/tests/tree/robot/Tree_dnd.js	/^function mapItemsToNames(ary){$/;"	f
mapTest	../js/dijit/tests/_base/manager.html	/^					function mapTest(t){$/;"	f
markAndSweepSubscribersTest	../js/dojo/tests/_base/connect.js	/^markAndSweepSubscribersTest = function(iterations){$/;"	f
markAndSweepTest	../js/dojo/tests/_base/connect.js	/^markAndSweepTest = function(iterations){$/;"	f
maroon	../js/dojo/tests/_base/Color.js	/^	var maroon = dojo.colorFromString("maroon").toRgba();$/;"	v
maxOnly	../js/dijit/tests/form/robot/Spinner_a11y.html	/^						function maxOnly(){$/;"	f
mediumJson	../js/dojox/secure/tests/fromJson.js	/^var mediumJson = dojo.toJson(mediumDataSet);$/;"	v
memoize1.around	../js/dojox/lang/aspect/memoizer.js	/^		around: function(key){$/;"	m
memoizeN	../js/dojox/lang/aspect/memoizer.js	/^	var memoizeN = function(\/*Function*\/keyMaker){$/;"	f
mergeCells	../js/dojox/grid/tests/enhanced/test_enhanced_grid_cellmerge.html	/^			function mergeCells(){$/;"	f
mergeCells	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function mergeCells(){$/;"	f
message	../js/dojox/help/_base.js	/^		var message = "function Loading info for " + this.__name__ + "... (watch console for result) {}";$/;"	v
message	../js/util/less/index.js	/^        var message = "";$/;"	v
messageReceived	../js/dojox/io/proxy/xip_server.html	/^	function messageReceived(encodedData){$/;"	f
minAndMax	../js/dijit/tests/form/robot/Spinner_a11y.html	/^						function minAndMax(){$/;"	f
minOnly	../js/dijit/tests/form/robot/Spinner_a11y.html	/^						function minOnly(){$/;"	f
missingCtor	../js/dojo/tests/parser/parser.html	/^					function missingCtor(){$/;"	f
mixCreateElementArgs	../js/dojo/tests/_base/html_box.html	/^			function mixCreateElementArgs(inMix, inArgs) {$/;"	f
mixCreateElementArgs	../js/dojo/tests/_base/html_box_quirks.html	/^			function mixCreateElementArgs(inMix, inArgs) {$/;"	f
mixin	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
ml	../js/util/shrinksafe/tests/8828.js	/^	var ml = "testing" +$/;"	v
mockService	../js/dojox/data/tests/ClientFilter.js	/^mockService = function(query){$/;"	f
model	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^var model = dojox.mvc.newStatefulModel({ data : names });$/;"	v
modelChange	../js/dojox/grid/tests/support/yahoo_search.js	/^modelChange = function() {$/;"	f
moreCorrelatedProperties	../js/dijit/tests/_Widget-attr.html	/^					function moreCorrelatedProperties(){$/;"	f
mouse	../js/dojo/tests/mouse.js	/^var mouse = dojo.require("dojo.mouse");$/;"	v
mouseSelect	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function mouseSelect(tree, item, modifiers, k){$/;"	f
move	../js/dojo/tests/test_touch.html	/^						function move(){$/;"	f
moveAndClick	../js/dijit/tests/_BidiSupport/form/robot/InlineEditBox.html	/^				function moveAndClick(node){$/;"	f
moveAndClick	../js/dijit/tests/robot/InlineEditBox.html	/^				function moveAndClick(node){$/;"	f
moveMe	../js/dojox/gfx3d/tests/test_drawer.html	/^function moveMe(){$/;"	f
moveToPile	../js/dojox/gfx/demos/career_test.html	/^function moveToPile(shape, bad){$/;"	f
multiDigitTabIndex	../js/dijit/tests/a11y.html	/^				function multiDigitTabIndex(){$/;"	f
multidata	../js/dojo/tests/NodeList-data.html	/^					function multidata(t){$/;"	f
multiline	../js/util/shrinksafe/tests/8828.js	/^	var multiline = "this" +$/;"	v
mustThrow	../js/dojox/lang/tests/typed.js	/^	function mustThrow(testFunc){$/;"	f
myAnchor	../js/dojox/editor/tests/testPluginsAll.html	/^				Example Anchor: <a name="myAnchor">Anchor<\/a>$/;"	a
myHandler	../js/dijit/tests/_BidiSupport/form/test_InlineEditBox.html	/^			function myHandler(newValue){$/;"	f
myHandler	../js/dijit/tests/i18n/calendar.html	/^			function myHandler(id,newValue){$/;"	f
myHandler	../js/dijit/tests/test_Calendar.html	/^			function myHandler(id,newValue){$/;"	f
myHandler	../js/dijit/tests/test_InlineEditBox.html	/^			function myHandler(newValue){$/;"	f
myHandler	../js/dijit/themes/themeTester-orig.html	/^		function myHandler(id,newValue){$/;"	f
myHandler	../js/dojo/tests/_base/loader/afterOnLoad.html	/^			function myHandler(id,newValue){$/;"	f
myHandler	../js/dojo/tests/_base/loader/scope04.html	/^			function myHandler(id,newValue){$/;"	f
myLabelFunc	../js/dijit/tests/form/_autoComplete.html	/^		function myLabelFunc(item, store){$/;"	f
myOnLoad	../js/dijit/tests/layout/ContentPaneLayout.html	/^		function myOnLoad(){$/;"	f
n2	../js/dojox/encoding/tests/compression/colors2.js	/^	var n2 = dojo.map(t, function(x){ return String.fromCharCode(x); }).join("").split("{");$/;"	v
n2	../js/dojox/encoding/tests/compression/colors3.js	/^	var n2 = dojo.map(t, function(x){ return String.fromCharCode(x); }).join("").split("{");$/;"	v
name	../js/dojo/tests/store/DataStore.js	/^			four = {id: 4, name: "four", even: true, prime: false};$/;"	p
name	../js/util/less/rhino.js	/^var name;$/;"	v
nameAttributeSurvived	../js/dijit/tests/form/Form.html	/^					function nameAttributeSurvived(){  \/\/ ticket:4753$/;"	f
names	../js/dojox/help/_base.js	/^		var names = [];$/;"	v
names.Email	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^	"Email"  : "jdoe@us.ibm.com",$/;"	p
names.First	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^	"First"  : "John",$/;"	p
names.Last	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^	"Last"   : "Doe",$/;"	p
names.Serial	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^	"Serial" : "360324",$/;"	p
names.ShipTo	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^	"ShipTo" : {$/;"	p
neitherMinNorMax	../js/dijit/tests/form/robot/Spinner_a11y.html	/^						function neitherMinNorMax(){$/;"	f
nestedBC	../js/dijit/tests/layout/robot/BorderContainer_nested.html	/^					function nestedBC(){$/;"	f
nestedItemDelete	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function nestedItemDelete(){$/;"	f
nestedItemDelete	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function nestedItemDelete(){$/;"	f
nestedItemModify	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function nestedItemModify(){$/;"	f
nestedItemModify	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function nestedItemModify(){$/;"	f
nestedLayout	../js/dijit/tests/layout/StackContainer.html	/^				function nestedLayout(){$/;"	f
newCountry	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var newCountry = store.newItem({name: "Utopia", capitol: "Perfect"});$/;"	v
newItemHandler	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var newItemHandler = function(item){$/;"	f
newMessage	../js/dojox/xmpp/tests/test_xmppService.html	/^			function newMessage(instance, jid, message) {$/;"	f
newObj	../js/dojox/lang/observable.js	/^			var newObj = clazz();$/;"	v
newSort	../js/dojox/grid/tests/enhanced/test_enhanced_grid_nestedsorting.html	/^			function newSort(){$/;"	f
next	../js/dojo/tests/NodeList-traverse.html	/^					function next(t){$/;"	f
nextAll	../js/dojo/tests/NodeList-traverse.html	/^					function nextAll(t){$/;"	f
nextIndexToAdd	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^var nextIndexToAdd = repeatmodel.data.length;$/;"	v
nextTest	../js/dojox/grid/tests/robot/DataGrid_a11y.html	/^						function nextTest(i){$/;"	f
nextTest	../js/dojox/grid/tests/robot/DataGrid_mouse.html	/^						function nextTest(i){$/;"	f
nlProto	../js/dojox/jq.js	/^	var nlProto = dojo.NodeList.prototype;$/;"	v
no-liability	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="no-liability">8. Limitation of Liability<\/a><\/b>.$/;"	a
no-warranty	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="no-warranty">7. Disclaimer of Warranty<\/a><\/b>.$/;"	a
noArgs	../js/dojo/tests/parser/parser-args.html	/^					function noArgs(){$/;"	f
noInitialValue	../js/dijit/tests/form/robot/DateTextBox.html	/^					function noInitialValue(){$/;"	f
noLangDir	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function noLangDir(){$/;"	f
noLangDir	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function noLangDir(){$/;"	f
noParse	../js/dojox/mvc/tests/doh_mvc_binding-simple.html	/^				function noParse(){$/;"	f
noParse	../js/dojox/mvc/tests/doh_mvc_sync-test.html	/^				function noParse(){$/;"	f
noParse	../js/dojox/mvc/tests/test_mvc_new_bindings-simple.html	/^			function noParse(){$/;"	f
noSingleQuote	../js/dijit/tests/editor/html.html	/^				function noSingleQuote(){$/;"	f
noSpaceAfter	../js/util/checkstyle/checkstyleUtil.js	/^var noSpaceAfter = ["catch","do","finally","for","if","switch","try","while","with"];$/;"	v
noValue	../js/dijit/tests/robot/Calendar_a11y.html	/^					function noValue(){$/;"	f
noYear	../js/dijit/tests/form/test_DateTextBox.html	/^						function noYear(){$/;"	f
nodemodule	../js/dojo/tests/resources/nodemodule.js	/^var nodemodule = module.exports = exports;$/;"	v
normalize	../js/dijit/tests/editor/robot/Editor_a11y.html	/^			function normalize(str){$/;"	f
normalize	../js/dijit/tests/editor/robot/Editor_mouse.html	/^			function normalize(str){$/;"	f
notconsole.debug	../js/util/shrinksafe/tests/stripconsole.js	/^	debug: function(arg) { result += arg; },$/;"	m
notconsole.warn	../js/util/shrinksafe/tests/stripconsole.js	/^	warn: function(arg) { result += arg; }$/;"	m
nullLengthTest	../js/dijit/tests/_base/manager.html	/^					function nullLengthTest(t){$/;"	f
numPieces	../js/dojox/fx/text.js	/^	var numPieces = 0;$/;"	v
number	../js/dojox/fx/text.js	/^	var number = 0;$/;"	v
number	../js/util/less/functions.js	/^function number(n) {$/;"	f
o.href	../js/dojox/grid/tests/support/yahoo_search.js	/^		href: inData[0],$/;"	p
obj	../js/dojo/tests/NodeList-data.html	/^					function obj(t){$/;"	f
objectToQuery	../js/dojo/tests/_base/xhr.html	/^						function objectToQuery(t){$/;"	f
objectToQueryArr	../js/dojo/tests/_base/xhr.html	/^						function objectToQueryArr(t){$/;"	f
odd	../js/dojo/tests/NodeList-traverse.html	/^					function odd(t){$/;"	f
oldDojoTypeSyntax	../js/dijit/tests/robot/Tooltip_a11y.html	/^					function oldDojoTypeSyntax(){$/;"	f
oldInterval	../js/dojox/secure/sandbox.js	/^	var oldInterval = setInterval;$/;"	v
on	../js/dojo/tests/_base/NodeList.html	/^						function on(){$/;"	f
on	../js/dojo/tests/mouse.js	/^var on = dojo.require("dojo.on");$/;"	v
on	../js/dojo/tests/on/on.js	/^var on = dojo.require("dojo.on");$/;"	v
onBeforeRow	../js/dojox/grid/tests/test_expand.html	/^		function onBeforeRow(inDataIndex, inRow) {$/;"	f
onBegin	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onBegin = function(size, requestObj){$/;"	f
onBegin	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onBegin = function(size, requestObj){$/;"	f
onBlur	../js/dijit/tests/form/AutoCompleterMixin.html	/^						function onBlur(){$/;"	f
onBlur	../js/dijit/tests/form/ExpandingTextAreaMixin.html	/^						function onBlur(){$/;"	f
onBlur	../js/dijit/tests/form/TextBoxMixin.html	/^						function onBlur(){$/;"	f
onBlur	../js/dojox/mobile/tests/test_ComboBox.html	/^						function onBlur(){$/;"	f
onBtnClicked	../js/dojox/mobile/tests/test_Button.html	/^			function onBtnClicked(){$/;"	f
onBtnClicked	../js/dojox/mobile/tests/test_dynamic-icons.html	/^				function onBtnClicked(e){$/;"	f
onBtnClicked	../js/dojox/mobile/tests/test_dynamic-items.html	/^				function onBtnClicked(e){$/;"	f
onButtonClick	../js/dojo/tests/_base/abs.html	/^			function onButtonClick(){$/;"	f
onButtonClick	../js/dojo/tests/_base/absQuirk.html	/^			function onButtonClick(){$/;"	f
onButtonClick	../js/dojox/date/tests/HebrewDateTest1.html	/^				function onButtonClick(){ \/\/from gregorian to hebrew, use pattern$/;"	f
onButtonClickAdd	../js/dojox/date/tests/HebrewDateTest1.html	/^			function onButtonClickAdd(){$/;"	f
onButtonClickDiff	../js/dojox/date/tests/HebrewDateTest1.html	/^			function onButtonClickDiff(){$/;"	f
onButtonClickH	../js/dojox/date/tests/HebrewDateTest1.html	/^				function onButtonClickH(){ \/\/from hebrew, use pattern$/;"	f
onChange	../js/dijit/tests/form/AutoCompleterMixin.html	/^						function onChange(){$/;"	f
onChange	../js/dijit/tests/form/CheckBoxMixin.html	/^						function onChange(){$/;"	f
onChange	../js/dijit/tests/form/CheckBoxMixin.html	/^						function onChange(v){$/;"	f
onChange	../js/dijit/tests/form/ExpandingTextAreaMixin.html	/^						function onChange(){$/;"	f
onChange	../js/dijit/tests/form/RadioButtonMixin.html	/^						function onChange(){$/;"	f
onChange	../js/dijit/tests/form/RadioButtonMixin.html	/^						function onChange(v){$/;"	f
onChange	../js/dijit/tests/form/TextBoxMixin.html	/^						function onChange(){$/;"	f
onChange	../js/dijit/tests/form/ToggleButtonMixin.html	/^						function onChange(){$/;"	f
onChange	../js/dijit/tests/form/ToggleButtonMixin.html	/^						function onChange(v){$/;"	f
onChange	../js/dojox/mobile/tests/test_ComboBox.html	/^						function onChange(){$/;"	f
onChange	../js/dojox/mobile/tests/test_Slider.html	/^						function onChange(v){$/;"	f
onCheck	../js/dojox/mobile/tests/test_Opener-RoundSelectList-async.html	/^		function onCheck(item, checked){$/;"	f
onCheck	../js/dojox/mobile/tests/test_Opener-SearchList-async.html	/^		function onCheck(item, checked){$/;"	f
onClick	../js/dijit/tests/form/ButtonMixin.html	/^						function onClick(){$/;"	f
onClick	../js/dojox/data/tests/stores/test_Tree_on_JsonRestStore.html	/^		function onClick(item){$/;"	f
onClick	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-a11y.html	/^			function onClick(e){$/;"	f
onClick	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-sv.html	/^			function onClick(e){$/;"	f
onClick	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable.html	/^			function onClick(e){$/;"	f
onClick	../js/dojox/mobile/tests/test_RoundRectList-editable-sv.html	/^			function onClick(e){$/;"	f
onClick	../js/dojox/mobile/tests/test_RoundRectList-editable.html	/^			function onClick(e){$/;"	f
onComplete	../js/dojox/data/demos/demo_OpenSearchStore.html	/^			function onComplete(items, request){$/;"	f
onComplete	../js/dojox/data/demos/demo_PicasaStore.html	/^			function onComplete(items, request){$/;"	f
onComplete	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onComplete = function(items, request){$/;"	f
onComplete	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onComplete = function(items, request){$/;"	f
onComplete	../js/dojox/image/tests/test_Badge.html	/^		function onComplete(items,request){$/;"	f
onComplete	../js/dojox/image/tests/test_Lightbox.html	/^		function onComplete(items,request){$/;"	f
onComplete.onCompleteAgain	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var onCompleteAgain = function(itemsAgain, requestAgain){$/;"	f
onComplete.onCompleteNewItemShallow	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var onCompleteNewItemShallow = function(items, request){$/;"	f
onComplete.onCompleteToo	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var onCompleteToo = function(itemsToo, requestToo) {$/;"	f
onCompleteAgain.revertComplete	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^						var revertComplete = function(itemsReverted, request){$/;"	f
onCompleteNewItemShallow.onCompleteNewItemDeep	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^						var onCompleteNewItemDeep = function(items, request){$/;"	f
onCompleteOne	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onCompleteOne = function(items, request){$/;"	f
onCompleteOne	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onCompleteOne = function(items, request){$/;"	f
onCompleteTwo	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onCompleteTwo = function(items, request){$/;"	f
onCompleteTwo	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onCompleteTwo = function(items, request){$/;"	f
onDelegate	../js/dojo/tests/_base/NodeList.html	/^						function onDelegate(){$/;"	f
onDelete	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-a11y.html	/^			function onDelete(e){$/;"	f
onDrop	../js/dojox/layout/tests/resources/script_dnd.js	/^function onDrop(node, target, type){$/;"	f
onDrop	../js/dojox/mdnd/tests/functionalTests/test_dnd_dndToDojo.html	/^			function onDrop(draggedNode, target, type){$/;"	f
onError	../js/dojox/data/demos/demo_OpenSearchStore.html	/^			function onError(error, request){$/;"	f
onError	../js/dojox/data/demos/demo_PicasaStore.html	/^			function onError(error, request){$/;"	f
onError	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onError = function(errData){$/;"	f
onError	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onError = function(errData){$/;"	f
onError	../js/dojox/image/tests/test_Badge.html	/^		function onError(error,request){$/;"	f
onError	../js/dojox/image/tests/test_Lightbox.html	/^		function onError(error,request){$/;"	f
onFocus	../js/dijit/tests/form/AutoCompleterMixin.html	/^						function onFocus(){$/;"	f
onFocus	../js/dijit/tests/form/ExpandingTextAreaMixin.html	/^						function onFocus(){$/;"	f
onFocus	../js/dijit/tests/form/TextBoxMixin.html	/^						function onFocus(){$/;"	f
onFocus	../js/dojox/mobile/tests/test_ComboBox.html	/^						function onFocus(){$/;"	f
onFocus	../js/dojox/mvc/tests/helpers.js	/^function onFocus(func){$/;"	f
onFocus	../js/dojox/mvc/tests/regression/helpers.js	/^function onFocus(func){$/;"	f
onFolderClick	../js/util/checkstyle/checkstyleReport.html	/^		function onFolderClick(evt) {$/;"	f
onFormSubmit	../js/dijit/tests/form/_autoComplete.html	/^		function onFormSubmit(){$/;"	f
onItem	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onItem = function(item){$/;"	f
onItem	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onItem = function(item){$/;"	f
onItem.deleteItemHandler	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var deleteItemHandler = function(item){$/;"	f
onItem.onComplete	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var onComplete = function() {$/;"	f
onItem.onItem2	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var onItem2 = function(item, request){$/;"	f
onItem.setValueHandler	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var setValueHandler = function(item, attribute, oldValue, newValue){$/;"	f
onItem1	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onItem1 = function(item1){$/;"	f
onItem1	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onItem1 = function(item1){$/;"	f
onItem1.onItem2	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var onItem2 = function(item2){$/;"	f
onItem1.onItem2	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var onItem2 = function(item2){$/;"	f
onKeydown	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-a11y.html	/^			function onKeydown(e){$/;"	f
onKeydown	../js/dojox/mobile/tests/test_IconContainer-editable-a11y.html	/^			function onKeydown(e){$/;"	f
onLoad	../js/dojox/mobile/tests/test_scrollable-no-dojo-af.html	/^	function onLoad(){$/;"	f
onLoad	../js/dojox/mobile/tests/test_scrollable-no-dojo-ah-af.html	/^	function onLoad(){$/;"	f
onLoad	../js/dojox/mobile/tests/test_scrollable-no-dojo-ah.html	/^	function onLoad(){$/;"	f
onLoad	../js/dojox/mobile/tests/test_scrollable-no-dojo.html	/^	function onLoad(){$/;"	f
onNewInvoked	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onNewInvoked = false;$/;"	v
onOut	../js/dojox/layout/tests/resources/script_dnd.js	/^function onOut(target, type, draggedNode, accept){$/;"	f
onOut	../js/dojox/mdnd/tests/functionalTests/test_dnd_dndToDojo.html	/^			function onOut(target, type, draggedNode, accept){$/;"	f
onOver	../js/dojox/layout/tests/resources/script_dnd.js	/^function onOver(target, type, draggedNode, accept){$/;"	f
onOver	../js/dojox/mdnd/tests/functionalTests/test_dnd_dndToDojo.html	/^			function onOver(target, type, draggedNode, accept){$/;"	f
onResize	../js/dijit/tests/layout/nestedStack.html	/^		function onResize(widget){$/;"	f
onScriptLoad	../js/dijit/tests/_base/multiversion.html	/^			function onScriptLoad(){$/;"	f
onSearch	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function onSearch(){$/;"	f
onSearchAll	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function onSearchAll(input){$/;"	f
onSearched	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function onSearched(resultId, rowIdx){$/;"	f
onServerLoad	../js/dojox/io/proxy/xip_server.html	/^	function onServerLoad(){$/;"	f
onStyleRow	../js/dojox/grid/tests/test_styling.html	/^		function onStyleRow(inRow) {$/;"	f
onThemeChange	../js/dojox/mobile/tests/auto.html	/^	function onThemeChange(){$/;"	f
onThemeChange	../js/dojox/mobile/tests/index.html	/^		function onThemeChange(){$/;"	f
onclick	../js/dojox/robot/recorder.js	/^var onclick = function(e){$/;"	f
one.name	../js/dojo/tests/_base/loader/requirejs/urlfetch/one.js	/^    name: "one"$/;"	p
onkeypress	../js/dojox/robot/recorder.js	/^var onkeypress = function(e){$/;"	f
onkeyup	../js/dojox/robot/recorder.js	/^var onkeyup = function(e){$/;"	f
onmousedown	../js/dojox/robot/recorder.js	/^var onmousedown = function(e){$/;"	f
onmousemove	../js/dojox/robot/recorder.js	/^var onmousemove = function(e){$/;"	f
onmouseup	../js/dojox/robot/recorder.js	/^var onmouseup = function(e){$/;"	f
onmousewheel	../js/dojox/robot/recorder.js	/^var onmousewheel = function(e){$/;"	f
oo.__mixin	../js/dojox/lang/oo/mixin.js	/^	oo.__mixin = function(target, source, decorator, filter, mixer){$/;"	f
oo.filter	../js/dojox/lang/oo/Filter.js	/^	oo.filter = function(bag, map){$/;"	f
oo.makeDecorator	../js/dojox/lang/oo/Decorator.js	/^	oo.makeDecorator = function(decorator){$/;"	f
oo.mixin	../js/dojox/lang/oo/mixin.js	/^	oo.mixin = function(target, source){$/;"	f
open	../js/dijit/tests/_HasDropDown.html	/^		function open(){$/;"	f
open2Dialogs	../js/dijit/tests/test_Dialog.html	/^		function open2Dialogs(){$/;"	f
openANode	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function openANode(){$/;"	f
openAfrica	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function openAfrica(){$/;"	f
openAround	../js/dijit/tests/_base/popup.html	/^				function openAround(){$/;"	f
openAround	../js/dijit/tests/popup.html	/^				function openAround(){$/;"	f
openAsia	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function openAsia(){$/;"	f
openBySpace	../js/dijit/tests/_HasDropDown.html	/^		function openBySpace(){$/;"	f
openChat	../js/dojox/xmpp/tests/test_xmppService.html	/^			function openChat(jid){$/;"	f
openDialog	../js/dojox/grid/tests/test_grid_dlg.html	/^        function openDialog() {$/;"	f
openEurope	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function openEurope(){$/;"	f
openKenya	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function openKenya(){$/;"	f
openNested	../js/dijit/tests/_base/popup.html	/^				function openNested(){$/;"	f
openNested	../js/dijit/tests/popup.html	/^				function openNested(){$/;"	f
oper	../js/dojox/jsonPath/query.js	/^			function oper(val){$/;"	f
options.compress	../js/dijit/themes/claro/compile.js	/^	compress: false,$/;"	p
options.optimization	../js/dijit/themes/claro/compile.js	/^	optimization: 1,$/;"	p
options.silent	../js/dijit/themes/claro/compile.js	/^	silent: false$/;"	p
optionsOnly	../js/dojo/tests/parser/parser-args.html	/^					function optionsOnly(){$/;"	f
orphan	../js/dojo/tests/_base/NodeList.html	/^						function orphan(){$/;"	f
output	../js/util/less/rhino.js	/^    var output = args[1];$/;"	v
outputFileName	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^var outputFileName = arguments[1];$/;"	v
paddingOnChange	../js/dijit/tests/form/TextBox_sizes.html	/^		function paddingOnChange(padding){$/;"	f
pageLoaded	../js/dojox/flash/tests/test_flash.js	/^var pageLoaded = false;$/;"	v
pageReady	../js/dojox/flash/tests/test_flash.js	/^function pageReady(){$/;"	f
parent	../js/dojo/tests/NodeList-traverse.html	/^					function parent(t){$/;"	f
parents	../js/dojo/tests/NodeList-traverse.html	/^					function parents(t){$/;"	f
parse	../js/dijit/tests/Bidi.html	/^				function parse(){$/;"	f
parse	../js/dijit/tests/a11y.html	/^				function parse(){$/;"	f
parse	../js/dijit/tests/editor/Editor_stylesheet.html	/^				function parse(){$/;"	f
parse	../js/dijit/tests/focus.html	/^					function parse(){$/;"	f
parse	../js/dijit/tests/layout/BorderContainer.html	/^				function parse(){$/;"	f
parse	../js/dijit/tests/layout/StackContainer.html	/^				function parse(){$/;"	f
parse	../js/dijit/tests/test_Declaration.html	/^				function parse(){$/;"	f
parse	../js/dijit/tests/test_Declaration_1.x.html	/^				function parse(){$/;"	f
parse	../js/dojo/tests/parser/parser.html	/^					function parse(){$/;"	f
parseRecursive	../js/dojox/calc/_ExecutorIframe.html	/^			function parseRecursive(text){$/;"	f
parseXML	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
partialInput	../js/dijit/tests/form/Form.html	/^				function partialInput(){$/;"	f
parts	../js/dojox/help/_base.js	/^			var parts = obj.name.split(".");$/;"	v
passed	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var passed = true;$/;"	v
passed	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var passed = true;$/;"	v
patent	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="patent">3. Grant of Patent License<\/a><\/b>.$/;"	a
path	../js/dojox/mobile/themes/common/compile.js	/^var path = require("path");$/;"	v
path	../js/util/less/index.js	/^var path = require('path'),$/;"	v
paths	../js/dojo/tests/_base/loader/requirejs/paths/paths.html	/^                    function paths(t){$/;"	f
paths	../js/dojox/jsonPath/query.js	/^			var paths=[path];$/;"	v
performanceTest	../js/dojox/data/tests/stores/JsonRestStore.js	/^performanceTest = function (){$/;"	f
performanceTest	../js/dojox/json/tests/query.js	/^function performanceTest(){$/;"	f
performancetest	../js/dijit/tests/form/test_validStatePerformance.html	/^      function performancetest(){$/;"	f
place	../js/dojo/tests/_base/NodeList.html	/^						function place(){$/;"	f
placeAsDOMNodeChild	../js/dijit/tests/_Widget-placeAt.html	/^				function placeAsDOMNodeChild(){$/;"	f
placeAsFirst	../js/dijit/tests/_Widget-placeAt.html	/^				function placeAsFirst(){$/;"	f
placeAsWidgetChild	../js/dijit/tests/_Widget-placeAt.html	/^				function placeAsWidgetChild(){$/;"	f
placeAsWidgetChildOrdered	../js/dijit/tests/_Widget-placeAt.html	/^				function placeAsWidgetChildOrdered(){$/;"	f
placeAsWidgetIdChild	../js/dijit/tests/_Widget-placeAt.html	/^				function placeAsWidgetIdChild(){$/;"	f
placeBefore	../js/dijit/tests/_Widget-placeAt.html	/^				function placeBefore(){$/;"	f
placeBeforeDomNode	../js/dijit/tests/_Widget-placeAt.html	/^				function placeBeforeDomNode(){$/;"	f
placeBeforeDomNodeId	../js/dijit/tests/_Widget-placeAt.html	/^				function placeBeforeDomNodeId(){$/;"	f
placeDivs	../js/dojo/tests/_base/html_element.html	/^						function placeDivs(t){$/;"	f
placeFirstWidget	../js/dijit/tests/_Widget-placeAt.html	/^				function placeFirstWidget(){$/;"	f
placeLastWidget	../js/dijit/tests/_Widget-placeAt.html	/^				function placeLastWidget(){$/;"	f
placeNumber	../js/dojo/tests/_base/html_element.html	/^						function placeNumber(t){$/;"	f
placeOnScreenAroundNodeB	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeB(t){$/;"	f
placeOnScreenAroundNodeBM	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeBM(t){$/;"	f
placeOnScreenAroundNodeBMR	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeBMR(t){$/;"	f
placeOnScreenAroundNodeML	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeML(t){$/;"	f
placeOnScreenAroundNodeMLB	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeMLB(t){$/;"	f
placeOnScreenAroundNodeMR	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeMR(t){$/;"	f
placeOnScreenAroundNodeMRT	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeMRT(t){$/;"	f
placeOnScreenAroundNodeT	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeT(t){$/;"	f
placeOnScreenAroundNodeTM	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeTM(t){$/;"	f
placeOnScreenAroundNodeTML	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeTML(t){$/;"	f
placeOnScreenAroundNodeTooltip	../js/dijit/tests/_base/place.html	/^					function placeOnScreenAroundNodeTooltip(t){$/;"	f
placeOnScreenTL	../js/dijit/tests/_base/place.html	/^					function placeOnScreenTL(t){$/;"	f
placeOnScreenTR	../js/dijit/tests/_base/place.html	/^					function placeOnScreenTR(t){$/;"	f
placeOnly	../js/dojo/tests/_base/html_element.html	/^						function placeOnly(t){$/;"	f
placeReplace	../js/dojo/tests/_base/html_element.html	/^						function placeReplace(t){$/;"	f
placeTable	../js/dojo/tests/_base/html_element.html	/^						function placeTable(t){$/;"	f
plain	../js/dijit/tests/place-clip.html	/^				function plain(t){$/;"	f
plaindata	../js/dojo/tests/NodeList-data.html	/^					function plaindata(t){$/;"	f
pollHash	../js/dojox/io/proxy/xip_client.html	/^	function pollHash(){$/;"	f
pollHash	../js/dojox/io/proxy/xip_server.html	/^	function pollHash(){$/;"	f
postHoney	../js/dojox/widget/tests/test_Loader.html	/^		function postHoney(){$/;"	f
prepend	../js/dojo/tests/NodeList-manipulate.html	/^					function prepend(t){$/;"	f
prependTo	../js/dojo/tests/NodeList-manipulate.html	/^					function prependTo(t){$/;"	f
press	../js/dojo/tests/test_touch.html	/^						function press(){$/;"	f
pressEnter	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function pressEnter(modifiers){$/;"	f
prev	../js/dojo/tests/NodeList-traverse.html	/^					function prev(t){$/;"	f
prevAll	../js/dojo/tests/NodeList-traverse.html	/^					function prevAll(t){$/;"	f
prevTime	../js/dojox/robot/recorder.js	/^var prevTime = null;$/;"	v
previous	../js/dijit/tests/layout/StackContainer.html	/^				function previous(){$/;"	f
prime	../js/dojo/tests/store/DataStore.js	/^			four = {id: 4, name: "four", even: true, prime: false};$/;"	p
printGrid	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function printGrid(){$/;"	f
printGrid	../js/dojox/grid/tests/enhanced/test_enhanced_grid_print_export.html	/^		function printGrid(){$/;"	f
printPreview	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function printPreview(){$/;"	f
printPreview	../js/dojox/grid/tests/enhanced/test_enhanced_grid_print_export.html	/^		function printPreview(){$/;"	f
printSelected	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function printSelected(){$/;"	f
printSelected	../js/dojox/grid/tests/enhanced/test_enhanced_grid_print_export.html	/^		function printSelected(){$/;"	f
profile.basePath	../js/util/build/examples/profile-with-code.profile.js	/^	basePath:".",$/;"	p
profile.basePath	../js/util/build/examples/relative-base-path.profile.js	/^	basePath:"."$/;"	p
profile.basePath	../js/util/build/examples/trees-dirs-files.profile.js	/^	basePath:"..\/..\/..",$/;"	p
profile.basePath	../js/util/buildscripts/profiles/webkitMobile.profile.js	/^	basePath: "..\/..\/..",$/;"	p
profile.buildTimestamp	../js/util/build/examples/profile-with-code.profile.js	/^	buildTimestamp:timestamp()$/;"	p
profile.depsDumpDotFilename	../js/util/build/examples/dojo-base-json-dot.profile.js	/^	depsDumpDotFilename:"dojo-base-json.dot",$/;"	p
profile.dotModules	../js/util/build/examples/dojo-base-json-dot.profile.js	/^	dotModules:"dojo\/_base\/json"$/;"	p
profile.layerOptimize	../js/util/buildscripts/profiles/webkitMobile.profile.js	/^	layerOptimize: "closure",$/;"	p
profile.optimize	../js/util/buildscripts/profiles/webkitMobile.profile.js	/^	optimize: "closure",$/;"	p
profile.packages	../js/util/buildscripts/profiles/webkitMobile.profile.js	/^	packages: [$/;"	p
profile.releaseDir	../js/util/build/examples/trees-dirs-files.profile.js	/^	releaseDir:".\/trees-dirs-files-ouput",$/;"	p
profile.releaseDir	../js/util/buildscripts/profiles/webkitMobile.profile.js	/^	releaseDir: "..\/webkitMobile",$/;"	p
profile.releaseName	../js/util/build/examples/trees-dirs-files.profile.js	/^	releaseName:"",$/;"	p
profile.resourceTags	../js/util/doh/doh.profile.js	/^	resourceTags: {$/;"	p
profile.someOtherProperty	../js/util/build/examples/simple1.profile.js	/^  someOtherProperty:"someOtherValue"$/;"	p
profile.someProperty	../js/util/build/examples/simple1.profile.js	/^  someProperty:"someValue",$/;"	p
profile.stripConsole	../js/util/buildscripts/profiles/webkitMobile.profile.js	/^	stripConsole: "normal",$/;"	p
profile.trees	../js/util/build/examples/trees-dirs-files.profile.js	/^	trees:[$/;"	p
profileFile	../js/util/buildscripts/listProfileDeps.js	/^var profileFile = arguments[0];$/;"	v
programatic	../js/dijit/tests/test_ColorPalette.html	/^		function programatic(){ $/;"	f
programmaticCreation	../js/dijit/tests/layout/StackContainer.html	/^				function programmaticCreation(){$/;"	f
prop	../js/dojox/lang/observable.js	/^			var prop,clazz = cache[signature];$/;"	v
properties.onEnd	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^	properties.onEnd = function(){$/;"	f
properties.opacity.end	../js/dojox/fx/text.js	/^				properties.opacity = {end: 0};$/;"	p
properties.opacity.end	../js/dojox/fx/text.js	/^				properties.opacity = {start: 0, end: 1};$/;"	p
properties.opacity.start	../js/dojox/fx/text.js	/^				properties.opacity = {start: 0, end: 1};$/;"	p
properties.top.end	../js/dojox/fx/text.js	/^			properties.top = {end: (parseFloat(piece.style.top) + coords.h * args.distance)};$/;"	p
properties.top.start	../js/dojox/fx/text.js	/^				start: (parseFloat(piece.style.top) - coords.h * args.distance),$/;"	p
props	../js/dojox/lang/observable.js	/^			var props = [], i, l;$/;"	v
provideList	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^var provideList = [];$/;"	v
provideRegExp	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^var provideRegExp = \/dojo\\.provide\\(\\".*\\"\\)\/g;$/;"	v
pseudos	../js/dojox/jq.js	/^	var pseudos = dojo.query.pseudos;$/;"	v
pushFirstScene	../js/dojox/mobile/app/_base.js	/^	var pushFirstScene = function(){$/;"	f
pushFirstScene.defaultInfo.id	../js/dojox/mobile/app/_base.js	/^			id: "com.test.app",$/;"	p
pushFirstScene.defaultInfo.initialScene	../js/dojox/mobile/app/_base.js	/^			initialScene: "main"$/;"	p
pushFirstScene.defaultInfo.version	../js/dojox/mobile/app/_base.js	/^			version: "1.0.0",$/;"	p
putFuncChar	../js/dojox/calc/_ExecutorIframe.html	/^			function putFuncChar(wholematch){$/;"	f
putInPiece	../js/dojox/calc/_ExecutorIframe.html	/^			function putInPiece(wholematch){$/;"	f
quarterSummary	../js/dojox/grid/tests/test_treegrid.html	/^		function quarterSummary(value, rowIdx){$/;"	f
quarterSummary	../js/dojox/grid/tests/test_treegrid_loading.html	/^		function quarterSummary(value, rowIdx){$/;"	f
quarterSummary	../js/dojox/grid/tests/test_treegrid_performance.html	/^		function quarterSummary(value, rowIdx){$/;"	f
query	../js/dojox/grid/tests/test_data_grid_page_cache.html	/^		function query(){$/;"	f
queryTest	../js/dojo/tests/_base/NodeList.html	/^						function queryTest(){$/;"	f
queryToObject	../js/dojo/tests/_base/xhr.html	/^						function queryToObject(t){$/;"	f
radicalOperatorParse	../js/dojox/calc/_ExecutorIframe.html	/^			function radicalOperatorParse(text){$/;"	f
radioDirectSet	../js/dijit/tests/form/Form.html	/^				function radioDirectSet(){$/;"	f
radioSet	../js/dijit/tests/form/Form.html	/^				function radioSet(){$/;"	f
randColor	../js/dojox/gfx/demos/circles.html	/^function randColor(alpha){$/;"	f
randomMessageId	../js/dijit/tests/test_TitlePane.html	/^		function randomMessageId(){$/;"	f
randomTimes	../js/dojox/lang/tests/async.js	/^	function randomTimes(n){$/;"	f
rawXhrPost	../js/dojo/tests/_base/xhr.html	/^						function rawXhrPost(t){$/;"	f
rawXhrPost	../js/dojo/tests/request/xhr.html	/^					function rawXhrPost(t){$/;"	f
readFile	../js/dijit/tests/_loadTest.js	/^var readFile = function(file){$/;"	f
readFile	../js/util/buildscripts/webbuild/server/js/build.js	/^function readFile(\/*String*\/path, \/*String?*\/encoding){$/;"	f
readTable	../js/dojox/sql/demos/customers/customers.html	/^			function readTable(){$/;"	f
ready	../js/dojo/tests/_base/loader/asyncWithDojoRequire.html	/^						function ready(){$/;"	f
reapply	../js/dojo/tests/behavior.html	/^						function reapply(t){$/;"	f
reciprocalMarginBoxTest	../js/dojo/tests/_base/html_box.html	/^			function reciprocalMarginBoxTest(inNode, inBox) {$/;"	f
reciprocalMarginBoxTest	../js/dojo/tests/_base/html_box_quirks.html	/^			function reciprocalMarginBoxTest(inNode, inBox) {$/;"	f
reciprocalTests	../js/dojo/tests/_base/html_box.html	/^					function reciprocalTests(t) {$/;"	f
reciprocalTests	../js/dojo/tests/_base/html_box_quirks.html	/^					function reciprocalTests(t) {$/;"	f
reciprocalTestsButtonChild	../js/dojo/tests/_base/html_box.html	/^					function reciprocalTestsButtonChild(t) {$/;"	f
reciprocalTestsButtonChild	../js/dojo/tests/_base/html_box_quirks.html	/^					function reciprocalTestsButtonChild(t) {$/;"	f
reciprocalTestsInline	../js/dojo/tests/_base/html_box.html	/^					function reciprocalTestsInline(t) {$/;"	f
reciprocalTestsInline	../js/dojo/tests/_base/html_box_quirks.html	/^					function reciprocalTestsInline(t) {$/;"	f
recomputeRepeatTotal	../js/dojox/mvc/tests/WidgetList_tests/doh_new-mvc_label_and_totals.html	/^				function recomputeRepeatTotal() {$/;"	f
recomputeRepeatTotal	../js/dojox/mvc/tests/doh_new-mvc_label_and_totals.html	/^				function recomputeRepeatTotal() {$/;"	f
recomputeRepeatTotal	../js/dojox/mvc/tests/test_mvc_new_label_and_totals.html	/^			function recomputeRepeatTotal() {$/;"	f
recomputeTotal	../js/dojox/mvc/tests/WidgetList_tests/doh_new-mvc_label_and_totals.html	/^				function recomputeTotal() {$/;"	f
recomputeTotal	../js/dojox/mvc/tests/doh_new-mvc_label_and_totals.html	/^				function recomputeTotal() {$/;"	f
recomputeTotal	../js/dojox/mvc/tests/test_mvc_new_label_and_totals.html	/^		function recomputeTotal() {$/;"	f
recomputeTotalAndPercentages	../js/dojox/mvc/tests/doh_mvc_loan-stateful.html	/^				function recomputeTotalAndPercentages(model, name, value){$/;"	f
recomputeTotalAndPercentages	../js/dojox/mvc/tests/test_mvc_new_loan-stateful.html	/^				function recomputeTotalAndPercentages(model, name, value){$/;"	f
reconstruct	../js/dojox/gfx/tests/decompose.js	/^	var reconstruct = function(a){$/;"	f
recreateOneV1	../js/dojo/tests/_base/html_element.html	/^						function recreateOneV1(t){$/;"	f
recreateOneV2	../js/dojo/tests/_base/html_element.html	/^						function recreateOneV2(t){$/;"	f
recurse	../js/dijit/tests/editor/robot/EnterKeyHandling.html	/^				function recurse(children){$/;"	f
recurse	../js/dojo/tests/parser/parser.html	/^					function recurse(){$/;"	f
redistribution	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<div><b><a name="redistribution">4. Redistribution<\/a><\/b>.$/;"	a
refresh	../js/dojox/grid/tests/test_treegrid_lazyloading.html	/^			function refresh(flg){$/;"	f
refresh	../js/dojox/layout/tests/resources/script_dnd.js	/^function refresh(){$/;"	f
refreshChart	../js/dojox/charting/tests/BidiSupport/bidi_Pie_smart_label.html	/^			function refreshChart(){$/;"	f
refreshChart	../js/dojox/charting/tests/test_pie_smart_label.html	/^			function refreshChart(){$/;"	f
registerForNodeList	../js/dojo/tests/_base/NodeList.html	/^			function registerForNodeList(name, query, NodeList){$/;"	f
registerTests	../js/dojox/data/tests/ml/test_HtmlStore_declaratively.html	/^	function registerTests() {$/;"	f
registerTests	../js/dojox/data/tests/ml/test_HtmlStore_remote.html	/^	function registerTests() {$/;"	f
registerTests	../js/dojox/data/tests/ml/test_HtmlTableStore_declaratively.html	/^	function registerTests() {$/;"	f
regular	../js/dijit/tests/editor/html.html	/^				function regular(){$/;"	f
release	../js/dojo/tests/test_touch.html	/^						function release(){$/;"	f
remoteProgress	../js/dijit/tests/ProgressBar.html	/^		function remoteProgress(bar){$/;"	f
remove	../js/dojo/tests/NodeList-manipulate.html	/^					function remove(t){$/;"	f
remove2ndTabToEmptyTabContainer	../js/dijit/tests/layout/TabContainer.html	/^				function remove2ndTabToEmptyTabContainer(){$/;"	f
removeAll	../js/dojox/data/demos/demo_OpenSearchStore.html	/^				function removeAll(\/*NodeList*\/list){$/;"	f
removeAllWaiRole	../js/dijit/tests/_base/wai.html	/^					function removeAllWaiRole(){$/;"	f
removeAttr	../js/dojo/tests/_base/NodeList.html	/^						function removeAttr(){$/;"	f
removeData	../js/dojo/tests/NodeList-data.html	/^					function removeData(t){$/;"	f
removeDisabledFromInput	../js/dojo/tests/_base/html.html	/^						function removeDisabledFromInput(t){$/;"	f
removeDynamicTarget	../js/dijit/tests/test_Tooltip.html	/^		function removeDynamicTarget(id){$/;"	f
removeLeftPane	../js/dijit/tests/layout/BorderContainer.html	/^				function removeLeftPane(){$/;"	f
removeSelected	../js/dojox/grid/tests/test_mysql_edit.html	/^		function removeSelected(){$/;"	f
removeSelected	../js/dojox/grid/tests/test_treegrid_lazyloading.html	/^			function removeSelected(){$/;"	f
removeTabindexFromDiv	../js/dojo/tests/_base/html.html	/^						function removeTabindexFromDiv(t){$/;"	f
removeTabindexFromInput	../js/dojo/tests/_base/html.html	/^						function removeTabindexFromInput(t){$/;"	f
removeTest	../js/dojo/tests/_base/connectLeaks.html	/^	function removeTest(){$/;"	f
removeTestNode	../js/dojo/tests/_base/html_box.html	/^			function removeTestNode(inNode) {$/;"	f
removeTestNode	../js/dojo/tests/_base/html_box_quirks.html	/^			function removeTestNode(inNode) {$/;"	f
removeTopPane	../js/dijit/tests/layout/BorderContainer.html	/^				function removeTopPane(){$/;"	f
removeWaiState	../js/dijit/tests/_base/wai.html	/^					function removeWaiState(){$/;"	f
remover	../js/dojo/tests/request/notify.html	/^			function remover(){$/;"	f
renderBuddy	../js/dojox/xmpp/tests/test_xmppService.html	/^			function renderBuddy(buffer, buddy) {$/;"	f
repStr	../js/dojox/jsonPath/query.js	/^			function repStr(str){$/;"	f
repeat	../js/dojo/tests/_base/connectLeaks.html	/^	function repeat(\/*String*\/ testName, \/*Function*\/ func, \/*Number*\/ iters, \/*Date?*\/ start){$/;"	f
repeatBroil	../js/dojox/gfx/demos/career_test.html	/^function repeatBroil(){$/;"	f
repeatBurn	../js/dojox/gfx/demos/career_test.html	/^function repeatBurn(){$/;"	f
repeatCall	../js/dojox/io/tests/scriptFrameRepeat.html	/^				function repeatCall(){$/;"	f
repeatFreeze	../js/dojox/gfx/demos/career_test.html	/^function repeatFreeze(){$/;"	f
repeatFrost	../js/dojox/gfx/demos/career_test.html	/^function repeatFrost(){$/;"	f
repeatModel	../js/dojox/mvc/tests/regression/mobile/demo/src-async-store.js	/^var repeatModel, setRef, nextIndexToAdd, selectedIndex;$/;"	v
repeatModel	../js/dojox/mvc/tests/regression/mobile/demo/src-async.js	/^var repeatModel, setRef, nextIndexToAdd, selectedIndex;$/;"	v
repeatModel	../js/dojox/mvc/tests/regression/mobile/demo/src.js	/^var repeatModel, setRef, nextIndexToAdd, selectedIndex;$/;"	v
repeatMove	../js/dojox/gfx/demos/career_test.html	/^function repeatMove(){$/;"	f
repeatMoveOffScreen	../js/dijit/tests/_base/popup.html	/^					function repeatMoveOffScreen(){$/;"	f
repeatMoveOffScreen	../js/dijit/tests/popup.html	/^					function repeatMoveOffScreen(){$/;"	f
repeatmodel	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^var repeatmodel = dojox.mvc.newStatefulModel({ data : repeatData });$/;"	v
replaceAll	../js/dojo/tests/NodeList-manipulate.html	/^					function replaceAll(t){$/;"	f
replaceBinaryOp	../js/dojox/calc/_ExecutorIframe.html	/^			function replaceBinaryOp(wholeMatch, operand1, nothing1, operator, operand2){$/;"	f
replaceFuncWithNum	../js/dojox/calc/_ExecutorIframe.html	/^			function replaceFuncWithNum(wholeMatch){$/;"	f
replaceMe	../js/dijit/tests/_TemplatedMixin.html	/^					function replaceMe(){$/;"	f
replaceUnaryOp	../js/dojox/calc/_ExecutorIframe.html	/^			function replaceUnaryOp(wholeMatch, garbage, operator0, operand0){$/;"	f
replaceWith	../js/dojo/tests/NodeList-manipulate.html	/^					function replaceWith(t){$/;"	f
replaceWithNum	../js/dojox/calc/_ExecutorIframe.html	/^			function replaceWithNum(wholeMatch, partMatch1, partMatch2){$/;"	f
report	../js/dojo/tests/_base/loader/i18n-exhaustive/i18n-test/unit.html	/^		function report(result){$/;"	f
reportCell	../js/dojox/grid/tests/test_grid_tooltip_menu.html	/^		function reportCell() {$/;"	f
reportChecked	../js/dijit/tests/form/test_CheckBox.html	/^		function reportChecked(checked){$/;"	f
reportError	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var reportError = function(errData, request){$/;"	f
reportError	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var reportError = function(errData, request){$/;"	f
reportRun	../js/dojox/string/tests/BuilderArguments.html	/^    function reportRun(results){$/;"	f
reportRun	../js/dojox/string/tests/BuilderPerf.html	/^    function reportRun(results){$/;"	f
reportRun	../js/dojox/string/tests/PerfFun.html	/^    function reportRun(results){$/;"	f
reportValueChanged	../js/dijit/tests/form/test_CheckBox.html	/^		function reportValueChanged(value){$/;"	f
req	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var req = store.fetch({ onComplete: completedAll, onError: error});$/;"	v
req	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var req = store.fetch({ onComplete: completedAll, onError: error});$/;"	v
req.initSyncLoader	../js/dojo/dojo.js	/^		req.initSyncLoader = function(dojoRequirePlugin_, checkDojoRequirePlugin_, transformToAmd_){$/;"	f
requery	../js/dojox/data/demos/demo_CssStores_combo_tree_grid.html	/^			function requery() {$/;"	f
request.onBegin	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^	request.onBegin = function(numItems){};$/;"	f
requestEqualsRegistry	../js/dojo/tests/request/registry.html	/^				function requestEqualsRegistry(t){$/;"	f
requested	../js/dojo/dojo.js	/^	var	requested = 1,$/;"	v
require	../js/util/less/tree.js	/^require('.\/tree').find = function (obj, fun) {$/;"	f
requireDocs	../js/dojox/lang/docs.js	/^	var requireDocs = function(moduleName){$/;"	f
required	../js/dijit/tests/form/test_Select.html	/^						function required(){$/;"	f
requiredModules	../js/dojox/lang/docs.js	/^	var requiredModules = [];$/;"	v
resCounter	../js/dojo/tests/request/notify.html	/^			function resCounter(count, callback){$/;"	f
resetEvents	../js/dijit/tests/_base/robot/focus_mouse.html	/^				function resetEvents(){$/;"	f
resetEvents	../js/dijit/tests/focus.html	/^				function resetEvents(){$/;"	f
resetForms	../js/dojox/data/tests/stores/test_Tree_on_JsonRestStore.html	/^		function resetForms() {$/;"	f
resetTest	../js/dijit/tests/form/Form.html	/^					function resetTest(){$/;"	f
resize	../js/dijit/tests/layout/BorderContainer.html	/^				function resize(){$/;"	f
resizeCalled	../js/dijit/tests/layout/StackContainer.html	/^				function resizeCalled(){$/;"	f
resizeContainer	../js/dojox/layout/tests/test_TableContainer.html	/^				function resizeContainer(){$/;"	f
resizeGrid	../js/dojox/grid/tests/test_sizing.html	/^		function resizeGrid() {$/;"	f
resizeGrid	../js/dojox/grid/tests/test_sizing_100rows.html	/^		function resizeGrid() {$/;"	f
resizeInfo	../js/dojox/grid/tests/test_sizing.html	/^		function resizeInfo() {$/;"	f
resizeInfo	../js/dojox/grid/tests/test_sizing_100rows.html	/^		function resizeInfo() {$/;"	f
restore	../js/dijit/tests/_base/test_FocusManager.html	/^		function restore(){$/;"	f
restore.$	../js/util/less/parser.js	/^    function $(tok) {$/;"	f
restore.peek	../js/util/less/parser.js	/^    function peek(tok) {$/;"	f
restore.sync	../js/util/less/parser.js	/^    function sync() {$/;"	f
result	../js/dojox/jsonPath/query.js	/^			var result=rb?val:[val];$/;"	v
result	../js/util/buildscripts/jslib/checkBuildSize.js	/^var result = buildUtil.makeDojoJs(buildUtil.loadDependencyList(buildUtil.evalProfile("profiles\/base.profile.js")), "0.0.0");$/;"	v
result	../js/util/buildscripts/listProfileDeps.js	/^var result = buildUtil.loadDependencyList(buildUtil.evalProfile(profileFile));$/;"	v
result	../js/util/buildscripts/makeDojoJsWeb.js	/^var result = "ERROR";$/;"	v
result	../js/util/buildscripts/tests/conditionalTest.js	/^var result = buildUtil.processConditionals($/;"	v
result	../js/util/buildscripts/tests/css/flattenTest.js	/^var result = buildUtil.flattenCss( "blue\/one.css", fileUtil.readFile("blue\/one.css"));$/;"	v
result	../js/util/less/rhino.js	/^    var result;$/;"	v
result	../js/util/shrinksafe/tests/1768.js	/^var result = 0;$/;"	v
result	../js/util/shrinksafe/tests/8828.js	/^var result = [], string_tests;$/;"	v
result	../js/util/shrinksafe/tests/9676.js	/^var result = 1 + +2 - -3;$/;"	v
result.children	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^		result = { title: nodeName, children: []};$/;"	p
result.dojoModuleName	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^		result = { title: nodeName, dojoModuleName: obj["dojoModuleName"]};$/;"	p
result.title	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^		result = { title: nodeName, children: []};$/;"	p
result.title	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^		result = { title: nodeName, dojoModuleName: obj["dojoModuleName"]};$/;"	p
results	../js/dojo/tests/on/bench.html	/^				function results(){$/;"	f
results	../js/dojo/tests/parser/bench.html	/^				function results(){$/;"	f
return	../js/dojox/lang/async/event.js	/^		return function(){$/;"	f
return	../js/dojox/lang/async/timeout.js	/^		return function(){$/;"	f
return	../js/dojox/lang/async/topic.js	/^		return function(){$/;"	f
return.Ruleset	../js/util/less/tree/directive.js	/^    variable: function (name) { return tree.Ruleset.prototype.variable.call(this.ruleset, name) },$/;"	c
return.Ruleset.variable	../js/util/less/tree/directive.js	/^    variable: function (name) { return tree.Ruleset.prototype.variable.call(this.ruleset, name) },$/;"	m
return.imports	../js/util/less/parser.js	/^        imports: imports,$/;"	p
return.parse	../js/util/less/parser.js	/^        parse: function (str, callback) {$/;"	m
returnWhenDone	../js/dojox/timing/tests/test_Sequence.html	/^		function returnWhenDone() {$/;"	f
revArrayIter	../js/dojox/lang/tests/array.js	/^	var revArrayIter = function(array){$/;"	c
revArrayIter	../js/dojox/lang/tests/fold.js	/^	var revArrayIter = function(array){$/;"	c
rhinoDojoConfig	../js/dojo/_base/configRhino.js	/^function rhinoDojoConfig(config, baseUrl, rhinoArgs){$/;"	f
rhinoDojoConfig.hasCache.dojo-dom-ready-api	../js/dojo/_base/configRhino.js	/^		"dojo-dom-ready-api":0,$/;"	p
rhinoDojoConfig.hasCache.dojo-has-api	../js/dojo/_base/configRhino.js	/^		"dojo-has-api":1,$/;"	p
rhinoDojoConfig.hasCache.dojo-inject-api	../js/dojo/_base/configRhino.js	/^		"dojo-inject-api":1,$/;"	p
rhinoDojoConfig.hasCache.dojo-loader	../js/dojo/_base/configRhino.js	/^		"dojo-loader":1,$/;"	p
rhinoDojoConfig.hasCache.dojo-loader-catches	../js/dojo/_base/configRhino.js	/^		"dojo-loader-catches":1,$/;"	p
rhinoDojoConfig.hasCache.dojo-publish-privates	../js/dojo/_base/configRhino.js	/^		"dojo-publish-privates":1,$/;"	p
rhinoDojoConfig.hasCache.dojo-sniff	../js/dojo/_base/configRhino.js	/^		"dojo-sniff":0,$/;"	p
rhinoDojoConfig.hasCache.dojo-test-sniff	../js/dojo/_base/configRhino.js	/^		"dojo-test-sniff":0$/;"	p
rhinoDojoConfig.hasCache.dojo-test-xd	../js/dojo/_base/configRhino.js	/^		"dojo-test-xd":0,$/;"	p
rhinoDojoConfig.hasCache.dojo-timeout-api	../js/dojo/_base/configRhino.js	/^		"dojo-timeout-api":0,$/;"	p
rhinoDojoConfig.hasCache.dojo-trace-api	../js/dojo/_base/configRhino.js	/^		"dojo-trace-api":1,$/;"	p
rhinoDojoConfig.hasCache.dojo-xhr-factory	../js/dojo/_base/configRhino.js	/^		"dojo-xhr-factory":0,$/;"	p
rhinoDojoConfig.hasCache.dom	../js/dojo/_base/configRhino.js	/^		"dom":0,$/;"	p
rhinoDojoConfig.hasCache.host-browser	../js/dojo/_base/configRhino.js	/^		"host-browser":0,$/;"	p
rhinoDojoConfig.hasCache.host-rhino	../js/dojo/_base/configRhino.js	/^		"host-rhino":1,$/;"	p
rhinoDojoConfig.isLocal	../js/dojo/_base/configRhino.js	/^	var isLocal = function(url){$/;"	f
rhinoDojoConfig.log	../js/dojo/_base/configRhino.js	/^	var log = function(hint, args){$/;"	f
rhinoDojoConfig.rhinoConfig.baseUrl	../js/dojo/_base/configRhino.js	/^		baseUrl:baseUrl,$/;"	p
rhinoDojoConfig.rhinoConfig.commandLineArgs	../js/dojo/_base/configRhino.js	/^		commandLineArgs:rhinoArgs,$/;"	p
rhinoDojoConfig.rhinoConfig.deps	../js/dojo/_base/configRhino.js	/^		deps:deps,$/;"	p
rhinoDojoConfig.rhinoConfig.locale	../js/dojo/_base/configRhino.js	/^		locale:String(java.util.Locale.getDefault().toString().replace('_', '-').toLowerCase()),$/;"	p
rhinoDojoConfig.rhinoConfig.timeout	../js/dojo/_base/configRhino.js	/^		timeout:0,$/;"	p
rootNode	../js/dojox/mobile/app/_base.js	/^	var rootNode;$/;"	v
rootTest	../js/dojo/tests/parser/parser.html	/^					function rootTest(t){$/;"	f
rotationXChanged	../js/dojox/charting/tests/test_dropLabels.html	/^function rotationXChanged(value){$/;"	f
rotationYChanged	../js/dojox/charting/tests/test_dropLabels.html	/^function rotationYChanged(value){$/;"	f
rounds	../js/dojox/grid/tests/enhanced/support/test_write_store_music.js	/^	var rounds = 1;$/;"	v
rows	../js/dojox/grid/tests/support/test_data.js	/^	var rows = 100;$/;"	v
rows	../js/dojox/grid/tests/support/test_data_date.js	/^	var rows = 100;$/;"	v
run	../js/dojox/flash/tests/test_flash.js	/^function run(){$/;"	f
run	../js/dojox/lang/tests/bench_decl.html	/^			function run(){$/;"	f
run	../js/dojox/mobile/tests/auto.html	/^	function run(idx){$/;"	f
runCommit	../js/util/checkstyle/runCheckstyle.js	/^function runCommit(){$/;"	f
runDemo	../js/dojox/storage/demos/helloworld.html	/^      function runDemo(){$/;"	f
runFitTest	../js/dojo/tests/_base/html_box.html	/^			function runFitTest(inTest, inParentStyles, inChildStyles) {$/;"	f
runFitTest	../js/dojo/tests/_base/html_box_quirks.html	/^			function runFitTest(inTest, inParentStyles, inChildStyles) {$/;"	f
runScrollingTest	../js/dojo/tests/_base/scrollingIframe.js	/^function runScrollingTest(resultNode){$/;"	f
runSequence	../js/dojox/timing/tests/test_Sequence.html	/^		function runSequence(){$/;"	f
runSet	../js/dojox/string/tests/BuilderArguments.html	/^    function runSet(set, iterations){$/;"	f
runSet	../js/dojox/string/tests/BuilderPerf.html	/^    function runSet(set, iterations){$/;"	f
runSet	../js/dojox/string/tests/PerfFun.html	/^    function runSet(set, iterations){$/;"	f
runSuite	../js/dojox/string/tests/BuilderArguments.html	/^    function runSuite() {$/;"	f
runSuite	../js/dojox/string/tests/BuilderPerf.html	/^    function runSuite() {$/;"	f
runTest	../js/dojox/string/tests/BuilderArguments.html	/^    function runTest(test, iterations, expected) {$/;"	f
runTest	../js/dojox/string/tests/BuilderPerf.html	/^    function runTest(test, iterations, expected) {$/;"	f
runTest	../js/dojox/string/tests/PerfFun.html	/^    function runTest(test, iterations, expected) {$/;"	f
runTest_debug	../js/dojox/gfx/tests/svgweb/test_gfx.html	/^		function runTest_debug(testName){$/;"	f
runTest_debug	../js/dojox/gfx/tests/test_gfx.html	/^		function runTest_debug(testName){$/;"	f
runTest_debug	../js/dojox/gfx/tests/test_gfx_amd.html	/^		function runTest_debug(testName){$/;"	f
runTest_nodebug	../js/dojox/gfx/tests/svgweb/test_gfx.html	/^		function runTest_nodebug(testName){$/;"	f
runTest_nodebug	../js/dojox/gfx/tests/test_gfx.html	/^		function runTest_nodebug(testName){$/;"	f
runTest_nodebug	../js/dojox/gfx/tests/test_gfx_amd.html	/^		function runTest_nodebug(testName){$/;"	f
runTests	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/test_SurfaceGroupSvgWeb.html	/^			function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/WidgetList_tests/doh_mvc_DOMNode-search-results-repeat.html	/^				function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/WidgetList_tests/doh_mvc_new_ref-set-repeat.html	/^				function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/WidgetList_tests/doh_mvc_performance_search-results-repeat.html	/^				function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/WidgetList_tests/doh_mvc_search-results-repeat.html	/^				function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/doh_mvc_DOMNode-search-results-repeat.html	/^				function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/doh_mvc_new_ref-set-repeat.html	/^				function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/doh_mvc_performance_search-results-repeat.html	/^				function runTests(){$/;"	f
runTests	../js/dojox/mvc/tests/doh_mvc_search-results-repeat.html	/^				function runTests(){$/;"	f
rundoh	../js/dojox/sketch/tests/test_full.html	/^            function rundoh(){$/;"	f
safe.body	../js/dojox/secure/sandbox.js	/^		body : function() {$/;"	m
safe.byId	../js/dojox/secure/sandbox.js	/^		byId : function(id) {$/;"	m
safe.connect	../js/dojox/secure/sandbox.js	/^		connect: function(el,event) {$/;"	m
safe.fromJson	../js/dojox/secure/sandbox.js	/^		fromJson : function(str) {$/;"	m
safeCSS	../js/dojox/secure/DOM.js	/^	function safeCSS(css){$/;"	f
safeDoc.createElement	../js/dojox/secure/DOM.js	/^		createElement : function(name){$/;"	m
safeDoc.createTextNode	../js/dojox/secure/DOM.js	/^		createTextNode : function(name){$/;"	m
safeDoc.getElementById	../js/dojox/secure/DOM.js	/^		getElementById : function(id){$/;"	m
safeDoc.write	../js/dojox/secure/DOM.js	/^		write : function(str){$/;"	m
safeElement	../js/dojox/secure/DOM.js	/^	function safeElement(el){$/;"	f
safeHTML	../js/dojox/secure/DOM.js	/^	function safeHTML(html){$/;"	f
safeURL	../js/dojox/secure/DOM.js	/^	function safeURL(url){$/;"	f
sameBox	../js/dojo/tests/_base/html_box.html	/^			function sameBox(inBox1, inBox2) {$/;"	f
sameBox	../js/dojo/tests/_base/html_box_quirks.html	/^			function sameBox(inBox1, inBox2) {$/;"	f
sample	../js/dojox/gauges/tests/test_GlossyCircularGauge.html	/^		function sample(){$/;"	f
sample	../js/dojox/gauges/tests/test_GlossyHorizontalGauge.html	/^		function sample(){$/;"	f
sampleFunction	../js/util/docscripts/tests/alias.js	/^dojo.provide("util.docscripts.tests.alias");$/;"	f
sanity	../js/dojo/tests/NodeList-data.html	/^					function sanity(t){$/;"	f
save	../js/dijit/tests/_base/test_FocusManager.html	/^		function save(){$/;"	f
save	../js/util/checkstyle/checkstyle.php.rename.html	/^	function save($fileName, $contents) {$/;"	f
save	../js/util/less/parser.js	/^    function save()    { temp = chunks[j], memo = i, current = i }$/;"	f
save.restore	../js/util/less/parser.js	/^    function restore() { chunks[j] = temp, i = memo, current = i }$/;"	c
saveAllChangedFiles	../js/util/checkstyle/checkstyleReport.html	/^		function saveAllChangedFiles(){$/;"	f
saveFile	../js/util/checkstyle/checkstyleReport.html	/^		function saveFile(fileName, contents, callback) {$/;"	f
saveValue	../js/dojox/storage/demos/helloworld.html	/^      function saveValue(){$/;"	f
say_hello	../js/util/shrinksafe/tests/5303.js	/^    var say_hello = function() {$/;"	f
say_hello_twice	../js/util/shrinksafe/tests/5303.js	/^    var say_hello_twice = function() {$/;"	f
sceneResources	../js/dojox/mobile/app/_base.js	/^	var sceneResources = [];$/;"	v
schemaForSchemas.description	../js/dojox/json/tests/schema.js	/^var schemaForSchemas ={"description":"This is the JSON Schema for JSON Schemas.",$/;"	p
schemaForSchemas.type	../js/dojox/json/tests/schema.js	/^ "type":["object","array"],$/;"	p
schemifyClass	../js/dojox/lang/docs.js	/^	var schemifyClass = function(clazz, name){$/;"	f
scientificNotationSimplifier	../js/dojox/calc/_ExecutorIframe.html	/^			function scientificNotationSimplifier(text){$/;"	f
script	../js/dijit/tests/_loadTest.js	/^var script = head.lastChild;$/;"	v
scrollGrid	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_scroll.html	/^			function scrollGrid() {$/;"	f
scrollIntoView	../js/dijit/tests/robot/Tooltip_mouse.html	/^					function scrollIntoView(){$/;"	f
scrollIntoView	../js/dojo/tests/window/test_scrollNoDTD.html	/^				function scrollIntoView(){$/;"	f
scrollIntoView	../js/dojo/tests/window/test_scrollStrictDTD.html	/^				function scrollIntoView(){$/;"	f
scrollToRow	../js/dojox/grid/tests/enhanced/test_enhanced_grid_pagination.html	/^		function scrollToRow(){$/;"	f
scrollToRow	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function scrollToRow(){$/;"	f
scrollUp	../js/dojo/tests/_base/html.html	/^						function scrollUp(){$/;"	f
scrolling	../js/dijit/tests/_TimePicker.html	/^				function scrolling(){$/;"	f
search	../js/dojox/help/_base.js	/^		var search = dojox.help._stripPrototype(name)[0];$/;"	v
search	../js/dojox/help/_base.js	/^		var search = name;$/;"	v
seasonSummary	../js/dojox/grid/tests/test_treegrid.html	/^		function seasonSummary(value, rowIdx){$/;"	f
seasonSummary	../js/dojox/grid/tests/test_treegrid_loading.html	/^		function seasonSummary(value, rowIdx){$/;"	f
seasonSummary	../js/dojox/grid/tests/test_treegrid_performance.html	/^		function seasonSummary(value, rowIdx){$/;"	f
secondComplete	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var secondComplete = function(items, request){$/;"	f
secondComplete	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var secondComplete = function(items, request){$/;"	f
selectATab	../js/dijit/tests/layout/TabContainer.html	/^				function selectATab(){$/;"	f
selectAll	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_with_plugin.html	/^		function selectAll(){$/;"	f
selectAll	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function selectAll(){$/;"	f
selectAnItem	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function selectAnItem(){$/;"	f
selectChars	../js/util/checkstyle/checkstyleReport.html	/^		function selectChars(textarea, start, end) {$/;"	f
selectChildAndTestLoad	../js/dijit/tests/layout/ContentPane-remote.html	/^			function selectChildAndTestLoad(\/*String*\/ parentId, \/*String*\/ childId, \/*String*\/ startOfExpectedContent){$/;"	f
selectNewItem	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function selectNewItem(){$/;"	f
selectNewItem	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function selectNewItem(){$/;"	f
selected	../js/dijit/tests/layout/StackContainer.html	/^		function selected(page){$/;"	f
selected	../js/dojox/layout/tests/test_TouchStackContainer.html	/^		function selected(page){$/;"	f
selectedIndex	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^var selectedIndex = 0;$/;"	v
selfClosedTags	../js/dojox/jq.js	/^	var selfClosedTags = "|img|meta|hr|br|input|";$/;"	v
sendIt	../js/dojo/tests/io/iframeUploadTest.html	/^			function sendIt(){$/;"	f
sendResponse	../js/dojox/io/proxy/xip_server.html	/^	function sendResponse(encodedData){$/;"	f
sendResponsePart	../js/dojox/io/proxy/xip_server.html	/^	function sendResponsePart(){$/;"	f
sendXhr	../js/dojox/io/proxy/xip_server.html	/^	function sendXhr(){$/;"	f
serializeExclude	../js/dojox/jq.js	/^	var serializeExclude = "file|submit|image|reset|button|";$/;"	v
seriesargs.stroke.style	../js/dojox/widget/DataPresentation.js	/^					seriesargs.stroke = { style: store.series_linestyle[i] };$/;"	p
setAttr	../js/dijit/tests/form/test_SimpleTextarea.html	/^			function setAttr(attr, value){$/;"	f
setAttr	../js/dijit/tests/form/test_Textarea.html	/^				function setAttr(attr, value){$/;"	f
setBackground	../js/dijit/themes/themeTester-orig.html	/^					function setBackground(color){$/;"	f
setBackground	../js/dijit/themes/themeTester.html	/^					function setBackground(color){$/;"	f
setClientUrl	../js/dojox/io/proxy/xip_server.html	/^	function setClientUrl(cmd, message){$/;"	f
setColor	../js/dijit/tests/test_ColorPalette.html	/^		function setColor(color){$/;"	f
setColor	../js/dijit/themes/themeTester-orig.html	/^		function setColor(color){$/;"	f
setColumnWidths	../js/dojox/layout/tests/test_GridContainerColWidths.html	/^			function setColumnWidths(){$/;"	f
setColumns	../js/dojox/layout/tests/test_GridContainer.html	/^			function setColumns(){$/;"	f
setColumns	../js/dojox/layout/tests/test_GridContainerColWidths.html	/^			function setColumns(){$/;"	f
setColumns	../js/dojox/layout/tests/test_GridContainer_ResizableCol.html	/^			function setColumns(){$/;"	f
setColumns	../js/dojox/layout/tests/test_GridContainer_in_BorderContainer.html	/^			function setColumns(){$/;"	f
setContents	../js/dijit/tests/test_Menu_iframe.html	/^		function setContents(str){$/;"	f
setData	../js/dojox/sql/demos/customers/customers.html	/^			function setData(data){$/;"	f
setDate	../js/dojox/mobile/tests/test_Opener-DateSpinWheel-lazy.html	/^		function setDate(node){$/;"	f
setDate	../js/dojox/mobile/tests/test_Opener-DateSpinWheel.html	/^		function setDate(node){$/;"	f
setDate2	../js/dojox/mobile/tests/test_Opener-Calendar-lazy-prog.html	/^		function setDate2(node){$/;"	f
setDate2	../js/dojox/mobile/tests/test_Opener-Calendar-lazy.html	/^		function setDate2(node){$/;"	f
setDate2	../js/dojox/mobile/tests/test_Opener-Calendar.html	/^		function setDate2(node){$/;"	f
setDefaultAlign	../js/dijit/tests/test_Tooltip.html	/^		function setDefaultAlign(array){$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/doh_mvc_programmatic-repeat-store.html	/^			function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/doh_mvc_search-results-repeat-store.html	/^	function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/doh_mvc_search-results-repeat.html	/^	function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^function setDetailsContext(index){$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/mobile/test_Android-repeat-data-store.html	/^			function setDetailsContext(index){$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/test_async-mvc_repeat-simple.html	/^			function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/test_mvc_programmatic-repeat-store.html	/^			function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/test_mvc_repeat-declarative-sync.html	/^			function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/test_mvc_repeat-store-declarative-async.html	/^			function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/test_mvc_search-results-ins-del.html	/^			function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/test_mvc_search-results-repeat-store.html	/^			function setDetailsContext(index) {$/;"	f
setDetailsContext	../js/dojox/mvc/tests/regression/test_mvc_search-results-repeat.html	/^			function setDetailsContext(index) {$/;"	f
setDisplayedValue	../js/dijit/tests/form/robot/DateTextBox.html	/^					function setDisplayedValue(){$/;"	f
setDisplayedValue	../js/dijit/tests/form/robot/_autoComplete_a11y.html	/^				function setDisplayedValue(){$/;"	f
setDisplayedValueGerman	../js/dijit/tests/form/robot/DateTextBox.html	/^					function setDisplayedValueGerman(){$/;"	f
setDownIcon	../js/dojox/mobile/tests/index.html	/^		function setDownIcon(icon){$/;"	f
setEmptyPath	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function setEmptyPath(){$/;"	f
setIconValue	../js/dojox/mobile/tests/test_ListItem-domButtons.html	/^			function setIconValue(id, val){$/;"	f
setIconValue	../js/dojox/mobile/tests/test_domButtons.html	/^			function setIconValue(id, val){$/;"	f
setIconValue	../js/dojox/mobile/tests/test_domButtonsBadge.html	/^			function setIconValue(id, val){$/;"	f
setInvalidDisplayedValue	../js/dijit/tests/form/robot/DateTextBox.html	/^					function setInvalidDisplayedValue(){$/;"	f
setInvalidPath	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function setInvalidPath(){$/;"	f
setObj	../js/dojo/tests/test_touch.html	/^					function setObj(obj, e){$/;"	f
setObj	../js/dojox/gesture/tests/doh/bubble.html	/^				function setObj(obj, e){$/;"	f
setObj	../js/dojox/gesture/tests/doh/tap.html	/^				function setObj(obj, e){$/;"	f
setOutOfRange	../js/dijit/tests/form/robot/DateTextBox.html	/^					function setOutOfRange(){$/;"	f
setParameters	../js/dijit/tests/ProgressBar.html	/^		function setParameters(){$/;"	f
setPathToNull	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function setPathToNull(){$/;"	f
setPathToNull	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function setPathToNull(){$/;"	f
setPathToRoot	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function setPathToRoot(){$/;"	f
setPathToRoot	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function setPathToRoot(){$/;"	f
setPaths	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function setPaths(){$/;"	f
setPaths	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function setPaths(){$/;"	f
setPoint	../js/dojox/gfx/tests/test_refproj.html	/^        function setPoint(e){$/;"	f
setReadonlyInput	../js/dojo/tests/_base/html.html	/^						function setReadonlyInput(t){$/;"	f
setRef	../js/dojox/mvc/tests/docExamples/groupDeclarativeExample1.html	/^        function setRef(id, model, attr) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/doh_mvc_shipto-billto-hierarchical.html	/^			function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/doh_mvc_shipto-billto-simple.html	/^	function setRef(id, addrRef){$/;"	f
setRef	../js/dojox/mvc/tests/regression/mobile/demo/src-async-store.js	/^var setRef, setDetailsContext, insertResult, updateView, updateModel;$/;"	v
setRef	../js/dojox/mvc/tests/regression/mobile/demo/src-async.js	/^var setRef, setDetailsContext, insertResult, updateView, updateModel;$/;"	v
setRef	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/mobile/demo/src.js	/^var setRef, setDetailsContext, insertResult, updateView, updateModel;$/;"	v
setRef	../js/dojox/mvc/tests/regression/mobile/test_iPhone-shipto-billto.html	/^			function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/test_mvc_ref-kitchensink.html	/^			function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/test_mvc_shipto-billto-hierarchical.html	/^			function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/test_mvc_shipto-billto-simple-declarative.html	/^			function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/test_mvc_shipto-billto-simple-oldparser.html	/^			function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/regression/test_mvc_shipto-billto-simple.html	/^			function setRef(id, addrRef) {$/;"	f
setRef	../js/dojox/mvc/tests/test_mvc_new_shipto-billto-simple.html	/^			function setRef(id, model, attr) {$/;"	f
setRightIcon	../js/dojox/mobile/tests/index.html	/^		function setRightIcon(icon){$/;"	f
setRightIcon2Value	../js/dojox/mobile/tests/test_ListItem-domButtons.html	/^			function setRightIcon2Value(id, val){$/;"	f
setSearch	../js/dojox/mobile/tests/test_Opener-SearchList-async.html	/^		function setSearch(node){$/;"	f
setSearchBanner	../js/dojox/mvc/tests/regression/doh_mvc_search-results-repeat.html	/^	function setSearchBanner() {$/;"	f
setSearchBanner	../js/dojox/mvc/tests/regression/test_async-mvc_repeat-simple.html	/^			function setSearchBanner() {$/;"	f
setSearchBanner	../js/dojox/mvc/tests/regression/test_mvc_search-results-ins-del.html	/^			function setSearchBanner() {$/;"	f
setSearchBanner	../js/dojox/mvc/tests/regression/test_mvc_search-results-repeat.html	/^			function setSearchBanner() {$/;"	f
setSelectedRingtone	../js/dojox/mobile/tests/test_Opener-RoundSelectList-async.html	/^		function setSelectedRingtone(node){$/;"	f
setTabindexDiv	../js/dojo/tests/_base/html.html	/^						function setTabindexDiv(t){$/;"	f
setTabindexInput	../js/dojo/tests/_base/html.html	/^						function setTabindexInput(t){$/;"	f
setTest	../js/dijit/tests/form/robot/ValidationTextBox.html	/^				function setTest(testName, textbox, setDict, watchExpected, unchangedExpected, isValid, onChangeExpected){$/;"	f
setTextBoxPadding	../js/dijit/themes/themeTester-orig.html	/^		function setTextBoxPadding(){$/;"	f
setTimeout	../js/dojo/_base/configRhino.js	/^		setTimeout = function(func, delay){$/;"	f
setTimeout.def.hasSlept	../js/dojo/_base/configRhino.js	/^				hasSlept:false,$/;"	p
setTimeout.def.run	../js/dojo/_base/configRhino.js	/^				run:function(){$/;"	m
setTimeout.def.sleepTime	../js/dojo/_base/configRhino.js	/^				sleepTime:delay,$/;"	p
setToNull	../js/dijit/tests/form/robot/Slider_mouse.html	/^				function setToNull(){$/;"	f
setTransform	../js/dojox/data/demos/demo_OpenSearchStore.html	/^			function setTransform(state){$/;"	f
setUp	../js/dijit/tests/_base/robot/focus_mouse.html	/^					function setUp(){$/;"	f
setUp	../js/dijit/tests/editor/robot/Editor_FullScreen.html	/^					function setUp(){$/;"	f
setUp	../js/dijit/tests/editor/robot/Editor_IE8Compat.html	/^					function setUp(){$/;"	f
setUp	../js/dijit/tests/editor/robot/Editor_LinkDialog.html	/^					function setUp(){$/;"	f
setUp	../js/dijit/tests/editor/robot/Editor_a11y.html	/^					function setUp(){$/;"	f
setUp	../js/dijit/tests/form/Form.html	/^				function setUp(){$/;"	f
setUp	../js/dijit/tests/form/robot/Button_mouse.html	/^				function setUp(){$/;"	f
setUp	../js/dijit/tests/form/robot/DateTextBox.html	/^					function setUp(){$/;"	f
setUp	../js/dijit/tests/form/robot/Select.html	/^					function setUp(){$/;"	f
setUp	../js/dijit/tests/layout/AccordionContainer.html	/^				function setUp(){$/;"	f
setUp	../js/dijit/tests/layout/nestedStack.html	/^					function setUp(){$/;"	f
setVal2	../js/dijit/tests/form/_autoComplete.html	/^		function setVal2(val){$/;"	f
setVal3	../js/dijit/tests/form/_autoComplete.html	/^		function setVal3(val){$/;"	f
setVal4	../js/dijit/tests/form/_autoComplete.html	/^		function setVal4(val){$/;"	f
setValue	../js/dijit/tests/form/robot/DateTextBox.html	/^					function setValue(){$/;"	f
setValueGerman	../js/dijit/tests/form/robot/DateTextBox.html	/^					function setValueGerman(){$/;"	f
setValueTestLabelFunc	../js/dijit/tests/form/_autoComplete.html	/^			function setValueTestLabelFunc(item, store){$/;"	f
setValueTestOnChange	../js/dijit/tests/form/_autoComplete.html	/^			function setValueTestOnChange(newValue){$/;"	f
setValues	../js/dijit/tests/form/Form.html	/^					function setValues(){$/;"	f
setValues	../js/dijit/tests/form/Form.html	/^		function setValues(){$/;"	f
setVars	../js/dijit/tests/editor/robot/Editor_mouse.html	/^					function setVars(){$/;"	f
setVars	../js/dijit/tests/tree/robot/Tree_Custom_TreeNode.html	/^				function setVars(){$/;"	f
setVars	../js/dijit/tests/tree/robot/Tree_a11y.html	/^				function setVars(){$/;"	f
setVars	../js/dijit/tests/tree/robot/Tree_v1.html	/^					function setVars(){$/;"	f
setWaiRole	../js/dijit/tests/_base/wai.html	/^					function setWaiRole(){$/;"	f
setWaiRoleToExistingWaiRole	../js/dijit/tests/_base/wai.html	/^					function setWaiRoleToExistingWaiRole(){$/;"	f
setWaiRoleToExistingXHTML	../js/dijit/tests/_base/wai.html	/^					function setWaiRoleToExistingXHTML(){$/;"	f
setWaiState	../js/dijit/tests/_base/wai.html	/^					function setWaiState(){$/;"	f
setters.innerHTML	../js/dojox/secure/DOM.js	/^		innerHTML : function(node,value){$/;"	m
setters.outerHTML	../js/dojox/secure/DOM.js	/^	setters.outerHTML = function(node,value){$/;"	f
settersForNamesWithDashes	../js/dijit/tests/_Widget-attr.html	/^					function settersForNamesWithDashes(){$/;"	f
setup	../js/dijit/tests/_HasDropDown.html	/^		function setup(){$/;"	f
setup	../js/dijit/tests/_Widget-on.html	/^				function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/AccordionContainer_a11y.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/AccordionContainer_mouse.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/BorderContainer.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/BorderContainer_complex.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/BorderContainer_full.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/BorderContainer_nested.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/GUI.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/TabContainer_a11y.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/TabContainer_mouse.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/layout/robot/TabContainer_noLayout.html	/^					function setup(){$/;"	f
setup	../js/dijit/tests/tree/robot/Tree_dnd.js	/^function setup(){$/;"	f
setup	../js/dojox/mvc/tests/regression/doh_mvc_programmatic-repeat-store.html	/^			function setup() {$/;"	f
setup	../js/dojox/mvc/tests/regression/doh_mvc_search-results-repeat-store.html	/^		function setup() {$/;"	f
setup	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^function setup() {$/;"	f
setup	../js/dojox/mvc/tests/regression/mobile/test_Android-repeat-data-store.html	/^			function setup() {$/;"	f
setup	../js/dojox/mvc/tests/regression/test_mvc_generate-view-store.html	/^			function setup(){$/;"	f
setup	../js/dojox/mvc/tests/regression/test_mvc_programmatic-repeat-store.html	/^			function setup() {$/;"	f
setup	../js/dojox/mvc/tests/regression/test_mvc_repeat-store-declarative-async.html	/^			function setup() {				$/;"	f
setupChart	../js/dojox/widget/DataPresentation.js	/^	var setupChart = function(\/*DomNode*\/domNode, \/*Object?*\/chart, \/*String*\/type, \/*Boolean*\/reverse, \/*Object*\/animate, \/*Integer*\/labelMod, \/*String*\/theme, \/*String*\/tooltip, \/*Object?*\/store, \/*String?*\/query, \/*String?*\/queryOptions){$/;"	f
setupFooter	../js/dojox/widget/DataPresentation.js	/^	var setupFooter = function(\/*DomNode*\/domNode, \/*object*\/store){$/;"	f
setupGrid	../js/dojox/widget/DataPresentation.js	/^	var setupGrid = function(\/*DomNode*\/domNode, \/*Object?*\/grid, \/*Object?*\/store, \/*String?*\/query, \/*String?*\/queryOptions){$/;"	f
setupLegend	../js/dojox/widget/DataPresentation.js	/^	var setupLegend = function(\/*DomNode*\/domNode, \/*Legend*\/legend, \/*Chart2D*\/chart, \/*Boolean*\/horizontal){$/;"	f
setupSelectorTest	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_with_plugin.html	/^		function setupSelectorTest(){$/;"	f
setupSelectorTest	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function setupSelectorTest(){$/;"	f
setupTitle	../js/dojox/widget/DataPresentation.js	/^	var setupTitle = function(\/*DomNode*\/domNode, \/*object*\/store){$/;"	f
shiftVector	../js/dojox/gfx/tests/test_refproj.html	/^        function shiftVector(value){$/;"	f
show	../js/dijit/tests/Dialog.html	/^				function show(){$/;"	f
showAddBuddy	../js/dojox/xmpp/tests/test_xmppService.html	/^			function showAddBuddy() {$/;"	f
showAllErrors	../js/util/checkstyle/checkstyleReport.html	/^		function showAllErrors(query){$/;"	f
showAnotherMessage	../js/dojox/widget/tests/test_Toaster.html	/^		function showAnotherMessage(){$/;"	f
showCurrentErrors	../js/util/checkstyle/checkstyleReport.html	/^		function showCurrentErrors(){$/;"	f
showDeleteButton	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-a11y.html	/^			function showDeleteButton(item){$/;"	f
showDeleteButton	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable-sv.html	/^			function showDeleteButton(item){$/;"	f
showDeleteButton	../js/dojox/mobile/tests/test_EdgeToEdgeList-editable.html	/^			function showDeleteButton(item){$/;"	f
showDeleteButton	../js/dojox/mobile/tests/test_RoundRectList-editable-sv.html	/^			function showDeleteButton(item){$/;"	f
showDeleteButton	../js/dojox/mobile/tests/test_RoundRectList-editable.html	/^			function showDeleteButton(item){$/;"	f
showDialog	../js/dijit/tests/form/robot/ValidationTextBox.html	/^					function showDialog(){$/;"	f
showDialog	../js/dijit/tests/form/test_Select.html	/^						function showDialog(){$/;"	f
showDialogAgain	../js/dijit/tests/form/test_Select.html	/^						function showDialogAgain(){$/;"	f
showEditBuddy	../js/dojox/xmpp/tests/test_xmppService.html	/^			function showEditBuddy() {$/;"	f
showLayers	../js/dojox/geo/openlayers/tests/test_bench.html	/^  function showLayers() {$/;"	f
showMessage	../js/dojox/timing/tests/test_Sequence.html	/^		function showMessage(msg) {$/;"	f
showSaveDialog	../js/util/checkstyle/checkstyleReport.html	/^		function showSaveDialog(){$/;"	f
showSelfDestructDlg	../js/dijit/tests/test_Dialog.html	/^		function showSelfDestructDlg(){$/;"	f
showStatus	../js/dojox/geo/openlayers/tests/test_gfx2.html	/^					function showStatus(event, surface, star, text){$/;"	f
showStatus	../js/dojox/gfx/demos/career_test.html	/^function showStatus(circle, text){$/;"	f
showTestMessage	../js/dojox/widget/tests/test_Toaster.html	/^		function showTestMessage(){$/;"	f
showYetAnotherMessage	../js/dojox/widget/tests/test_Toaster.html	/^		function showYetAnotherMessage(){$/;"	f
shrinksafe.tests.module.compress	../js/util/shrinksafe/tests/module.js	/^shrinksafe.tests.module.compress = function(source, stripConsole, escapeUnicode){$/;"	f
shrinksafe.tests.module.getContents	../js/util/shrinksafe/tests/module.js	/^shrinksafe.tests.module.getContents = function(path){$/;"	f
shrinksafe.tests.module.loader	../js/util/shrinksafe/tests/module.js	/^shrinksafe.tests.module.loader = function(path, stripConsole, escapeUnicode){$/;"	f
siblings	../js/dojo/tests/NodeList-traverse.html	/^					function siblings(t){$/;"	f
signature	../js/dojox/lang/observable.js	/^			var signature = props.join(",");$/;"	v
silly_IDs1	../js/dojo/tests/_base/query.html	/^						function silly_IDs1(){$/;"	f
silly_IDs1	../js/dojo/tests/query/query.html	/^					function silly_IDs1(){$/;"	f
silly_IDs1	../js/dojo/tests/query/queryQuirks.html	/^					function silly_IDs1(){$/;"	f
simple	../js/dijit/tests/_TemplatedMixin.html	/^						function simple(t){$/;"	f
simpleHTML5	../js/dojo/tests/parser/parser.html	/^					function simpleHTML5(){$/;"	f
simpleLoop	../js/dojox/fx/tests/test_crossFade.html	/^		function simpleLoop(){$/;"	f
simpleObj.$schema	../js/dojox/json/tests/schema.js	/^  "$schema":{$/;"	p
simpleObj.age	../js/dojox/json/tests/schema.js	/^  "age" : 30,$/;"	p
simpleObj.name	../js/dojox/json/tests/schema.js	/^  "name" : "John Doe",$/;"	p
simplifyPlusAnsMinus	../js/dojox/calc/_ExecutorIframe.html	/^			function simplifyPlusAnsMinus(text){$/;"	f
singleTap	../js/dojox/gesture/tests/doh/tap.html	/^					function singleTap(){$/;"	f
sizeDefault	../js/dojox/grid/tests/test_sizing.html	/^		function sizeDefault() {$/;"	f
sizeDefault	../js/dojox/grid/tests/test_sizing_100rows.html	/^		function sizeDefault() {$/;"	f
sizeOnChange	../js/dijit/tests/form/TextBox_sizes.html	/^		function sizeOnChange(size){$/;"	f
skipNotShown	../js/dijit/tests/a11y.html	/^				function skipNotShown(t){$/;"	f
skipOnChange	../js/dijit/tests/form/robot/CheckBox_mouse.html	/^						function skipOnChange(){$/;"	f
slice	../js/dojo/tests/_base/NodeList.html	/^						function slice(){$/;"	f
slice	../js/dojox/jsonPath/query.js	/^			function slice(loc, val){$/;"	f
slideTo	../js/dojo/tests/NodeList-fx.html	/^						function slideTo(){$/;"	f
slideTo	../js/dojo/tests/fx.html	/^						function slideTo(t){$/;"	f
slider1	../js/dijit/tests/form/robot/Slider_a11y.html	/^				function slider1(){$/;"	f
smallDataSet.prop1	../js/dojox/secure/tests/fromJson.js	/^	prop1: null,$/;"	p
smallDataSet.prop2	../js/dojox/secure/tests/fromJson.js	/^	prop2: true,$/;"	p
smallDataSet.prop3	../js/dojox/secure/tests/fromJson.js	/^	prop3: [],$/;"	p
smallJson	../js/dojox/secure/tests/fromJson.js	/^var smallJson = dojo.toJson(smallDataSet);$/;"	v
sniffConfigCallback	../js/dojo/tests/_base/loader/boot-sniffConfig.html	/^		function sniffConfigCallback(){$/;"	f
socket.disconnected	../js/dojox/socket/Reconnect.js	/^		socket.disconnected = function(reconnect){$/;"	f
socket.reconnect	../js/dojox/socket/Reconnect.js	/^		socket.reconnect = function(){$/;"	f
some	../js/dojo/tests/_base/NodeList.html	/^						function some(){$/;"	f
someTest	../js/dijit/tests/_base/manager.html	/^					function someTest(t){$/;"	f
sort	../js/dojo/tests/_base/query.html	/^						function sort(){$/;"	f
sort	../js/dojo/tests/query/query.html	/^					function sort(){$/;"	f
sort	../js/dojo/tests/query/queryQuirks.html	/^					function sort(){$/;"	f
sort	../js/dojox/mobile/tests/auto.html	/^	function sort(keys){$/;"	f
sort	../js/dojox/mobile/tests/index.html	/^		function sort(keys){$/;"	f
specialchars	../js/dijit/tests/editor/html.html	/^				function specialchars(){$/;"	f
speedInt	../js/dojox/jq.js	/^	function speedInt(speed){$/;"	f
spinnerRole	../js/dijit/tests/form/robot/Spinner_a11y.html	/^					function spinnerRole(){$/;"	f
splice	../js/dojo/tests/_base/NodeList.html	/^						function splice(){$/;"	f
spliceDel	../js/dojo/tests/_base/NodeList.html	/^						function spliceDel(){$/;"	f
spliceInsert	../js/dojo/tests/_base/NodeList.html	/^						function spliceInsert(){$/;"	f
spliceInsertDel	../js/dojo/tests/_base/NodeList.html	/^						function spliceInsertDel(){$/;"	f
sq100nopos	../js/dojo/tests/_base/html.html	/^						function sq100nopos(t){$/;"	f
sq100nopos	../js/dojo/tests/_base/html_quirks.html	/^						function sq100nopos(t){$/;"	f
srcLocaleList	../js/util/buildscripts/cldr/specialLocale.js	/^var srcLocaleList = [];\/\/source locale file paths$/;"	v
srcRoot	../js/util/buildscripts/webbuild/makeWebBuildModuleList.js	/^var srcRoot = arguments[0];$/;"	v
sscompile	../js/util/build/optimizeRunner.js	/^function sscompile(src, dest, optimizeSwitch, copyright){$/;"	f
start	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^function start(){$/;"	f
start	../js/dojox/robot/recorder.js	/^var start = function(){$/;"	f
start1	../js/dojox/mobile/tests/auto.html	/^	function start1(){$/;"	f
startBuild	../js/util/buildscripts/webbuild.html	/^		function startBuild(depString, version, xdDojoPath){$/;"	f
startDir	../js/util/buildscripts/jslib/convertTestsToXDomain.js	/^var startDir = arguments[0];$/;"	v
startTest	../js/dijit/tests/i18n/test_i18n.js	/^function startTest(t){$/;"	f
startTest	../js/dojo/tests/io/scriptTimeout.html	/^			function startTest(){$/;"	f
startTest	../js/dojox/gfx/demos/career_test.html	/^function startTest(level){$/;"	f
startTestFormat	../js/dijit/tests/i18n/test_i18n.js	/^function startTestFormat(i, t){$/;"	f
startTestValidate	../js/dijit/tests/i18n/test_i18n.js	/^function startTestValidate(i, t){$/;"	f
startTests	../js/dojox/mvc/tests/regression/doh_mvc_programmatic-repeat-store.html	/^		function startTests(){$/;"	f
startTests	../js/dojox/mvc/tests/regression/doh_mvc_search-results-repeat-store.html	/^		function startTests(){$/;"	f
startTime	../js/dojox/robot/recorder.js	/^var startTime = null;$/;"	v
startup	../js/dijit/tests/_Widget-placeAt.html	/^				function startup(){$/;"	f
startupAfter	../js/dijit/tests/layout/ContentPane.html	/^				function startupAfter(){$/;"	f
startupAndDestroy	../js/dijit/tests/layout/ContentPane.html	/^				function startupAndDestroy(){$/;"	f
startupBefore	../js/dijit/tests/layout/ContentPane.html	/^				function startupBefore(){$/;"	f
startupCalled	../js/dojox/layout/tests/ContentPane.html	/^					function startupCalled(){$/;"	f
stop	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^function stop(){$/;"	f
stop	../js/dojox/robot/recorder.js	/^var stop = function(){$/;"	f
stopLoop	../js/dojox/fx/tests/test_crossFade.html	/^		function stopLoop(){ _anim.stop(); }$/;"	f
store	../js/dojo/tests/store/Cache.js	/^	var store = dojo.store.Cache(masterStore, cachingStore, options);$/;"	v
store._createSearchUrl	../js/dojox/data/tests/stores/OpenSearchStore.js	/^	store._createSearchUrl = function(request){$/;"	f
store._saveEverything	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				store._saveEverything = function(saveCompleteCallback, saveFailedCallback, newFileContentString){$/;"	f
store._saveEverything.failed	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var failed = function(error, request){$/;"	f
store._saveEverything.gotItem	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var gotItem = function(item){$/;"	f
store._saveEverything.onItemClone	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var onItemClone = function(itemClone){$/;"	f
store.comparatorMap	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				store.comparatorMap["status"] = function(a,b) {$/;"	f
store.comparatorMap	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				store.comparatorMap["status"] = function(a,b) {$/;"	f
store.comparatorMap.enumMap.BLOCKED	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.comparatorMap.enumMap.BLOCKED	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.comparatorMap.enumMap.CLOSED	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.comparatorMap.enumMap.CLOSED	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.comparatorMap.enumMap.OPEN	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.comparatorMap.enumMap.OPEN	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.comparatorMap.enumMap.PENDING	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.comparatorMap.enumMap.PENDING	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					var enumMap = { OPEN: 3, BLOCKED: 2, PENDING: 1, CLOSED: 0};$/;"	p
store.data.identifier	../js/dojox/data/tests/stores/AndOrReadStore.js	/^					store.data = { identifier: "uniqueId",$/;"	p
store.data.identifier	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					store.data = { identifier: "uniqueId",$/;"	p
store.data.items	../js/dojox/data/tests/stores/AndOrReadStore.js	/^						items: [ {uniqueId: 1, value:"foo*bar"},$/;"	p
store.data.items	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^						items: [ {uniqueId: 1, value:"foo*bar"},$/;"	p
store.onNew	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				store.onNew = function(newItem, parentInfo){$/;"	f
store.onSet	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^					store.onSet = function(item, attribute, oldValue, newValue){$/;"	f
str	../js/util/shrinksafe/tests/stripcomplex.js	/^	var str = "wooo";$/;"	v
string_tests	../js/util/shrinksafe/tests/8828.js	/^	string_tests = function(){$/;"	f
style	../js/dojo/tests/_base/NodeList.html	/^						function style(){$/;"	f
styleGet	../js/dojo/tests/_base/NodeList.html	/^						function styleGet(){$/;"	f
styleIncTop	../js/dojo/tests/_base/html_box.html	/^			function styleIncTop(inStyle) {$/;"	f
styleIncTop	../js/dojo/tests/_base/html_box_quirks.html	/^			function styleIncTop(inStyle) {$/;"	f
styleObject	../js/dojo/tests/_base/html.html	/^						function styleObject(){$/;"	f
styleSet	../js/dojo/tests/_base/NodeList.html	/^						function styleSet(){$/;"	f
submittedValues	../js/dijit/tests/form/test_Form_onsubmit.html	/^		function submittedValues(values){$/;"	f
subscribeBuddy	../js/dojox/xmpp/tests/test_xmppService.html	/^			function subscribeBuddy(){$/;"	f
substituteCommas	../js/dojox/calc/_ExecutorIframe.html	/^			function substituteCommas(whole, junk, text){$/;"	f
substituteNumbers	../js/dojox/calc/_ExecutorIframe.html	/^			function substituteNumbers(wholematch, stuff, junk, text, stuff2){$/;"	f
substituteSemicolons	../js/dojox/calc/_ExecutorIframe.html	/^			function substituteSemicolons(whole, junk, text){$/;"	f
subwidgetMapping	../js/dijit/tests/_Widget-attr.html	/^					function subwidgetMapping(){$/;"	f
sum	../js/util/docscripts/cheat/floatup.js	/^	function sum(ar){$/;"	f
summaryFormatter	../js/dojox/grid/tests/test_treegrid.html	/^		function summaryFormatter(value, rowIdx, cell, sing, plur){$/;"	f
summaryFormatter	../js/dojox/grid/tests/test_treegrid_loading.html	/^		function summaryFormatter(value, rowIdx, cell, sing, plur){$/;"	f
summaryFormatter	../js/dojox/grid/tests/test_treegrid_performance.html	/^		function summaryFormatter(value, rowIdx, cell, sing, plur){$/;"	f
surfaces_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/canvas/test_SurfaceGroupCanvas.html	/^					function surfaces_TextDir(){$/;"	f
surfaces_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/silverlight/test_SurfaceGroupSilverlight.html	/^					function surfaces_TextDir(){$/;"	f
surfaces_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/svgWeb/test_SurfaceGroupSvgWeb.html	/^					function surfaces_TextDir(){$/;"	f
surfaces_TextDir	../js/dojox/gfx/tests/_gfxBidiSupport/test_SurfaceGroup.html	/^					function surfaces_TextDir(){$/;"	f
swapData	../js/dojox/mvc/tests/regression/test_mvc_updateData-hack-support.html	/^			function swapData(index) {$/;"	f
swapToModel	../js/dojox/mvc/tests/regression/test_mvc_prog_repeat.html	/^	function swapToModel(model) {$/;"	f
swapToModel1	../js/dojox/mvc/tests/regression/mobile/test_mobile-list-multiple-sel-mvc.html	/^		function swapToModel1() {$/;"	f
swapToModel1	../js/dojox/mvc/tests/regression/mobile/test_mobile-list-single-sel-mvc.html	/^		function swapToModel1() {$/;"	f
swapToModel2	../js/dojox/mvc/tests/regression/mobile/test_mobile-list-multiple-sel-mvc.html	/^		function swapToModel2() {$/;"	f
swapToModel2	../js/dojox/mvc/tests/regression/mobile/test_mobile-list-single-sel-mvc.html	/^		function swapToModel2() {$/;"	f
swipeBubble	../js/dojox/gesture/tests/doh/bubble.html	/^					function swipeBubble(){$/;"	f
swipeStopBubble	../js/dojox/gesture/tests/doh/bubble.html	/^					function swipeStopBubble(){$/;"	f
swipe_swipeEnd	../js/dojox/gesture/tests/doh/swipe.html	/^					function swipe_swipeEnd(){$/;"	f
switchAnimation	../js/dojox/charting/tests/BidiSupport/bidi_Spider2d.html	/^			function switchAnimation(val){$/;"	f
switchAnimation	../js/dojox/charting/tests/test_spider2d.html	/^	function switchAnimation(val){$/;"	f
switchData	../js/dojox/charting/tests/BidiSupport/bidi_Spider2d.html	/^			function switchData(val){$/;"	f
switchData	../js/dojox/charting/tests/test_spider2d.html	/^	function switchData(val){$/;"	f
switchDivisions	../js/dojox/charting/tests/BidiSupport/bidi_Spider2d.html	/^			function switchDivisions(val){$/;"	f
switchDivisions	../js/dojox/charting/tests/test_spider2d.html	/^	function switchDivisions(val){$/;"	f
switchSpider	../js/dojox/charting/tests/BidiSupport/bidi_Spider2d.html	/^			function switchSpider(val){$/;"	f
switchSpider	../js/dojox/charting/tests/test_spider2d.html	/^	function switchSpider(val){$/;"	f
switchTo	../js/dojox/mobile/tests/doh/EdgeToEdgeDataList.html	/^			function switchTo(store){$/;"	f
switchTo	../js/dojox/mobile/tests/doh/EdgeToEdgeDataList_Programmatic.html	/^			function switchTo(store){$/;"	f
switchTo	../js/dojox/mobile/tests/doh/RoundRectDataList.html	/^			function switchTo(store){$/;"	f
switchTo	../js/dojox/mobile/tests/doh/RoundRectDataList_Programmatic.html	/^			function switchTo(store){$/;"	f
synthetic	../js/dijit/tests/_Widget-on.html	/^				function synthetic(){$/;"	f
syntheticNoCallbackArgs	../js/dijit/tests/_Widget-on.html	/^				function syntheticNoCallbackArgs(){$/;"	f
t2	../js/dojo/tests/_base/loader/cdnTest.js	/^var t2= dojo.i18n.getLocalization("dojo.tests._base.loader", "syncBundle", "ab-cd-ef");$/;"	v
t3	../js/dojo/tests/_base/loader/cdnTest.js	/^var t3= dojo.i18n.getLocalization("dojo.tests._base.loader", "amdBundle");$/;"	v
t4	../js/dojo/tests/_base/loader/cdnTest.js	/^var t4= dojo.i18n.getLocalization("dojo.tests._base.loader", "amdBundle", "ab-cd-ef");$/;"	v
tEvtData.fn	../js/dojox/jq.js	/^					fn: sEvtData[evtFullName].fn,$/;"	p
tabContainer	../js/dojox/layout/tests/resources/script_dnd.js	/^var tabContainer, gridContainer;$/;"	v
tabOrder	../js/dojox/mvc/tests/helpers.js	/^function tabOrder(\/*DomNode?*\/ root){$/;"	f
tabOrder	../js/dojox/mvc/tests/regression/helpers.js	/^function tabOrder(\/*DomNode?*\/ root){$/;"	f
tabOrder.walkTree	../js/dojox/mvc/tests/helpers.js	/^	function walkTree(\/*DOMNode*\/parent){$/;"	f
tabOrder.walkTree	../js/dojox/mvc/tests/regression/helpers.js	/^	function walkTree(\/*DOMNode*\/parent){$/;"	f
table	../js/dijit/tests/_TemplatedMixin.html	/^						function table(t){$/;"	f
tagClose	../js/dijit/tests/editor/html.html	/^				function tagClose(){$/;"	f
tapBubble	../js/dojox/gesture/tests/doh/bubble.html	/^					function tapBubble(){$/;"	f
tapHold	../js/dojox/gesture/tests/doh/tap.html	/^					function tapHold(){$/;"	f
tapStopBubble	../js/dojox/gesture/tests/doh/bubble.html	/^					function tapStopBubble(){$/;"	f
tearDown	../js/dijit/tests/form/Form.html	/^				function tearDown(){$/;"	f
tearDown	../js/dijit/tests/form/test_Select.html	/^						function tearDown(){$/;"	f
tearDown	../js/dijit/themes/themeTester-orig.html	/^		function tearDown(){$/;"	f
temp	../js/dojo/tests/store/DataStore.js	/^var temp = function(){$/;"	f
temp.two.even	../js/dojo/tests/store/DataStore.js	/^	var two = {id: 2, name: "two", even: true, prime: true},$/;"	p
temp.two.id	../js/dojo/tests/store/DataStore.js	/^	var two = {id: 2, name: "two", even: true, prime: true},$/;"	p
temp.two.name	../js/dojo/tests/store/DataStore.js	/^	var two = {id: 2, name: "two", even: true, prime: true},$/;"	p
temp.two.prime	../js/dojo/tests/store/DataStore.js	/^	var two = {id: 2, name: "two", even: true, prime: true},$/;"	p
tempArrayMajor	../js/dojox/flash/_base.js	/^				var tempArrayMajor = descArray[2].split(".");$/;"	v
test	../js/dijit/tests/_Widget-on.html	/^				function test(){$/;"	f
test	../js/dojox/calc/tests/test_Executor.html	/^		function test(text, ans){$/;"	f
test	../js/util/shrinksafe/tests/3241.js	/^var test = "data";$/;"	v
testAboveBelow	../js/dijit/tests/Tooltip-placement.html	/^			function testAboveBelow(textbox, verifyConnectorPosition){$/;"	f
testAddRemoveClassMultiple	../js/dojo/tests/_base/html.html	/^						function testAddRemoveClassMultiple(t){$/;"	f
testAndCallback	../js/dojo/tests/_base/html_box.html	/^			function testAndCallback(inTest, inAssert, inOk, inErr) {$/;"	f
testAndCallback	../js/dojo/tests/_base/html_box_quirks.html	/^			function testAndCallback(inTest, inAssert, inComment, inOk, inErr) {$/;"	f
testArrProp	../js/dojo/tests/parser/parser.html	/^					function testArrProp(t){$/;"	f
testAspect	../js/dojo/tests/parser/parser.html	/^					function testAspect(){$/;"	f
testBoolProp	../js/dojo/tests/parser/parser.html	/^					function testBoolProp(t){$/;"	f
testCache	../js/dojo/tests/_base/html_isBodyLtr.html	/^						function testCache(t){$/;"	f
testCheckedFlag	../js/dojo/tests/parser/parser.html	/^					function testCheckedFlag(t){$/;"	f
testClassFunctions	../js/dojo/tests/_base/html.html	/^						function testClassFunctions(t){$/;"	f
testClose	../js/dijit/tests/layout/ContentPane-remote.html	/^		function testClose(pane, tab){$/;"	f
testClose	../js/dijit/tests/layout/test_TabContainer.html	/^		function testClose(pane,tab){$/;"	f
testClose	../js/dijit/tests/layout/test_TabContainer_noLayout.html	/^		function testClose(pane,tab){$/;"	f
testClose	../js/dojox/xml/tests/mail.html	/^		function testClose(pane,tab){$/;"	f
testComplete	../js/dojox/data/tests/ml/test_HtmlStore_declaratively.html	/^		function testComplete(items, request){$/;"	f
testComplete	../js/dojox/data/tests/ml/test_HtmlStore_remote.html	/^		function testComplete(items, request){$/;"	f
testComplete	../js/dojox/data/tests/ml/test_HtmlTableStore_declaratively.html	/^		function testComplete(items, request){$/;"	f
testConnect	../js/dojo/tests/parser/parser.html	/^					function testConnect(t){$/;"	f
testConnect	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function testConnect(){$/;"	f
testCtrlSelect	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function testCtrlSelect(selector, clicker){$/;"	f
testDataDojoId	../js/dojo/tests/parser/parser.html	/^					function testDataDojoId(t){$/;"	f
testDateProp	../js/dojo/tests/parser/parser.html	/^					function testDateProp(t){$/;"	f
testDefaultValue	../js/dojo/tests/_base/html_isBodyLtr.html	/^						function testDefaultValue(t){$/;"	f
testDialog	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function testDialog(){$/;"	f
testDisabledFlag	../js/dojo/tests/parser/parser.html	/^					function testDisabledFlag(t){$/;"	f
testFirstReadOnly	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^		function testFirstReadOnly(newValue) {$/;"	f
testFirstReadOnly	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function testFirstReadOnly(newValue) {$/;"	f
testFirstRelevance	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^		function testFirstRelevance(newValue) {$/;"	f
testFirstRelevance	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function testFirstRelevance(newValue) {$/;"	f
testFullScreen	../js/dijit/tests/layout/robot/BorderContainer_full.html	/^					function testFullScreen(){$/;"	f
testFunctionAssignment	../js/dojo/tests/parser/parser.html	/^					function testFunctionAssignment(t){$/;"	f
testFunctionProp	../js/dojo/tests/parser/parser.html	/^					function testFunctionProp(t){$/;"	f
testGCSsvg	../js/dojo/tests/_base/html.html	/^						function testGCSsvg(t){$/;"	f
testHiddenIframe	../js/dojo/tests/_base/html_isBodyLtr.html	/^						function testHiddenIframe(t){$/;"	f
testHtmlValue	../js/dojo/tests/_base/html_isBodyLtr.html	/^						function testHtmlValue(t){$/;"	f
testIframeDestroy10095	../js/dojo/tests/_base/html.html	/^						function testIframeDestroy10095(t){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/AccordionTests.html	/^					function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/ButtonTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/CheckBoxTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/EdgeToEdgeCategoryTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/IconMenuTests.html	/^					function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/RadioButtonTests.html	/^			function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/SwitchTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/TabBarTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/ToggleButtonTests.html	/^				function testInView1(){$/;"	f
testInView1	../js/dojox/mobile/tests/doh/ToolBarButtonTests.html	/^				function testInView1(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/AccordionTests.html	/^					function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/ButtonTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/CheckBoxTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/EdgeToEdgeCategoryTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/IconContainerBadgeTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/IconContainerTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/IconMenuTests.html	/^					function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/RadioButtonTests.html	/^			function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/SwitchTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/TabBarTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/ToggleButtonTests.html	/^				function testInView2(){$/;"	f
testInView2	../js/dojox/mobile/tests/doh/ToolBarButtonTests.html	/^				function testInView2(){$/;"	f
testInputDisabled	../js/dojo/tests/_base/html.html	/^						function testInputDisabled(t){$/;"	f
testIntProp	../js/dojo/tests/parser/parser.html	/^					function testIntProp(t){$/;"	f
testInverted	../js/dijit/tests/form/robot/MultiSelect.html	/^			function testInverted(allOptions, selected, newSelected){$/;"	f
testJsId	../js/dojo/tests/parser/parser.html	/^					function testJsId(t){$/;"	f
testLabelForAttr	../js/dojo/tests/_base/html.html	/^						function testLabelForAttr(t){$/;"	f
testLastRelevance	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^		function testLastRelevance(newValue) {$/;"	f
testLastRelevance	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function testLastRelevance(newValue) {$/;"	f
testLastValid	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^		function testLastValid(newValue) {$/;"	f
testLastValid	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function testLastValid(newValue) {$/;"	f
testMID	../js/dojo/tests/parser/parser.html	/^					function testMID(){$/;"	f
testMarkupFactory	../js/dojo/tests/parser/parser.html	/^					function testMarkupFactory(t){$/;"	f
testMarkupFactoryClass	../js/dojo/tests/parser/parser.html	/^					function testMarkupFactoryClass(t){$/;"	f
testNoWrapOrLargeWords	../js/dijit/tests/Tooltip-placement.html	/^			function testNoWrapOrLargeWords(textbox){$/;"	f
testNode	../js/dijit/tests/_BidiSupport/tree/ProgrammaticTree.html	/^				function testNode(node,textDir){$/;"	f
testNodeAuto	../js/dijit/tests/_BidiSupport/tree/ProgrammaticTree.html	/^				function testNodeAuto(node,textDir){$/;"	f
testNonScrolled	../js/dojo/tests/_base/html_docScroll.html	/^						function testNonScrolled(t){$/;"	f
testNumValid	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^		function testNumValid(newValue) {$/;"	f
testNumValid	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function testNumValid(newValue) {$/;"	f
testNumber	../js/dojox/robot/recorder.js	/^var testNumber = 0;$/;"	v
testOn	../js/dijit/tests/form/robot/ValidationTextBox.html	/^				function testOn(evt, widget, deferred, callback, delay){$/;"	f
testOn	../js/dijit/tests/form/robot/validationMessages.html	/^			function testOn(evt, widget, deferred, callback, delay){$/;"	f
testOn2	../js/dojo/tests/parser/parser.html	/^					function testOn2(){$/;"	f
testOnWatch	../js/dojo/tests/parser/parser.html	/^					function testOnWatch(){$/;"	f
testQuirksNonScrolled	../js/dojo/tests/_base/html_docScroll.html	/^						function testQuirksNonScrolled(t){$/;"	f
testQuirksScrolled	../js/dojo/tests/_base/html_docScroll.html	/^						function testQuirksScrolled(t){$/;"	f
testRequire	../js/dojo/tests/_base/loader/onerror.html	/^			function testRequire(deps, sync){$/;"	f
testRequireNoexist	../js/dojo/tests/_base/loader/onerror.html	/^			function testRequireNoexist(count, exist){$/;"	f
testRequired	../js/dojox/mvc/tests/regression/doh_mvc_binding-simple.html	/^		function testRequired(newValue) {$/;"	f
testRequired	../js/dojox/mvc/tests/regression/test_mvc_bindings-simple.html	/^			function testRequired(newValue) {$/;"	f
testRightOrLeft	../js/dijit/tests/Tooltip-placement.html	/^			function testRightOrLeft(textbox, verifyFullWidthIsUtilized){$/;"	f
testRtl	../js/dojo/tests/_base/html_isBodyLtr.html	/^						function testRtl(t){$/;"	f
testScrolled	../js/dojo/tests/_base/html_docScroll.html	/^						function testScrolled(t){$/;"	f
testService	../js/dojox/data/tests/stores/JsonQueryRestStore.js	/^testService = function(query){$/;"	f
testSingleItem	../js/dijit/tests/tree/robot/Tree_selector.html	/^			function testSingleItem(selector, clicker){$/;"	f
testSlice	../js/dojox/flash/tests/test_flash.js	/^function testSlice( testString, from, to){$/;"	f
testSpeed	../js/dojo/tests/_base/html_docScroll.html	/^						function testSpeed(t){$/;"	f
testStore	../js/dojox/grid/tests/enhanced/test_enhanced_grid_plugins.html	/^		function testStore(){$/;"	f
testStrProp	../js/dojo/tests/parser/parser.html	/^					function testStrProp(t){$/;"	f
testSubNodeParse	../js/dojo/tests/parser/parser.html	/^					function testSubNodeParse(t){$/;"	f
testSurface	../js/dojox/gfx/tests/svgweb/sample.html	/^			function testSurface() {$/;"	f
testTableLoaded	../js/dojox/data/tests/ml/test_HtmlStore_declaratively.html	/^				function testTableLoaded(t){$/;"	f
testTableLoaded	../js/dojox/data/tests/ml/test_HtmlStore_remote.html	/^				function testTableLoaded(t){$/;"	f
testTableLoaded	../js/dojox/data/tests/ml/test_HtmlTableStore_declaratively.html	/^				function testTableLoaded(t){$/;"	f
testUnwantedParams	../js/dojo/tests/parser/parser.html	/^					function testUnwantedParams(t){$/;"	f
testWidget	../js/dijit/tests/NodeList-instantiate.html	/^					function testWidget(){$/;"	f
testWidget2	../js/dijit/tests/NodeList-instantiate.html	/^					function testWidget2(){$/;"	f
testXML	../js/dojox/flash/tests/test_flash.js	/^var testXML = testBook = null;$/;"	v
test_7036_8665	../js/dojo/tests/window/test_scroll.html	/^				function test_7036_8665(){$/;"	f
test_8249	../js/dojo/tests/window/test_scroll.html	/^				function test_8249(){$/;"	f
test_8284	../js/dojo/tests/window/test_scroll.html	/^				function test_8284(){$/;"	f
test_8542	../js/dojo/tests/window/test_scroll.html	/^				function test_8542(){$/;"	f
test_AUTO_TextDir	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_AUTO_TextDir(){$/;"	f
test_ActionFilter_required	../js/dojox/wire/tests/markup/Action.html	/^		function test_ActionFilter_required(t){$/;"	f
test_ActionFilter_requiredSpecificBoolean	../js/dojox/wire/tests/markup/Action.html	/^		function test_ActionFilter_requiredSpecificBoolean(t){$/;"	f
test_ActionFilter_requiredSpecificNumber	../js/dojox/wire/tests/markup/Action.html	/^		function test_ActionFilter_requiredSpecificNumber(t){$/;"	f
test_ActionFilter_requiredSpecificString	../js/dojox/wire/tests/markup/Action.html	/^		function test_ActionFilter_requiredSpecificString(t){$/;"	f
test_Action_triggerEvent	../js/dojox/wire/tests/markup/Action.html	/^		function test_Action_triggerEvent(t){$/;"	f
test_Action_triggerTopic	../js/dojox/wire/tests/markup/Action.html	/^		function test_Action_triggerTopic(t){$/;"	f
test_Button_Verification	../js/dojox/mobile/tests/doh/Button.html	/^					function test_Button_Verification(){$/;"	f
test_Button_Verification	../js/dojox/mobile/tests/doh/Button_Programmatic.html	/^					function test_Button_Verification(){$/;"	f
test_ChildWire	../js/dojox/wire/tests/markup/Transfer.html	/^		function test_ChildWire(t){$/;"	f
test_ColumnWire	../js/dojox/wire/tests/markup/Transfer.html	/^		function test_ColumnWire(t){$/;"	f
test_DataProperty	../js/dojox/wire/tests/markup/Data.html	/^		function test_DataProperty(t){$/;"	f
test_DataStore_url	../js/dojox/wire/tests/markup/DataStore.html	/^		function test_DataStore_url(t){$/;"	f
test_DatePickerIso	../js/dojox/mobile/tests/doh/DatePickerIso.html	/^					function test_DatePickerIso(){$/;"	f
test_Heading_Verification	../js/dojox/mobile/tests/doh/Heading_Programmatic.html	/^					function test_Heading_Verification(){$/;"	f
test_Invocation_method	../js/dojox/wire/tests/markup/Invocation.html	/^		function test_Invocation_method(t){$/;"	f
test_Invocation_topic	../js/dojox/wire/tests/markup/Invocation.html	/^		function test_Invocation_topic(t){$/;"	f
test_LTR_TextDir	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_LTR_TextDir(){$/;"	f
test_LTR_TextDir_RTL_dir	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_LTR_TextDir_RTL_dir(){$/;"	f
test_NodeWire	../js/dojox/wire/tests/markup/Transfer.html	/^		function test_NodeWire(t){$/;"	f
test_PopupMenuBarItem_TextDirAUTO	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_PopupMenuBarItem_TextDirAUTO(){$/;"	f
test_PopupMenuBarItem_TextDirLTR	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_PopupMenuBarItem_TextDirLTR(){$/;"	f
test_PopupMenuBarItem_TextDirRTL	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_PopupMenuBarItem_TextDirRTL(){$/;"	f
test_PopupMenuItem_TextDirAUTO	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_PopupMenuItem_TextDirAUTO(){$/;"	f
test_PopupMenuItem_TextDirRTL	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_PopupMenuItem_TextDirRTL(){$/;"	f
test_RTL_TextDir	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_RTL_TextDir(){$/;"	f
test_RTL_TextDir_LTR_dir	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_RTL_TextDir_LTR_dir(){$/;"	f
test_RoundRectList_Verification	../js/dojox/mobile/tests/doh/progress-indicator.html	/^					function test_RoundRectList_Verification(){$/;"	f
test_RtrSimpleTexBoxInheritTabContainer	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_RtrSimpleTexBoxInheritTabContainer(){$/;"	f
test_SegimentWire	../js/dojox/wire/tests/markup/Transfer.html	/^		function test_SegimentWire(t){$/;"	f
test_Service_serviceUrl	../js/dojox/wire/tests/markup/Service.html	/^		function test_Service_serviceUrl(t){$/;"	f
test_Service_url	../js/dojox/wire/tests/markup/Service.html	/^		function test_Service_url(t){$/;"	f
test_Transfer_attribute	../js/dojox/wire/tests/markup/Transfer.html	/^		function test_Transfer_attribute(t){$/;"	f
test_Transfer_path	../js/dojox/wire/tests/markup/Transfer.html	/^		function test_Transfer_path(t){$/;"	f
test_absContent	../js/dojo/tests/window/test_scroll.html	/^				function test_absContent(){$/;"	f
test_addSelected	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_addSelected(t){$/;"	f
test_all	../js/dijit/tests/form/test_verticalAlign.html	/^			function test_all(pre){$/;"	f
test_autoComboBoxInheritTableLtr	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_autoComboBoxInheritTableLtr(){$/;"	f
test_autoComboBoxInheritTableLtr	../js/dijit/tests/_BidiSupport/inheritance/Inher-Simple.html	/^					function test_autoComboBoxInheritTableLtr(){$/;"	f
test_autoComboBoxInheritTableRtl	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_autoComboBoxInheritTableRtl(){$/;"	f
test_autoComboBoxInheritTableRtl	../js/dijit/tests/_BidiSupport/inheritance/Inher-Simple.html	/^					function test_autoComboBoxInheritTableRtl(){$/;"	f
test_autoSimpleTexBoxInheritTabContainersPaneRtl	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_autoSimpleTexBoxInheritTabContainersPaneRtl(){$/;"	f
test_autoSimpleTextareaInheritPane1	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_autoSimpleTextareaInheritPane1(){$/;"	f
test_autoSimpleTextareaInheritPane2	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_autoSimpleTextareaInheritPane2(){$/;"	f
test_boxModel	../js/dojo/tests/uacss/sniffQuirks.html	/^				function test_boxModel(t) {$/;"	f
test_boxModel	../js/dojo/tests/uacss/sniffStandards.html	/^				function test_boxModel(t) {$/;"	f
test_changeLabel_forAUTO	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_changeLabel_forAUTO(){$/;"	f
test_changeSelected	../js/dijit/tests/form/test_Select.html	/^						function test_changeSelected(t){$/;"	f
test_changeSelected	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_changeSelected(t){$/;"	f
test_deleteNonSelected	../js/dijit/tests/form/test_Select.html	/^						function test_deleteNonSelected(t){$/;"	f
test_deleteNonSelected	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_deleteNonSelected(t){$/;"	f
test_deleteSelected	../js/dijit/tests/form/test_Select.html	/^						function test_deleteSelected(t){$/;"	f
test_deleteSelected	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_deleteSelected(t){$/;"	f
test_destroyRecursive	../js/dojox/widget/tests/test_PlaceholderMenuItem.html	/^					function test_destroyRecursive(t){$/;"	f
test_fixedNode	../js/dojo/tests/window/test_scroll.html	/^				function test_fixedNode(){$/;"	f
test_fixedScrollable	../js/dojo/tests/window/test_scroll.html	/^				function test_fixedScrollable(){$/;"	f
test_formDegrade	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_formDegrade(t){$/;"	f
test_getOldValue	../js/dojox/form/tests/test_PasswordValidator.html	/^						function test_getOldValue(t){$/;"	f
test_getPlaceholder	../js/dojox/widget/tests/test_PlaceholderMenuItem.html	/^					function test_getPlaceholder(t){$/;"	f
test_getValue	../js/dojox/form/tests/test_PasswordValidator.html	/^						function test_getValue(t){$/;"	f
test_getValues	../js/dojox/form/tests/test_SelectStack.html	/^						function test_getValues(t){$/;"	f
test_getValuesInTable	../js/dojox/form/tests/test_PasswordValidator.html	/^						function test_getValuesInTable(t){ $/;"	f
test_gridFormatters	../js/dojox/grid/tests/test_grid_formatters.html	/^					function test_gridFormatters(t){$/;"	f
test_htmlPadding	../js/dojo/tests/window/test_scroll.html	/^				function test_htmlPadding(){$/;"	f
test_innerNoScrollBars	../js/dojo/tests/window/test_scroll.html	/^				function test_innerNoScrollBars(){$/;"	f
test_innerScrollbars	../js/dojo/tests/window/test_scroll.html	/^				function test_innerScrollbars(){$/;"	f
test_isValid	../js/dojox/form/tests/test_PasswordValidator.html	/^						function test_isValid(t){$/;"	f
test_ltrComboBoxInheritTable	../js/dijit/tests/_BidiSupport/inheritance/Inher-Simple.html	/^					function test_ltrComboBoxInheritTable(){$/;"	f
test_ltrFilterSelectInheritAccordion	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_ltrFilterSelectInheritAccordion(){$/;"	f
test_ltrTextBoxInheritFromDiv	../js/dijit/tests/_BidiSupport/inheritance/Inher-Simple.html	/^					function test_ltrTextBoxInheritFromDiv(){$/;"	f
test_ltrTextareaInheritPane1	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_ltrTextareaInheritPane1(){$/;"	f
test_ltrTextareaInheritPane2	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_ltrTextareaInheritPane2(){$/;"	f
test_newItem	../js/dijit/tests/form/test_Select.html	/^						function test_newItem(t){$/;"	f
test_newItem	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_newItem(t){$/;"	f
test_noScrollBars	../js/dojo/tests/window/test_scroll.html	/^				function test_noScrollBars(){$/;"	f
test_oldPW	../js/dojox/form/tests/test_PasswordValidator.html	/^						function test_oldPW(t){$/;"	f
test_programmat_menuitem	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^					function test_programmat_menuitem(){$/;"	f
test_replace	../js/dojox/widget/tests/test_PlaceholderMenuItem.html	/^					function test_replace(t){$/;"	f
test_rtlComboBoxInheritTable	../js/dijit/tests/_BidiSupport/inheritance/Inher-Simple.html	/^					function test_rtlComboBoxInheritTable(){$/;"	f
test_rtlFilterSelectInheritAccordion	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_rtlFilterSelectInheritAccordion(){$/;"	f
test_rtlTextBoxInheritBody	../js/dijit/tests/_BidiSupport/inheritance/Inher-Simple.html	/^					function test_rtlTextBoxInheritBody(){$/;"	f
test_rtlTextareaInheritPane1	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_rtlTextareaInheritPane1(){$/;"	f
test_rtlTextareaInheritPane2	../js/dijit/tests/_BidiSupport/inheritance/Inher-MarkupContainers.html	/^					function test_rtlTextareaInheritPane2(){$/;"	f
test_setDisabled	../js/dojox/form/tests/test_PasswordValidator.html	/^						function test_setDisabled(t){$/;"	f
test_setOptions	../js/dijit/tests/form/test_Select.html	/^						function test_setOptions(t){$/;"	f
test_setStore	../js/dijit/tests/form/test_Select.html	/^						function test_setStore(t){$/;"	f
test_setValue	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_setValue(t){$/;"	f
test_setValues	../js/dojox/form/tests/test_SelectStack.html	/^						function test_setValues(t){$/;"	f
test_storeBased	../js/dojox/form/tests/test_CheckedMultiSelect.html	/^							function test_storeBased(t){$/;"	f
test_table	../js/dojo/tests/window/test_scroll.html	/^				function test_table(){$/;"	f
test_tooBig	../js/dojo/tests/window/test_scroll.html	/^				function test_tooBig(){$/;"	f
test_unReplace	../js/dojox/widget/tests/test_PlaceholderMenuItem.html	/^					function test_unReplace(t){$/;"	f
testnostart	../js/dojo/tests/parser/parser.html	/^					function testnostart(t){$/;"	f
testsToRun	../js/dojox/date/tests/timezone.js	/^var testsToRun = [$/;"	v
text	../js/dojo/tests/NodeList-manipulate.html	/^					function text(t){$/;"	f
text	../js/dojo/tests/_base/loader/requirejs/text/text.html	/^	                    function text(t){$/;"	f
textContentHandler	../js/dojo/tests/_base/xhr.html	/^						function textContentHandler(t){$/;"	f
textFx.backspace	../js/dojox/fx/text.js	/^textFx.backspace = function(\/*Object*\/ args){$/;"	f
textFx.blockFadeIn	../js/dojox/fx/text.js	/^textFx.blockFadeIn = function(\/*Object*\/ args){$/;"	f
textFx.blockFadeOut	../js/dojox/fx/text.js	/^textFx.blockFadeOut = function(\/*Object*\/ args){$/;"	f
textFx.build	../js/dojox/fx/text.js	/^textFx.build = function(\/*Object*\/ args){$/;"	f
textFx.converge	../js/dojox/fx/text.js	/^textFx.converge = function(\/*Object*\/ args){$/;"	f
textFx.disintegrate	../js/dojox/fx/text.js	/^textFx.disintegrate = function(\/*Object*\/ args){$/;"	f
textFx.explode	../js/dojox/fx/text.js	/^textFx.explode = function(\/*Object*\/ args){$/;"	f
textFx.type	../js/dojox/fx/text.js	/^textFx.type = function(\/*Object*\/ args){$/;"	f
textOnly	../js/dojo/tests/_base/loader/requirejs/text/textOnly.html	/^                    function textOnly(t){$/;"	f
text_explode_2	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^var text_explode_2 = function(node){$/;"	f
text_explode_2.properties.distance	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^		distance: 1.5,$/;"	p
text_explode_2.properties.node	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^		node: node,$/;"	p
text_explode_2.properties.words	../js/dojox/widget/tests/test_PortletInGridContainer.js	/^		words: true,$/;"	p
textarea	../js/dojo/tests/parser/parser.html	/^					function textarea(){$/;"	f
textdirAttr	../js/dojo/tests/parser/parser.html	/^					function textdirAttr(){$/;"	f
theme._clone	../js/dojox/widget/DataPresentation.js	/^	        theme._clone = function(){$/;"	f
themeOnChange	../js/dijit/tests/form/TextBox_sizes.html	/^		function themeOnChange(theme){$/;"	f
this._fireLoaded	../js/dojox/storage/manager.js	/^	this._fireLoaded = function(){$/;"	m
this.addOnLoad	../js/dojox/storage/manager.js	/^	this.addOnLoad = function(func){ \/* void *\/$/;"	m
this.autodetect	../js/dojox/storage/manager.js	/^	this.autodetect = function(){$/;"	m
this.getProvider	../js/dojox/storage/manager.js	/^	this.getProvider = function(){ \/* Object *\/$/;"	m
this.getResourceList	../js/dojox/storage/manager.js	/^	this.getResourceList = function(){$/;"	m
this.initialize	../js/dojox/storage/manager.js	/^	this.initialize = function(){$/;"	m
this.isAvailable	../js/dojox/storage/manager.js	/^	this.isAvailable = function(){ \/*Boolean*\/$/;"	m
this.isInitialized	../js/dojox/storage/manager.js	/^	this.isInitialized = function(){ \/*Boolean*\/$/;"	m
this.loaded	../js/dojox/storage/manager.js	/^	this.loaded = function(){$/;"	m
this.register	../js/dojox/storage/manager.js	/^	this.register = function(\/*string*\/ name, \/*Object*\/ instance){$/;"	m
this.removeOnLoad	../js/dojox/storage/manager.js	/^	this.removeOnLoad = function(func){ \/* void *\/$/;"	m
this.setProvider	../js/dojox/storage/manager.js	/^	this.setProvider = function(storageClass){$/;"	m
this.supportsProvider	../js/dojox/storage/manager.js	/^	this.supportsProvider = function(\/*string*\/ storageClass){ \/* Boolean *\/$/;"	m
thisIsAtestFunction	../js/util/docscripts/tests/simple.js	/^dojo.require("dojo.cookie");$/;"	f
tileLoaded	../js/dojox/geo/openlayers/tests/test_bench.html	/^	function tileLoaded(event){$/;"	f
timeInterval	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^var timeInterval = 500;$/;"	v
timeout.failOn	../js/dojox/lang/async/timeout.js	/^	timeout.failOn = function(ms){$/;"	f
timeout.from	../js/dojox/lang/async/timeout.js	/^	timeout.from = function(ms){$/;"	f
timeoutInterval	../js/dojox/mobile/tests/doh/FixedSplitterTests.js	/^var timeoutInterval = 1500;$/;"	v
timeoutInterval	../js/dojox/mobile/tests/doh/PageIndicatorTests.js	/^var timeoutInterval = 3000;$/;"	v
timestamp	../js/util/build/examples/profile-with-code.profile.js	/^function timestamp(){$/;"	f
toArray	../js/dijit/tests/registry.html	/^				function toArray(){$/;"	f
toArrayTest	../js/dijit/tests/_base/manager.html	/^					function toArrayTest(t){$/;"	f
toDeg	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature.html	/^		function toDeg(r){$/;"	f
toDeg	../js/dojox/geo/openlayers/tests/widgetFeature/test_widgetFeature_amd.html	/^		function toDeg(r){$/;"	f
toDom	../js/dojox/jq.js	/^	function toDom(\/*String*\/html, \/*Document?*\/doc){$/;"	f
toDomOption	../js/dojo/tests/_base/html_element.html	/^						function toDomOption(t){$/;"	f
toDomSpans	../js/dojo/tests/_base/html_element.html	/^						function toDomSpans(t){$/;"	f
toDomText	../js/dojo/tests/_base/html_element.html	/^						function toDomText(t){$/;"	f
toDomTr	../js/dojo/tests/_base/html_element.html	/^						function toDomTr(t){$/;"	f
toTheLeftOrRight	../js/dijit/tests/Tooltip-placement.html	/^			function toTheLeftOrRight(textbox){$/;"	f
toggle	../js/dojox/grid/tests/test_expand.html	/^		function toggle(inIndex, inShow) {$/;"	f
toggle	../js/dojox/robot/recorder.js	/^var toggle = function(){$/;"	f
toggleDetail	../js/dojox/grid/tests/test_subgrid.html	/^		function toggleDetail(inIndex, inShow) {$/;"	f
toggleDisabled	../js/dijit/tests/form/_autoComplete.html	/^		function toggleDisabled(button, widget){$/;"	f
toggleDisabled	../js/dijit/tests/form/test_Button.html	/^		function toggleDisabled(){$/;"	f
toggleDisabled	../js/dojox/grid/tests/enhanced/test_enhanced_grid_indirectSelection.html	/^		function toggleDisabled(id){$/;"	f
toggleFieldset	../js/dojox/data/tests/QueryReadStore.html	/^		    function toggleFieldset(el) {$/;"	f
toggleGrid	../js/dojox/grid/tests/enhanced/test_enhanced_grid_leak_programmatic.html	/^			function toggleGrid() {$/;"	f
toggleGrid	../js/dojox/grid/tests/test_grid_programmatic_leak_test.html	/^			function toggleGrid() {$/;"	f
toggleMenu	../js/dojox/grid/tests/test_grid_tooltip_menu.html	/^		function toggleMenu(button){$/;"	f
toggleMergeById	../js/dojox/grid/tests/enhanced/test_enhanced_grid_cellmerge.html	/^			function toggleMergeById(){$/;"	f
toggleMergeByIndex	../js/dojox/grid/tests/enhanced/test_enhanced_grid_cellmerge.html	/^			function toggleMergeByIndex(){$/;"	f
togglePanel	../js/dijit/tests/layout/test_BorderContainer.html	/^		function togglePanel(button, id){$/;"	f
toggleRefs	../js/dojox/mvc/tests/regression/test_mvc_simple-programmatic.html	/^		  function toggleRefs(){$/;"	f
toggleSection	../js/dojox/mobile/tests/index.html	/^		function toggleSection(e) {$/;"	f
toggleTooltip	../js/dojox/grid/tests/test_grid_tooltip_menu.html	/^		function toggleTooltip(button){$/;"	f
tooltipAppears	../js/dijit/tests/form/test_Select.html	/^						function tooltipAppears(){$/;"	f
tooltipArgs.text	../js/dojox/widget/DataPresentation.js	/^						tooltipArgs.text = function(o){$/;"	f
top	../js/dojox/fx/tests/test_scroll.html	/^	<a name="top"><\/a>$/;"	a
topLevelItemDelete	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function topLevelItemDelete(){$/;"	f
topLevelItemDelete	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function topLevelItemDelete(){$/;"	f
topLevelItemInsert	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function topLevelItemInsert(){$/;"	f
topLevelItemInsert	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function topLevelItemInsert(){$/;"	f
topLevelItemModify	../js/dijit/tests/tree/Tree_ForestStoreModel.html	/^				function topLevelItemModify(){$/;"	f
topLevelItemModify	../js/dijit/tests/tree/Tree_ObjectStoreModel.html	/^					function topLevelItemModify(){$/;"	f
topic	../js/dojo/tests/on/on.js	/^var topic = dojo.require("dojo.topic");$/;"	v
topic.failOn	../js/dojox/lang/async/topic.js	/^	topic.failOn = function(topic){$/;"	f
topic.from	../js/dojox/lang/async/topic.js	/^	topic.from = function(topic){$/;"	f
topics	../js/dojo/tests/behavior.html	/^						function topics(t){$/;"	f
topics.ajaxComplete	../js/dojox/jq.js	/^		"ajaxComplete": "\/dojo\/io\/done",$/;"	p
topics.ajaxError	../js/dojox/jq.js	/^		"ajaxError": "\/dojo\/io\/error",$/;"	p
topics.ajaxSend	../js/dojox/jq.js	/^		"ajaxSend": "\/dojo\/io\/send",$/;"	p
topics.ajaxStart	../js/dojox/jq.js	/^		"ajaxStart": "\/dojo\/io\/start",$/;"	p
topics.ajaxStop	../js/dojox/jq.js	/^		"ajaxStop": "\/dojo\/io\/stop"$/;"	p
topics.ajaxSuccess	../js/dojox/jq.js	/^		"ajaxSuccess": "\/dojo\/io\/load",$/;"	p
totalCount	../js/dojox/grid/tests/enhanced/support/test_repeat.js	/^var totalCount = 1000;$/;"	v
trademarks	../js/util/buildscripts/cldr/lib/APL-2.0.html	/^<p><b><a name="trademarks">6. Trademarks<\/a><\/b>.$/;"	a
tree	../js/util/less/tree/expression.js	/^tree.Expression.prototype = {$/;"	c
tree	../js/util/less/tree/keyword.js	/^tree.Keyword.prototype = {$/;"	c
tree	../js/util/less/tree/rule.js	/^tree.Rule.prototype.toCSS = function (env) {$/;"	c
tree	../js/util/less/tree/rule.js	/^tree.Shorthand = function (a, b) {$/;"	m
tree	../js/util/less/tree/variable.js	/^tree.Variable.prototype = {$/;"	c
tree.Alpha	../js/util/less/tree/alpha.js	/^tree.Alpha.prototype = {$/;"	c
tree.Alpha.eval	../js/util/less/tree/alpha.js	/^    eval: function (env) {$/;"	m
tree.Alpha.toCSS	../js/util/less/tree/alpha.js	/^    toCSS: function () {$/;"	m
tree.Anonymous	../js/util/less/tree/anonymous.js	/^tree.Anonymous.prototype = {$/;"	c
tree.Anonymous.eval	../js/util/less/tree/anonymous.js	/^    eval: function () { return this }$/;"	m
tree.Anonymous.toCSS	../js/util/less/tree/anonymous.js	/^    toCSS: function () {$/;"	m
tree.Assignment	../js/util/less/tree/assignment.js	/^tree.Assignment.prototype = {$/;"	c
tree.Assignment.eval	../js/util/less/tree/assignment.js	/^    eval: function (env) {$/;"	m
tree.Assignment.toCSS	../js/util/less/tree/assignment.js	/^    toCSS: function () {$/;"	m
tree.Call	../js/util/less/tree/call.js	/^tree.Call.prototype = {$/;"	c
tree.Call.eval	../js/util/less/tree/call.js	/^    eval: function (env) {$/;"	m
tree.Color	../js/util/less/tree/color.js	/^tree.Color.prototype = {$/;"	c
tree.Color.eval	../js/util/less/tree/color.js	/^    eval: function () { return this },$/;"	m
tree.Color.operate	../js/util/less/tree/color.js	/^    operate: function (op, other) {$/;"	m
tree.Color.toCSS	../js/util/less/tree/color.js	/^    toCSS: function () {$/;"	m
tree.Color.toHSL	../js/util/less/tree/color.js	/^    toHSL: function () {$/;"	m
tree.Combinator	../js/util/less/tree/element.js	/^tree.Combinator = function (value) {$/;"	f
tree.Combinator	../js/util/less/tree/element.js	/^tree.Combinator.prototype.toCSS = function (env) {$/;"	c
tree.Combinator.toCSS	../js/util/less/tree/element.js	/^tree.Combinator.prototype.toCSS = function (env) {$/;"	m
tree.Comment	../js/util/less/tree/comment.js	/^tree.Comment.prototype = {$/;"	c
tree.Comment.eval	../js/util/less/tree/comment.js	/^    eval: function () { return this }$/;"	m
tree.Comment.toCSS	../js/util/less/tree/comment.js	/^    toCSS: function (env) {$/;"	m
tree.Condition	../js/util/less/tree/condition.js	/^tree.Condition.prototype.eval = function (env) {$/;"	c
tree.Condition.eval	../js/util/less/tree/condition.js	/^tree.Condition.prototype.eval = function (env) {$/;"	m
tree.Dimension	../js/util/less/tree/dimension.js	/^tree.Dimension.prototype = {$/;"	c
tree.Dimension.compare	../js/util/less/tree/dimension.js	/^    compare: function (other) {$/;"	m
tree.Dimension.eval	../js/util/less/tree/dimension.js	/^    eval: function () { return this },$/;"	m
tree.Dimension.operate	../js/util/less/tree/dimension.js	/^    operate: function (op, other) {$/;"	m
tree.Dimension.toCSS	../js/util/less/tree/dimension.js	/^    toCSS: function () {$/;"	m
tree.Dimension.toColor	../js/util/less/tree/dimension.js	/^    toColor: function () {$/;"	m
tree.Directive	../js/util/less/tree/directive.js	/^tree.Directive.prototype = {$/;"	c
tree.Directive.eval	../js/util/less/tree/directive.js	/^    eval: function (env) {$/;"	m
tree.Directive.toCSS	../js/util/less/tree/directive.js	/^    toCSS: function (ctx, env) {$/;"	m
tree.Directive.variable	../js/util/less/tree/directive.js	/^    variable: function (name) { return tree.Ruleset.prototype.variable.call(this.ruleset, name) },$/;"	m
tree.Element	../js/util/less/tree/element.js	/^tree.Element.prototype.eval = function (env) {$/;"	c
tree.Element.eval	../js/util/less/tree/element.js	/^tree.Element.prototype.eval = function (env) {$/;"	m
tree.Element.toCSS	../js/util/less/tree/element.js	/^tree.Element.prototype.toCSS = function (env) {$/;"	m
tree.Import	../js/util/less/tree/import.js	/^tree.Import.prototype = {$/;"	c
tree.Import.eval	../js/util/less/tree/import.js	/^    eval: function (env) {$/;"	m
tree.Import.toCSS	../js/util/less/tree/import.js	/^    toCSS: function (env) {$/;"	m
tree.JavaScript	../js/util/less/tree/javascript.js	/^tree.JavaScript.prototype = {$/;"	c
tree.JavaScript.eval	../js/util/less/tree/javascript.js	/^    eval: function (env) {$/;"	m
tree.Operation	../js/util/less/tree/operation.js	/^tree.Operation.prototype.eval = function (env) {$/;"	c
tree.Operation.eval	../js/util/less/tree/operation.js	/^tree.Operation.prototype.eval = function (env) {$/;"	m
tree.Paren	../js/util/less/tree/paren.js	/^tree.Paren.prototype = {$/;"	c
tree.Paren.eval	../js/util/less/tree/paren.js	/^    eval: function (env) {$/;"	m
tree.Paren.toCSS	../js/util/less/tree/paren.js	/^    toCSS: function (env) {$/;"	m
tree.Quoted	../js/util/less/tree/quoted.js	/^tree.Quoted.prototype = {$/;"	c
tree.Quoted.eval	../js/util/less/tree/quoted.js	/^    eval: function (env) {$/;"	m
tree.Quoted.toCSS	../js/util/less/tree/quoted.js	/^    toCSS: function () {$/;"	m
tree.Ruleset	../js/util/less/tree/ruleset.js	/^tree.Ruleset.prototype = {$/;"	c
tree.Ruleset.eval	../js/util/less/tree/ruleset.js	/^    eval: function (env) {$/;"	m
tree.Ruleset.find	../js/util/less/tree/ruleset.js	/^    find: function (selector, self) {$/;"	m
tree.Ruleset.joinSelector	../js/util/less/tree/ruleset.js	/^    joinSelector: function (paths, context, selector) {$/;"	m
tree.Ruleset.joinSelectors	../js/util/less/tree/ruleset.js	/^    joinSelectors: function (paths, context, selectors) {$/;"	m
tree.Ruleset.match	../js/util/less/tree/ruleset.js	/^    match: function (args) {$/;"	m
tree.Ruleset.rulesets	../js/util/less/tree/ruleset.js	/^    rulesets: function () {$/;"	m
tree.Ruleset.toCSS	../js/util/less/tree/ruleset.js	/^    toCSS: function (context, env) {$/;"	m
tree.Ruleset.variable	../js/util/less/tree/ruleset.js	/^    variable: function (name) {$/;"	m
tree.Ruleset.variables	../js/util/less/tree/ruleset.js	/^    variables: function () {$/;"	m
tree.Selector	../js/util/less/tree/selector.js	/^tree.Selector.prototype.match = function (other) {$/;"	c
tree.Selector.eval	../js/util/less/tree/selector.js	/^tree.Selector.prototype.eval = function (env) {$/;"	m
tree.Selector.match	../js/util/less/tree/selector.js	/^tree.Selector.prototype.match = function (other) {$/;"	m
tree.Selector.toCSS	../js/util/less/tree/selector.js	/^tree.Selector.prototype.toCSS = function (env) {$/;"	m
tree.URL	../js/util/less/tree/url.js	/^tree.URL.prototype = {$/;"	c
tree.URL.eval	../js/util/less/tree/url.js	/^    eval: function (ctx) {$/;"	m
tree.URL.toCSS	../js/util/less/tree/url.js	/^    toCSS: function () {$/;"	m
tree.Value	../js/util/less/tree/value.js	/^tree.Value.prototype = {$/;"	c
tree.Value.eval	../js/util/less/tree/value.js	/^    eval: function (env) {$/;"	m
tree.Value.toCSS	../js/util/less/tree/value.js	/^    toCSS: function (env) {$/;"	m
tree.c.c	../js/dojo/OpenAjax.js	/^					tree.c[token] = { c: {}, s: [] };$/;"	p
tree.compare	../js/util/less/tree/keyword.js	/^    compare: function (other) {$/;"	m
tree.eval	../js/util/less/tree/rule.js	/^    eval: function () { return this }$/;"	m
tree.mixin.Call	../js/util/less/tree/mixin.js	/^tree.mixin.Call = function (elements, args, index) {$/;"	c
tree.mixin.Call.eval	../js/util/less/tree/mixin.js	/^    eval: function (env) {$/;"	m
tree.mixin.Definition	../js/util/less/tree/mixin.js	/^tree.mixin.Definition = function (name, params, rules, condition) {$/;"	c
tree.mixin.Definition.evalParams	../js/util/less/tree/mixin.js	/^    evalParams: function (env, args) {$/;"	m
tree.mixin.Definition.find	../js/util/less/tree/mixin.js	/^    find:      function ()     { return this.parent.find.apply(this, arguments) },$/;"	m
tree.mixin.Definition.rulesets	../js/util/less/tree/mixin.js	/^    rulesets:  function ()     { return this.parent.rulesets.apply(this) },$/;"	m
tree.mixin.Definition.toCSS	../js/util/less/tree/mixin.js	/^    toCSS:     function ()     { return "" },$/;"	m
tree.mixin.Definition.variable	../js/util/less/tree/mixin.js	/^    variable:  function (name) { return this.parent.variable.call(this, name) },$/;"	m
tree.mixin.Definition.variables	../js/util/less/tree/mixin.js	/^    variables: function ()     { return this.parent.variables.call(this) },$/;"	m
tree.operate	../js/util/less/tree/operation.js	/^tree.operate = function (op, a, b) {$/;"	f
tree.toCSS	../js/util/less/tree/expression.js	/^    toCSS: function (env) {$/;"	m
tree.toCSS	../js/util/less/tree/keyword.js	/^    toCSS: function () { return this.value },$/;"	m
tree.tree.eval	../js/util/less/tree/expression.js	/^    eval: function (env) {$/;"	m
tree.tree.eval	../js/util/less/tree/keyword.js	/^    eval: function () { return this },$/;"	m
tree.tree.eval	../js/util/less/tree/rule.js	/^tree.Rule.prototype.eval = function (context) {$/;"	m
tree.tree.eval	../js/util/less/tree/variable.js	/^    eval: function (env) {$/;"	m
tree.tree.toCSS	../js/util/less/tree/rule.js	/^    toCSS: function (env) {$/;"	m
tree.tree.toCSS	../js/util/less/tree/rule.js	/^tree.Rule.prototype.toCSS = function (env) {$/;"	m
treeTests	../js/dijit/tests/tree/robot/Tree_a11y.html	/^		function treeTests(){$/;"	f
triggerHandlers	../js/dojox/jq.js	/^	function triggerHandlers(\/*DOMNode*\/node, \/*Array*\/data, \/*Function?*\/extraFunc){$/;"	f
triggerHandlersCalled	../js/dojox/jq.js	/^	var triggerHandlersCalled = false;$/;"	v
truncated_range	../js/dijit/tests/_TimePicker.html	/^				function truncated_range(){$/;"	f
typeObj.items	../js/dojox/lang/docs.js	/^			typeObj = {items:typeObj, type:"array"};$/;"	p
typeObj.type	../js/dojox/lang/docs.js	/^			typeObj = {items:typeObj, type:"array"};$/;"	p
typedFunction	../js/dojox/lang/typed.js	/^	var typedFunction = function(Class){$/;"	f
typedFunction.Wrapper	../js/dojox/lang/typed.js	/^		var Wrapper = function(){$/;"	c
typematicCallBack	../js/dijit/tests/test_typematic.html	/^		function typematicCallBack(count, node, evt){$/;"	f
ua	../js/dojox/mobile/tests/dojostub.js	/^	var ua = navigator.userAgent, android = parseFloat(ua.split("Android ")[1]) || undefined;$/;"	v
unaryOperatorParse	../js/dojox/calc/_ExecutorIframe.html	/^			function unaryOperatorParse(text){$/;"	f
unaryOperatorRightsideParse	../js/dojox/calc/_ExecutorIframe.html	/^			function unaryOperatorRightsideParse(text){$/;"	f
uniques	../js/dojo/tests/_base/loader/requirejs/uniques/uniques.html	/^                    function uniques(t){$/;"	f
unmergeCells	../js/dojox/grid/tests/enhanced/test_enhanced_grid_cellmerge.html	/^			function unmergeCells(handleIdx){$/;"	f
unpackMessage	../js/dojox/io/proxy/xip_client.html	/^	function unpackMessage(encodedMessage){$/;"	f
unpackMessage	../js/dojox/io/proxy/xip_server.html	/^	function unpackMessage(encodedMessage){$/;"	f
unsubscribe	../js/dojox/rails/tests/test_rails.html	/^    function unsubscribe(){$/;"	f
unwrap	../js/dojox/secure/DOM.js	/^dojox.secure.unwrap = function unwrap(result){$/;"	f
update	../js/dojox/charting/tests/test_themes-amd.html	/^		function update(name){$/;"	f
update	../js/dojox/charting/tests/test_themes.html	/^	function update(name){$/;"	f
update	../js/dojox/geo/openlayers/tests/test_resize.html	/^				function update(center, zoom, dragging, forceZoomChange) {$/;"	f
updateBuddyPresence	../js/dojox/xmpp/tests/test_xmppService.html	/^			function updateBuddyPresence(p){$/;"	f
updateButtons	../js/dijit/tests/_BidiSupport/widgets/MenuItem.html	/^	function updateButtons(created){$/;"	f
updateButtons	../js/dijit/tests/test_Menu.html	/^	function updateButtons(created){$/;"	f
updateCountryTypes	../js/dojox/grid/tests/test_data_grid_notification.html	/^		function updateCountryTypes(){$/;"	f
updateDiv	../js/dojox/image/tests/test_ThumbnailPicker.html	/^			function updateDiv(packet){$/;"	f
updateDynamicIds	../js/dijit/tests/test_Tooltip.html	/^		function updateDynamicIds(){$/;"	f
updateGrid	../js/dojox/grid/tests/test_grid_tab_container.html	/^		function updateGrid() { var grid = dijit.byId('grid'); grid.update()}$/;"	f
updateItem	../js/dojox/data/tests/stores/test_Tree_on_JsonRestStore.html	/^		function updateItem(){$/;"	f
updateLine	../js/util/checkstyle/checkstyleReport.html	/^		function updateLine(evt) {$/;"	f
updateMergedCells	../js/dojox/grid/tests/enhanced/test_enhanced_grid_cellmerge.html	/^			function updateMergedCells(){$/;"	f
updateModel	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^function updateModel() {$/;"	f
updatePoints	../js/dojox/gfx/tests/test_refproj.html	/^        function updatePoints(){$/;"	f
updatePresence	../js/dojox/xmpp/tests/test_xmppService.html	/^			function updatePresence(p){$/;"	f
updateScore	../js/dojox/gfx/demos/career_test.html	/^function updateScore(){$/;"	f
updateView	../js/dojox/mvc/tests/regression/mobile/demo/src-sync.js	/^function updateView() {$/;"	f
updateView	../js/dojox/mvc/tests/regression/test_mvc_generate-view.html	/^			function updateView() {$/;"	f
updated	../js/util/buildscripts/cldr/alias.js	/^var updated = false;$/;"	v
urlfetch	../js/dojo/tests/_base/loader/requirejs/urlfetch/urlfetch.html	/^                    function urlfetch(t){$/;"	f
userArgs	../js/dijit/tests/form/TextBox_sizes.js	/^var userArgs = window.location.search.replace(\/[\\?&](dojoUrl|testUrl|testModule)=[^&]*\/g,"").replace(\/^&\/,"?");$/;"	v
userConfigCallback	../js/dojo/tests/_base/loader/boot-sniffConfig.html	/^		function userConfigCallback(){$/;"	f
userConfigCallback	../js/dojo/tests/_base/loader/boot-userConfig.html	/^		function userConfigCallback(){$/;"	f
val	../js/dojo/tests/NodeList-manipulate.html	/^					function val(t){$/;"	f
val	../js/dojox/widget/tests/test_PortletInGridContainer.html	/^								function val(item, attr) {$/;"	f
val	../js/util/shrinksafe/tests/8828.js	/^	var val = [$/;"	v
valTrans	../js/dojox/charting/tests/BidiSupport/bidi_DataSeries.html	/^			function valTrans(value, store, item){$/;"	f
valTrans	../js/dojox/charting/tests/test_DataSeries.html	/^    function valTrans(value, store, item){$/;"	f
valTrans	../js/dojox/charting/tests/test_StoreSeries-amd.html	/^	function valTrans(value, object){$/;"	f
valTrans	../js/dojox/charting/tests/test_StoreSeries.html	/^    function valTrans(value, object){$/;"	f
valid	../js/dijit/tests/form/robot/Slider_mouse.html	/^				function valid(){$/;"	f
validate	../js/dijit/tests/form/Form.html	/^		function validate(){$/;"	f
validate	../js/dojox/lang/typed.js	/^	function validate(instance, schema, property){$/;"	f
validateDialog	../js/dijit/tests/form/test_Select.html	/^						function validateDialog(){$/;"	f
validateDir	../js/util/buildscripts/cldr/specialLocale.js	/^function validateDir(\/*String*\/dirPath){$/;"	f
validateTest4Widget	../js/dijit/tests/_Templated-widgetsInTemplate1.x.html	/^				function validateTest4Widget(t, testW){$/;"	f
validateTest4Widget	../js/dijit/tests/_WidgetsInTemplateMixin.html	/^				function validateTest4Widget(t, testW){$/;"	f
validateTest5Widget	../js/dijit/tests/_Templated-widgetsInTemplate1.x.html	/^				function validateTest5Widget(t, testW){$/;"	f
validateTest5Widget	../js/dijit/tests/_WidgetsInTemplateMixin.html	/^				function validateTest5Widget(t, testW){$/;"	f
validateTest5WidgetDestroy	../js/dijit/tests/_Templated-widgetsInTemplate1.x.html	/^				function validateTest5WidgetDestroy(t, testW){$/;"	f
validateTest5WidgetDestroy	../js/dijit/tests/_WidgetsInTemplateMixin.html	/^				function validateTest5WidgetDestroy(t, testW){$/;"	f
validateValues	../js/dijit/tests/i18n/test_i18n.js	/^var validateValues = [];$/;"	v
validateWidgetCount	../js/dijit/tests/i18n/test_i18n.js	/^var validateWidgetCount = 0;$/;"	v
validatingFunction	../js/dojox/lang/typed.js	/^	function validatingFunction(func, getMethodDef){$/;"	f
validatingFunction.validatingFunc	../js/dojox/lang/typed.js	/^		var validatingFunc = function(){$/;"	f
valuePreselected	../js/dijit/tests/robot/ColorPalette.html	/^					function valuePreselected(){$/;"	f
var.	../js/dojox/secure/sandbox.js	/^			if(method && !method.fixed){$/;"	c
var.F	../js/dojox/secure/sandbox.js	/^					var F = function() {};$/;"	f
var.__wireTestConverterFunction	../js/dojox/wire/tests/programmatic/Wire.js	/^	var __wireTestConverterFunction = function(v){$/;"	f
var.afterRevertFetch	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^								var afterRevertFetch = function(items, request){$/;"	f
var.beforeBegin	../js/dojox/fx/text.js	/^				var beforeBegin = function(){ domStyle.set(piece,"opacity",0); };$/;"	f
var.bools.checked	../js/dojox/dtl/tests/dom/util.js	/^				var bools = {checked: 1, disabled: 1, readonly: 1};$/;"	p
var.bools.disabled	../js/dojox/dtl/tests/dom/util.js	/^				var bools = {checked: 1, disabled: 1, readonly: 1};$/;"	p
var.bools.readonly	../js/dojox/dtl/tests/dom/util.js	/^				var bools = {checked: 1, disabled: 1, readonly: 1};$/;"	p
var.cmd.args	../js/dojox/robot/recorder.js	/^			var cmd={name:"doh.robot.mouseMoveAt",args:[c[i-1].args[0], 1, 100, c[i-1].args[3]+1,c[i-1].args[4]]};$/;"	p
var.cmd.name	../js/dojox/robot/recorder.js	/^			var cmd={name:"doh.robot.mouseMoveAt",args:[c[i-1].args[0], 1, 100, c[i-1].args[3]+1,c[i-1].args[4]]};$/;"	p
var.fixMozArrayFunction	../js/dojox/secure/sandbox.js	/^		var fixMozArrayFunction = function (name) {$/;"	f
var.func	../js/dojox/jq.js	/^			var func = function(){$/;"	f
var.item.col1	../js/dojox/grid/tests/robot/stores.js	/^		col1: 'normal',$/;"	p
var.item.col2	../js/dojox/grid/tests/robot/stores.js	/^		col2: false,$/;"	p
var.item.col3	../js/dojox/grid/tests/robot/stores.js	/^		col3: 'new',$/;"	p
var.item.col4	../js/dojox/grid/tests/robot/stores.js	/^		col4: 'Now is the time for all good men to come to the aid of their party.',$/;"	p
var.item.col5	../js/dojox/grid/tests/robot/stores.js	/^		col5: 99.99,$/;"	p
var.item.id	../js/dojox/grid/tests/robot/stores.js	/^		id: i,$/;"	p
var.obj.color	../js/dojox/flash/tests/test_flash.js	/^		var obj = {type: "car", color: "red", model: "Ford", year: "2008",$/;"	p
var.obj.features	../js/dojox/flash/tests/test_flash.js	/^					features: ["A\/C", "automatic", "4-wheel drive"]};$/;"	p
var.obj.model	../js/dojox/flash/tests/test_flash.js	/^		var obj = {type: "car", color: "red", model: "Ford", year: "2008",$/;"	p
var.obj.type	../js/dojox/flash/tests/test_flash.js	/^		var obj = {type: "car", color: "red", model: "Ford", year: "2008",$/;"	p
var.obj.year	../js/dojox/flash/tests/test_flash.js	/^		var obj = {type: "car", color: "red", model: "Ford", year: "2008",$/;"	p
var.onComplete	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^							var onComplete = function(items, request){$/;"	f
var.onEnd	../js/dojox/fx/text.js	/^				var onEnd = function(){piece.style.display = "inline";};$/;"	f
var.onError	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onError = function(errData){$/;"	f
var.onError	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onError = function(errData){$/;"	f
var.onItem	../js/dojox/data/tests/stores/AndOrReadStore.js	/^				var onItem = function(item){$/;"	f
var.onItem	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^				var onItem = function(item){$/;"	f
var.onItem2	../js/dojox/data/tests/stores/AndOrWriteStore.js	/^						var onItem2 = function(item10, request){$/;"	f
var.scroll.y	../js/dojox/robot/recorder.js	/^		var scroll = {y: (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0),$/;"	p
var.seriesargs.plot	../js/dojox/widget/DataPresentation.js	/^				var seriesargs = { plot: axistype + "-" + charttype };$/;"	p
var.setCSS	../js/dojox/secure/DOM.js	/^				var setCSS = function(cssStr){$/;"	f
var.unwrap	../js/dojox/secure/DOM.js	/^				var unwrap = function(result){$/;"	f
var.var.	../js/dojox/secure/sandbox.js	/^			if(method && !method.fixed){$/;"	f
variableone	../js/util/shrinksafe/tests/8974.js	/^    var variableone = 1, variabletwo = 2, variable3 = 3;$/;"	v
variables	../js/dijit/tests/_TemplatedMixin.html	/^						function variables(t){$/;"	f
variables2	../js/dijit/tests/_TemplatedMixin.html	/^						function variables2(t){$/;"	f
variablesWithExclamation	../js/dijit/tests/_TemplatedMixin.html	/^						function variablesWithExclamation(t){$/;"	f
vbReservedWords.event	../js/dojox/lang/observable.js	/^			var vbReservedWords = {type:1,event:1};$/;"	p
vbReservedWords.type	../js/dojox/lang/observable.js	/^			var vbReservedWords = {type:1,event:1};$/;"	p
verify	../js/dojo/tests/NodeList-manipulate.html	/^				function verify(\/*dojo.NodeList*\/nl, \/*Array*\/ids){$/;"	f
verify	../js/dojo/tests/NodeList-traverse.html	/^				function verify(\/*dojo.NodeList*\/nl, \/*Array*\/ids, \/*String*\/ comment){$/;"	f
verify	../js/dojo/tests/_base/NodeList.html	/^				function verify(\/*dojo.NodeList*\/nl, \/*Array*\/ids){$/;"	f
verifyColor	../js/dojo/tests/_base/Color.js	/^	var verifyColor = function(t, source, expected){$/;"	f
verifyIconItem	../js/dojox/mobile/tests/doh/TestUtil.js	/^function verifyIconItem(id, text, display, regExp, isSprite){$/;"	f
verifyListItem	../js/dojox/mobile/tests/doh/TestUtil.js	/^function verifyListItem(id, text, rightText, domButtonType, hasIcon, hasRightIcon, hasIcon2, hasVariableHeight, regExp, hasSelected, isSprite){$/;"	f
verifyListItemPos	../js/dojox/mobile/tests/doh/TestUtil.js	/^function verifyListItemPos(id, rTop, rRight, rBottom, rLeft, sTop, sLeft, isSprite) {$/;"	f
verifyRect	../js/dojox/mobile/tests/doh/TestUtil.js	/^function verifyRect(node, rTop, rRight, rBottom, rLeft) {$/;"	f
verifyTabBarButton	../js/dojox/mobile/tests/doh/TestUtil.js	/^function verifyTabBarButton(id, text, classNames, visibility1, visibility2, regExp1, regExp2, isSprite){$/;"	f
verifyTooltipArrowPosition	../js/dijit/tests/Tooltip-placement.html	/^			function verifyTooltipArrowPosition(textbox){$/;"	f
version	../js/dojox/flash/_base.js	/^				var version = versionMajor + "." + versionMinor + "." + versionRevision;$/;"	v
versionMajor	../js/dojox/flash/_base.js	/^				var versionMajor = tempArrayMajor[0];$/;"	v
versionMinor	../js/dojox/flash/_base.js	/^				var versionMinor = tempArrayMajor[1];$/;"	v
versionRevision	../js/dojox/flash/_base.js	/^				var versionRevision = tempArrayMinor[1] > 0 ? tempArrayMinor[1] : 0;$/;"	v
violater	../js/dojox/secure/tests/DOM.js	/^function violater(func) {$/;"	f
violater	../js/dojox/secure/tests/sandbox.js	/^function violater(func) {$/;"	f
w	../js/dijit/tests/form/robot/CheckBox_a11y.html	/^						function w(){$/;"	f
wait	../js/dojo/tests/_base/loader/8976.html	/^function wait(count){$/;"	f
waitAndExpect	../js/dojox/lang/tests/async.js	/^	function waitAndExpect(expected, ms){$/;"	f
waitMessage	../js/dojox/grid/tests/test_mysql_edit.html	/^		function waitMessage() {$/;"	f
watchSplitters	../js/dijit/tests/layout/test_BorderContainer.html	/^		function watchSplitters(bc){$/;"	f
watchSplitters	../js/dojox/layout/tests/test_ToggleSplitter.html	/^		function watchSplitters(bc){$/;"	f
widgetsInTemplateLifecycle	../js/dijit/tests/_TemplatedMixin.html	/^						function widgetsInTemplateLifecycle(t){$/;"	f
width	../js/dijit/tests/layout/robot/TabContainer_noLayout.html	/^					function width(){$/;"	f
win	../js/dojox/xmpp/bosh.js	/^			var win = iframe.contentWindow;$/;"	v
window	../js/dojox/wire/tests/programmatic/Wire.js	/^	window["__wireTestConverterFunction"] = function(v){$/;"	f
window.i18nTest.legacyModule	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers-and-preloads/legacyModule.js	/^window.i18nTest.legacyModule = function(){$/;"	f
window.i18nTest.legacyModule	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build-with-layers/legacyModule.js	/^window.i18nTest.legacyModule = function(){$/;"	f
window.i18nTest.legacyModule	../js/dojo/tests/_base/loader/i18n-exhaustive/built-i18n-test/152-build/legacyModule.js	/^window.i18nTest.legacyModule = function(){$/;"	f
wipeIn	../js/dojo/tests/NodeList-fx.html	/^						function wipeIn(){$/;"	f
wipeIn	../js/dojo/tests/fx.html	/^						function wipeIn(t){$/;"	f
wipeOut	../js/dojo/tests/NodeList-fx.html	/^						function wipeOut(){$/;"	f
wipeOut	../js/dojo/tests/fx.html	/^						function wipeOut(t){$/;"	f
withDoc	../js/dojo/tests/_base/window.html	/^		function withDoc(t){$/;"	f
withGlobal	../js/dojo/tests/_base/window.html	/^		function withGlobal(t){$/;"	f
wrap	../js/dojo/tests/NodeList-manipulate.html	/^					function wrap(t){$/;"	f
wrap	../js/util/buildscripts/cldr/wrap.js	/^var wrap = function(contents){$/;"	f
wrap.evaluate	../js/dojox/secure/sandbox.js	/^		wrap.evaluate = function(script){$/;"	f
wrapAll	../js/dojo/tests/NodeList-manipulate.html	/^					function wrapAll(t){$/;"	f
wrapInner	../js/dojo/tests/NodeList-manipulate.html	/^					function wrapInner(t){$/;"	f
wrapped.childNodes.__get__	../js/dojox/secure/DOM.js	/^					wrapped.childNodes = {__get__:function(i){$/;"	m
wrapped.childNodes.length	../js/dojox/secure/DOM.js	/^						length:0$/;"	p
writeFile	../js/util/build/optimizeRunner.js	/^function writeFile(filename, contents, encoding, cb) {$/;"	f
writeFile	../js/util/less/rhino.js	/^function writeFile(filename, content) {$/;"	f
x1	../js/dojo/tests/_base/loader/xdomain/local1-browser.js	/^var x1= dojo.provide("dojo.tests._base.loader.xdomain.local1-browser");$/;"	v
x1	../js/dojo/tests/_base/loader/xdomain/local1-dep.js	/^var x1= dojo.provide("dojo.tests._base.loader.xdomain.local1-dep");$/;"	v
x1	../js/dojo/tests/_base/loader/xdomain/local1-runtimeDependent1.js	/^var x1= dojo.provide("dojo.tests._base.loader.xdomain.local1-runtimeDependent1");$/;"	v
x1	../js/dojo/tests/_base/loader/xdomain/local1.js	/^var x1= dojo.provide("dojo.tests._base.loader.xdomain.local1");$/;"	v
x2	../js/dojo/tests/_base/loader/xdomain/local1.js	/^var x2= dojo.provide("dojo.tests._base.loader.xdomain.local1SteppedOn");$/;"	v
x3	../js/dojo/tests/_base/loader/xdomain/local1.js	/^var x3= dojo.provide("dojo.tests._base.loader.xdomain.local1NotSteppedOn");$/;"	v
xdDojoUrl	../js/util/buildscripts/jslib/convertTestsToXDomain.js	/^var xdDojoUrl = arguments[1];$/;"	v
xhrCancel	../js/dojo/tests/_base/xhr.html	/^						function xhrCancel(t){$/;"	f
xhrCancel	../js/dojo/tests/request/xhr.html	/^					function xhrCancel(t){$/;"	f
xhrDelete	../js/dojo/tests/_base/xhr.html	/^						function xhrDelete(t){$/;"	f
xhrDelete	../js/dojo/tests/request/xhr.html	/^					function xhrDelete(t){$/;"	f
xhrDone	../js/dojox/io/proxy/xip_server.html	/^	function xhrDone(xhr){$/;"	f
xhrGet	../js/dojo/tests/_base/xhr.html	/^						function xhrGet(t){$/;"	f
xhrGet	../js/dojo/tests/request/xhr.html	/^					function xhrGet(t){$/;"	f
xhrGet	../js/dojox/secure/sandbox.js	/^	var xhrGet = function(){$/;"	f
xhrGet404	../js/dojo/tests/_base/xhr.html	/^						function xhrGet404(t){$/;"	f
xhrGet404	../js/dojo/tests/request/xhr.html	/^					function xhrGet404(t){$/;"	f
xhrGetContent	../js/dojo/tests/_base/xhr.html	/^						function xhrGetContent(t){$/;"	f
xhrGetForm	../js/dojo/tests/_base/xhr.html	/^						function xhrGetForm(t){$/;"	f
xhrGetFormWithContent	../js/dojo/tests/_base/xhr.html	/^						function xhrGetFormWithContent(t){$/;"	f
xhrGetQuery	../js/dojo/tests/request/xhr.html	/^					function xhrGetQuery(t){$/;"	f
xhrHeaders	../js/dojo/tests/request/xhr.html	/^					function xhrHeaders(t){$/;"	f
xhrObj	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
xhrPost	../js/dojo/tests/_base/xhr.html	/^						function xhrPost(t){$/;"	f
xhrPost	../js/dojo/tests/request/xhr.html	/^					function xhrPost(t){$/;"	f
xhrPostForm	../js/dojo/tests/_base/xhr.html	/^						function xhrPostForm(t){$/;"	f
xhrPostWithContent	../js/dojo/tests/_base/xhr.html	/^						function xhrPostWithContent(t){$/;"	f
xhrPostWithQuery	../js/dojo/tests/request/xhr.html	/^					function xhrPostWithQuery(t){$/;"	f
xhrPut	../js/dojo/tests/_base/xhr.html	/^						function xhrPut(t){$/;"	f
xhrPut	../js/dojo/tests/request/xhr.html	/^					function xhrPut(t){$/;"	f
xhrSync	../js/dojo/tests/request/xhr.html	/^					function xhrSync(t){$/;"	f
xhrTimeout	../js/dojo/tests/request/xhr.html	/^					function xhrTimeout(t){$/;"	f
xipServerInit	../js/dojox/io/proxy/xip_server.html	/^	function xipServerInit(){$/;"	f
xml	../js/dojo/tests/_base/query.html	/^						function xml(){$/;"	f
xml	../js/dojo/tests/query/query.html	/^					function xml(){$/;"	f
xml	../js/dojo/tests/query/queryQuirks.html	/^					function xml(){$/;"	f
xmlContentHandler	../js/dojo/tests/_base/xhr.html	/^						function xmlContentHandler(t){$/;"	f
xmlMsg	../js/dojox/xmpp/bosh.js	/^		var xmlMsg = dojox.xml.parser.parse(msg, 'text\/xml');$/;"	v
xmlToStr	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
xml_attrs	../js/dojo/tests/_base/query.html	/^						function xml_attrs(){$/;"	f
xml_attrs	../js/dojo/tests/query/query.html	/^					function xml_attrs(){$/;"	f
xml_attrs	../js/dojo/tests/query/queryQuirks.html	/^					function xml_attrs(){$/;"	f
xml_nthchild	../js/dojo/tests/query/query.html	/^						function xml_nthchild(){$/;"	f
xml_nthchild	../js/dojo/tests/query/queryQuirks.html	/^						function xml_nthchild(){$/;"	f
xpath	../js/dojox/gfx/tests/svgweb/svgweb/src/svg.js	/^(function(){window.svgns="http:\/\/www.w3.org\/2000\/svg";window.xlinkns="http:\/\/www.w3.org\/1999\/xlink";svgnsFake="urn:__fake__internal__namespace";var isOpera=false,isSafari=false,isMoz=false,isIE=false,isAIR=false,isKhtml=false,isFF=false,isXHTML=false;function _detectBrowsers(){var n=navigator,dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){isOpera=tv;}var index=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(index){isSafari=parseFloat(dav.split("Version\/")[1])||(parseFloat(dav.substr(index+7))>419.3)?3:2;}if(dua.indexOf("AdobeAIR")>=0){isAIR=1;}if(dav.indexOf("Konqueror")>=0||isSafari){isKhtml=tv;}if(dua.indexOf("Gecko")>=0&&!isKhtml){isMoz=tv;}if(isMoz){isFF=parseFloat(dua.split("Firefox\/")[1])||undefined;}if(document.all&&!isOpera){isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}if(document.documentMode){isStandardsMode=(document.documentMode>5);}else{isStandardsMode=(document.compatMode=="CSS1Compat");}if(document.contentType=="application\/xhtml+xml"){isXHTML=true;}else{if(typeof XMLDocument!="undefined"&&document.constructor==XMLDocument){isXHTML=true;}}}_detectBrowsers();function doDebugging(){var debug=false;var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)){var debugSetting=scripts[i].getAttribute("data-debug");debug=(debugSetting==="true"||debugSetting===true)?true:false;}}return debug;}var debug=doDebugging();if(typeof console=="undefined"||!console.log){var queue=[];console={};if(!debug){console.log=function(){};}else{console.log=function(msg){var body=null;var delay=false;try{body=document.getElementsByTagName("body")[0];}catch(exp){delay=true;}if(isIE){try{document.documentElement.doScroll("left");}catch(exp){delay=true;}}if(delay){queue.push(msg);return;}var p;while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));body.appendChild(p);}p=document.createElement("p");p.appendChild(document.createTextNode(msg));body.appendChild(p);};if(isIE){function flushQueue(){while(queue.length){var oldMsg=queue.shift();p=document.createElement("p");p.appendChild(document.createTextNode(oldMsg));document.body.appendChild(p);}}var debugInterval=window.setInterval(function(){if(document.readyState=="complete"){flushQueue();window.clearTimeout(debugInterval);}},50);}}}function extend(f,addMe){for(var i in addMe){f.prototype[i]=addMe[i];}}function mixin(f,addMe){for(var i in addMe){f[i]=addMe[i];}}function xpath(doc,context,expr,namespaces){if(!context){context=doc.documentElement;}if(typeof XPathEvaluator!="undefined"){var evaluator=new XPathEvaluator();var resolver=doc.createNSResolver(context);var result=evaluator.evaluate(expr,context,resolver,0,null);var found=createNodeList(),current;while(current=result.iterateNext()){found.push(current);}return found;}else{doc.setProperty("SelectionLanguage","XPath");if(namespaces){var allNamespaces="";var foundNamespace={};for(var i=0;i<namespaces.length;i++){var namespaceURI=namespaces[i];var prefix=namespaces["_"+namespaceURI];if(!foundNamespace["_"+namespaceURI]){if(prefix=="xmlns"){allNamespaces+='xmlns="'+namespaceURI+'" ';}else{allNamespaces+="xmlns:"+prefix+'="'+namespaceURI+'" ';}foundNamespace["_"+namespaceURI]=namespaceURI;}}doc.setProperty("SelectionNamespaces",allNamespaces);}var found=context.selectNodes(expr);if(found===null||typeof found=="undefined"){found=createNodeList();}var results=createNodeList();for(var i=0;i<found.length;i++){results.push(found[i]);}return results;}}var parseXMLCache={};function parseXML(xml,preserveWhiteSpace){if(preserveWhiteSpace===undefined){preserveWhiteSpace=false;}var cachedXML=parseXMLCache[preserveWhiteSpace+xml];if(cachedXML){return cachedXML.cloneNode(true);}var xmlDoc;if(typeof DOMParser!="undefined"){var parser=new DOMParser();try{xmlDoc=parser.parseFromString(xml,"application\/xml");}catch(e){throw e;}var root=xmlDoc.documentElement;if(root.nodeName=="parsererror"){throw new Error("There is a bug in your SVG: "+(new XMLSerializer().serializeToString(root)));}}else{var versions=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];var xmlDoc;for(var i=0;i<versions.length;i++){try{xmlDoc=new ActiveXObject(versions[i]);if(xmlDoc){break;}}catch(e){}}if(!xmlDoc){throw new Error("Unable to instantiate XML parser");}try{xmlDoc.preserveWhiteSpace=preserveWhiteSpace;xmlDoc.resolveExternals=false;xmlDoc.validateOnParse=false;xmlDoc.setProperty("ProhibitDTD",false);xmlDoc.async="false";var successful=xmlDoc.loadXML(xml);if(!successful||xmlDoc.parseError.errorCode!==0){throw new Error(xmlDoc.parseError.reason);}}catch(e){console.log(e.message);throw new Error("Unable to parse SVG: "+e.message);}}try{parseXMLCache[preserveWhiteSpace+xml]=xmlDoc.cloneNode(true);}catch(e){}return xmlDoc;}function xmlToStr(node,namespaces){var nodeXML=(node._nodeXML||node);var xml;if(typeof XMLSerializer!="undefined"){xml=(new XMLSerializer().serializeToString(nodeXML));}else{xml=nodeXML.xml;}xml=xml.replace(\/urn\\:__fake__internal__namespace\/g,svgns);var nsString="";if(xml.indexOf("xmlns=")==-1){nsString='xmlns="'+svgns+'" ';}if(namespaces){for(var i=0;i<namespaces.length;i++){var uri=namespaces[i];var prefix=namespaces["_"+uri];if(uri==svgnsFake){uri=svgns;}var newNS;if(prefix!="xmlns"){newNS="xmlns:"+prefix+'="'+uri+'"';}else{newNS='xmlns="'+uri+'"';}if(xml.indexOf(newNS)==-1){nsString+=newNS+" ";}}}xml=xml.replace(\/<([^ ]+)\/,"<$1 "+nsString+" ");return xml;}function hitch(context,method){if(typeof method=="string"){method=context[method];}return function(){return method.apply(context,(arguments.length)?arguments:[]);};}var XHR_PROGIDS=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];function xhrObj(){if(typeof XMLHttpRequest!="undefined"){return new XMLHttpRequest();}else{if(ActiveXObject){var xhr=null;var i;for(i=0;i<XHR_PROGIDS.length&&!xhr;++i){try{xhr=new ActiveXObject(XHR_PROGIDS[i]);}catch(e){}}if(!xhr){throw new Error("XMLHttpRequest object not available on this platform");}return xhr;}}}var guidCounter=0;function guid(){return"_"+guidCounter++;}function SVGWeb(){this._setXDomain();this.libraryPath=this._getLibraryPath();this.htcFilename=this._getHTCFilename();if(isIE){FlashHandler._prepareBehavior(this.libraryPath,this.htcFilename);}this._interceptOnloadListeners();this._initDOMContentLoaded();}extend(SVGWeb,{libraryPath:".\/",config:null,pageLoaded:false,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],addOnLoad:function(listener,fromObject,objectWindow){if(fromObject){var obj=objectWindow.frameElement;if(fromObject&&this.getHandlerType()=="flash"){listener.apply(objectWindow);}else{if(obj._svgHandler){obj._svgHandler._onObjectLoad(listener,objectWindow);}else{obj._svgWindow=objectWindow;obj._svgFunc=listener;}}}else{this._loadListeners.push(listener);}if(this.pageLoaded){this._fireOnLoad();}},getHandlerType:function(){if(this.renderer==FlashHandler){return"flash";}else{if(this.renderer==NativeHandler){return"native";}}},appendChild:function(node,parent){if(node.nodeName.toLowerCase()=="object"&&node.getAttribute("type")=="image\/svg+xml"){this.totalSVG++;this._svgObjects.push(node);if(this.getHandlerType()=="native"){node.onload=node.onsvgload;parent.appendChild(node);}var placeHolder=node;if(this.getHandlerType()=="flash"){if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}var div=document._createElement("div");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}div.setAttribute(attrName,attrValue);}parent.appendChild(div);div._onloadListeners=node._onloadListeners;placeHolder=div;}var objID=this._processSVGObject(placeHolder);node._objID=objID;}else{if(node.nodeName.toLowerCase()=="svg"){this.totalSVG++;if(node.onsvgload){node.addEventListener("SVGLoad",node.onsvgload,false);}if(isIE&&node._fakeNode){node=node._fakeNode;}var svgStr=xmlToStr(node);var svgScript=document.createElement("script");svgScript.type="image\/svg+xml";if(!isXHTML){svgScript.text=svgStr;}else{svgScript.appendChild(document.createTextNode(svgStr));}this._svgScripts.push(svgScript);parent.appendChild(svgScript);svgScript._onloadListeners=node._detachedListeners||node._onloadListeners;this._processSVGScript(svgScript);}}},removeChild:function(node,parent){var name=node.nodeName.toLowerCase();var nodeID,nodeHandler;if(name=="object"||name=="embed"||name=="svg"){this.totalSVG=this.totalSVG==0?0:this.totalSVG-1;this.totalLoaded=this.totalLoaded==0?0:this.totalLoaded-1;nodeID=node.getAttribute("id");nodeHandler=this.handlers[nodeID];var newHandlers=[];for(var i=0;i<this.handlers.length;i++){var currentHandler=this.handlers[i];if(currentHandler!=nodeHandler){newHandlers[currentHandler.id]=currentHandler;newHandlers.push(currentHandler);}}this.handlers=newHandlers;}if(name=="object"||name=="embed"){if(this.getHandlerType()=="flash"&&nodeHandler.document&&nodeHandler.document.defaultView){var iframeWin=nodeHandler.document.defaultView;for(var i=0;i<iframeWin._intervalIDs.length;i++){iframeWin.clearInterval(iframeWin._intervalIDs[i]);}for(var i=0;i<iframeWin._timeoutIDs.length;i++){iframeWin.clearTimeout(iframeWin._timeoutIDs[i]);}for(var i=0;i<nodeHandler._keyboardListeners.length;i++){var l=nodeHandler._keyboardListeners[i];if(isIE){document.detachEvent("onkeydown",l);}else{document.removeEventListener("keydown",l,true);document.removeEventListener("keydown",l,false);}}}var objID;if(typeof node._objID!="undefined"){objID=node._objID;}else{if(typeof node.contentDocument!="undefined"){objID=node.contentDocument._handler.id;}else{objID=node._handler.id;}}for(var i=0;i<svgweb._svgObjects.length;i++){if(svgweb._svgObjects[i]._objID===objID){svgweb._svgObjects.splice(i,1);break;}}parent.removeChild(node);if(this.getHandlerType()=="flash"){var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(typeof child.ownerDocument!="undefined"&&child.ownerDocument==nodeHandler._svgObject.document){if(typeof child._fakeNode!="undefined"&&typeof child._fakeNode._htcNode!="undefined"){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;container.removeChild(child);}}}for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child.ownerDocument===nodeHandler.document){delete svgweb._guidLookup[guid];}}nodeHandler.flash.contentDocument=null;nodeHandler.flash=null;nodeHandler._xml=null;if(nodeHandler.window){nodeHandler.window._scope=null;nodeHandler.window=null;}var svgObj=nodeHandler._svgObject;var svgDoc=svgObj.document;svgDoc._nodeById=null;svgDoc._xml=null;svgDoc.defaultView=null;svgDoc.documentElement=null;svgDoc.rootElement=null;svgDoc.defaultView=null;svgDoc=null;svgObj._svgNode=null;svgObj._handler=null;if(iframeWin){iframeWin._setTimeout=null;iframeWin.setTimeout=null;iframeWin._setInterval=null;iframeWin.setInterval=null;}nodeHandler._svgObject=null;svgObj=null;nodeHandler=null;iframeWin=null;}}else{if(name=="svg"){for(var i=0;i<svgweb._svgScripts.length;i++){if(svgweb._svgScripts[i]==nodeHandler._scriptNode){svgweb._svgScripts.splice(i,1);break;}}if(isIE&&this.getHandlerType()=="flash"&&node._fakeNode){node=node._fakeNode;}var removeMe;if(this.getHandlerType()=="native"){removeMe=node;}else{removeMe=node._handler.flash;}if(!isIE){parent.removeChild(removeMe);}else{window.setTimeout(function(parent,removeMe){return function(){parent.removeChild(removeMe);parent=null;removeMe=null;};}(parent,removeMe),1);}if(this.getHandlerType()=="flash"){node._setUnattached();for(var guid in svgweb._guidLookup){var child=svgweb._guidLookup[guid];if(child._fake&&child._getFakeNode()===nodeHandler){delete svgweb._guidLookup[guid];}}nodeHandler._scriptNode=null;nodeHandler.flash.documentElement=null;nodeHandler.flash=null;nodeHandler._xml=null;nodeHandler=null;}}}},_initDOMContentLoaded:function(){var self=this;if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){self._onDOMContentLoaded();},false);}else{document.write('<script id="__ie__svg__onload" defer src=\/\/0><\\\/script>');var script=document.getElementById("__ie__svg__onload");script.onreadystatechange=function(){if(this.readyState=="complete"){self._onDOMContentLoaded();}};var documentReady=function(){if(window.onload){self._saveWindowOnload();document.detachEvent("onreadystatechange",documentReady);}};document.attachEvent("onreadystatechange",documentReady);}},_setXDomain:function(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&\/^https?\/.test(scripts[i].src)){var url=scripts[i].src.replace(\/svg(?:\\-uncompressed)?\\.js\/,"");var loc=url.match(\/https?\\:\\\/\\\/[^\\\/]*\/)[0];var ourLoc=window.location.protocol.replace(\/:|\\\/\/g,"")+":\/\/"+window.location.host;if(loc!=ourLoc){this.xDomainURL=url;this._isXDomain=true;return;}}}this._isXDomain=false;},_getLibraryPath:function(){var libraryPath=".\/";var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.config.data-path"&&meta[i].content.length>0){libraryPath=meta[i].content;}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-path")){libraryPath=scripts[i].getAttribute("data-path");break;}}if(libraryPath.charAt(libraryPath.length-1)!="\/"){libraryPath+="\/";}return libraryPath;},_getHTCFilename:function(){var htcFilename="svg.htc";var loc=window.location.toString();if(loc.indexOf("svg.htcFilename=svg-htc.php")!=-1){return"svg-htc.php";}else{if(loc.indexOf("svg.htcFilename=svg-htc.jsp")!=-1){return"svg-htc.jsp";}else{if(loc.indexOf("svg.htcFilename=svg-htc.asp")!=-1){return"svg-htc.asp";}}}var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(\/svg(?:\\-uncompressed)?\\.js\/.test(scripts[i].src)&&scripts[i].getAttribute("data-htc-filename")){htcFilename=scripts[i].getAttribute("data-htc-filename");break;}}return htcFilename;},_onDOMContentLoaded:function(){if(arguments.callee.done){return;}arguments.callee.done=true;this._startTime=new Date().getTime();var listener=document.getElementById("__ie__svg__onload");if(listener){listener.parentNode.removeChild(listener);listener.onreadystatechange=null;listener=null;}this._saveWindowOnload();this.config=new RenderConfig();if(isIE){this._watchUnload();}this._svgScripts=this._getSVGScripts();this._svgObjects=this._getSVGObjects();this.totalSVG=this._svgScripts.length+this._svgObjects.length;this._cleanupSVGObjects();this._handleHTMLTitleBug();if(!this.config.supported){this._displayNotSupported(this.config.reason);this._fireOnLoad();return;}this.renderer;if(this.config.use=="flash"){this.renderer=FlashHandler;}else{if(this.config.use=="native"){this.renderer=NativeHandler;}}this.renderer._patchBrowserObjects(window,document);if(this.config.use=="flash"){this._createResizeListener();this._attachResizeListener();}if(this.totalSVG===0){this._fireOnLoad();return;}var self=this;for(var i=0;i<this._svgScripts.length;i++){this._processSVGScript(this._svgScripts[i]);}for(var i=0;i<this._svgObjects.length;i++){var objID=this._processSVGObject(this._svgObjects[i]);this._svgObjects[i]._objID=objID;}},_createResizeListener:function(){var self=this;if(isIE){this._resizeFunc=(function(self){return function(){self._onWindowResize();};})(this);}else{this._resizeFunc=hitch(this,function(){this._onWindowResize();});}},_attachResizeListener:function(){if(isIE){window.attachEvent("onresize",this._resizeFunc);}else{window.addEventListener("resize",this._resizeFunc,false);}},_detachResizeListener:function(){if(isIE){window.detachEvent("onresize",this._resizeFunc);}else{window.removeEventListener("resize",this._resizeFunc,false);}},_onWindowResize:function(){if(!this.pageLoaded){return;}this._detachResizeListener();for(var i=0;i<this.handlers.length;i++){var handler=this.handlers[i];if(!handler._inserter||!handler.flash){continue;}var size=handler._inserter._determineSize();handler.flash.width=size.width;handler.flash.height=size.height;handler.sendToFlash("jsHandleResize",[size.pixelsWidth,size.pixelsHeight]);}this._attachResizeListener();},_getSVGScripts:function(){var scripts=document.getElementsByTagName("script");var results=[];for(var i=0;i<scripts.length;i++){if(scripts[i].type=="image\/svg+xml"){results.push(scripts[i]);}}return results;},_getSVGObjects:function(){var objs=document.getElementsByTagName("object");var results=[];for(var i=0;i<objs.length;i++){if(objs[i].getAttribute("classid")=="image\/svg+xml"){results.push(objs[i]);}else{if(objs[i].getAttribute("type")=="image\/svg+xml"){results.push(objs[i]);}}}return results;},_displayNotSupported:function(reason){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];if(!obj.childNodes.length||(obj.childNodes.length==1&&obj.childNodes[0].nodeType==3&&\/^[ ]*$\/m.test(obj.childNodes[0].nodeValue))){var span=document.createElement("span");span.className="svg-noscript";span.appendChild(document.createTextNode(reason));obj.parentNode.replaceChild(span,obj);}}for(var i=0;i<this._svgScripts.length;i++){var script=this._svgScripts[i];var output=document.createElement("span");output.className="svg-noscript";var sibling=script.nextSibling;while(sibling&&sibling.nodeType!=1){sibling=sibling.nextSibling;}if(sibling&&sibling.nodeName.toLowerCase()=="noscript"){var noscript=sibling;output.innerHTML=noscript.innerHTML;}else{output.appendChild(document.createTextNode(reason));}script.parentNode.insertBefore(output,script);}},_fireOnLoad:function(){if(this.handlers.length<this._svgObjects.length){return;}var allLoaded=true;for(var i=0;i<this.handlers.length;i++){var h=this.handlers[i];if(!h._loaded){allLoaded=false;break;}}if(!allLoaded){return;}this.pageLoaded=true;this._endTime=new Date().getTime();if(this._loadListeners.length){var self=this;window.setTimeout(function(){var listeners=self._loadListeners;self._loadListeners=[];this.totalLoaded=0;for(var i=0;i<listeners.length;i++){try{listeners[i]();}catch(exp){console.log("Error while firing onload: "+(exp.message||exp));}}},1);}},_cleanSVG:function(svg,addMissing,normalizeWhitespace){if(\/^\\s*<\\!\\[CDATA\\[\/.test(svg)){svg=svg.replace(\/^\\s*<\\!\\[CDATA\\[\/,"");svg=svg.replace(\/\\]\\]>\\s*\/,"");}if(addMissing){if(\/\\<\\?xml\/m.test(svg)==false){svg='<?xml version="1.0"?>\\n'+svg;}if(\/xmlns\\=['"]http:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns="http:\/\/www.w3.org\/2000\/svg"');}if(\/xmlns:[^=]+=['"]http:\\\/\\\/www\\.w3\\.org\\\/1999\\\/xlink['"]\/.test(svg)==false){svg=svg.replace("<svg",'<svg xmlns:xlink="http:\/\/www.w3.org\/1999\/xlink"');}}if(svg.charAt(0)!="<"){svg=svg.replace(\/\\s*<\\?xml\/,"<?xml");}RegExp.lastIndex=0;var match;var entityRE=\/<!ENTITY\\s+(\\S+)\\s+"([^"]*)"\/g;while((match=entityRE.exec(svg))!=null){var entityName=RegExp.$1;var entityValue=RegExp.$2;svg=svg.split("&"+entityName+";").join(entityValue);}if(normalizeWhitespace){svg=svg.replace(\/\\>\\s+\\<\/gm,"><");}if(this.renderer==FlashHandler){svg=svg.replace(\/<!\\-\\-[\\s\\S]*?\\-\\->\/g,"");svg=svg.replace(\/<svg\/,"<SVGROOT");svg=svg.replace(\/<svg\/g,"<NESTEDSVG");svg=svg.replace(\/<SVGROOT\/,"<svg");var separator=svg.match(\/<svg\/)[0];var pieces=svg.split(\/<svg\/);var hasCData=(pieces[1].indexOf("<![CDATA[")!=-1);if(hasCData){RegExp.lastIndex=0;var cdataRE=\/<\\!\\[CDATA\\[\/g;match=cdataRE.exec(pieces[1]);var cdataBlocks=[];i=0;while(match&&RegExp.rightContext){var startIdx=cdataRE.lastIndex-"<![CDATA[".length;var context=RegExp.rightContext;var endIdx=cdataRE.lastIndex+context.indexOf("]]>")+2;var section=context.substring(0,context.indexOf("]]>"));section="<![CDATA["+section+"]]>";cdataBlocks.push(section);var before=pieces[1].substring(0,startIdx);var after=pieces[1].substring(endIdx+1,pieces[1].length);pieces[1]=before+"__SVG_CDATA_TOKEN_"+i+after;match=cdataRE.exec(pieces[1]);i++;}}pieces[1]=pieces[1].replace(\/>([^>]+)<\/g,"><__text>$1<\/__text><");if(hasCData){for(var i=0;i<cdataBlocks.length;i++){pieces[1]=pieces[1].replace("__SVG_CDATA_TOKEN_"+i,cdataBlocks[i]);}}svg=pieces[0]+separator+pieces[1];for(var i=2;i<pieces.length;i++){svg=svg+pieces[i];}}svg=svg.replace(\/<NESTEDSVG\/g,"<svg");if(this.renderer==FlashHandler){svg=FlashHandler._encodeFlashData(svg);svg=svg.replace(\/xmlns(\\:[^=]*)?=['"]http\\:\\\/\\\/www\\.w3\\.org\\\/2000\\\/svg['"]\/g,"xmlns$1='"+svgnsFake+"'");}var xml=this._addTracking(svg,normalizeWhitespace);if(typeof XMLSerializer!="undefined"){svg=(new XMLSerializer()).serializeToString(xml);}else{svg=xml.xml;}if(this.renderer==FlashHandler){svg=svg.replace(new RegExp(svgnsFake,"g"),svgns);}return{svg:svg,xml:xml};},_processSVGScript:function(script){var origSVG;if(!isXHTML){origSVG=script.innerHTML;}else{origSVG="";for(var i=0;i<script.childNodes.length;i++){origSVG+=script.childNodes[i].textContent;}}var results=this._cleanSVG(origSVG,true,true);var svg=results.svg;var xml=results.xml;var rootID=xml.documentElement.getAttribute("id");var rootOnload=xml.documentElement.getAttribute("onload");if(rootOnload){var defineEvtCode='var evt = { target: document.getElementById("'+rootID+'") ,currentTarget: document.getElementById("'+rootID+'") ,preventDefault: function() { this.returnValue=false; }};';rootOnload=new Function(defineEvtCode+rootOnload);var f=(function(rootOnload,rootID){return function(){var handler=svgweb.handlers[rootID];var root;if(svgweb.getHandlerType()=="flash"){root=handler.document.documentElement._getProxyNode();}else{root=document.getElementById(rootID);}return rootOnload.apply(root);};})(rootOnload,rootID);this._loadListeners.push(f);}var handler=new this.renderer({type:"script",svgID:rootID,xml:xml,svgString:svg,origSVG:origSVG,scriptNode:script});this.handlers[rootID]=handler;this.handlers.push(handler);handler.start();},_processSVGObject:function(obj){var objID=obj.getAttribute("id");if(!objID){obj.setAttribute("id",svgweb._generateID("__svg__random__","__object"));objID=obj.getAttribute("id");}var handler=new this.renderer({type:"object",objID:objID,objNode:obj});this.handlers[objID]=handler;this.handlers.push(handler);handler.start();return objID;},_generateID:function(prefix,postfix){if(!postfix){postfix="";}if(!prefix){prefix="";}return prefix+guid()+postfix;},_addTracking:function(svg,normalizeWhitespace){var parseWhitespace=!normalizeWhitespace;var xmlDoc=parseXML(svg,parseWhitespace);var root=xmlDoc.documentElement;if(root&&!root.getAttribute("id")){root.setAttribute("id",this._generateID("__svg__random__",null));}if(this.getHandlerType()!="flash"){return xmlDoc;}var current=root;while(current){if(current.nodeType==_Node.ELEMENT_NODE){current.setAttribute("__guid",guid());}if(current.nodeType==_Node.ELEMENT_NODE&&!current.getAttribute("id")){current.setAttribute("id",svgweb._generateID("__svg__random__",null));}var next=current.firstChild;if(next){current=next;continue;}while(current){if(current!=root){next=current.nextSibling;if(next){current=next;break;}}if(current==root){current=null;}else{current=current.parentNode;if(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG"){current=null;}}}}return xmlDoc;},_handleDone:function(id,type,handler){this.totalLoaded++;if(type=="script"&&handler._scriptNode._onloadListeners){for(var i=0;i<handler._scriptNode._onloadListeners.length;i++){var f=handler._scriptNode._onloadListeners[i];if(svgweb.getHandlerType()=="flash"){f=f.listener;}else{var methodStr=handler._svgRoot.addEventListener.toString();if(methodStr.indexOf("[native code]")!=-1){NativeHandler._patchAddEventListener(handler._svgRoot);}}try{var root=document.getElementById(handler.id);f.apply(root);}catch(exp){console.log("Error while firing onload listener: "+exp.message||exp);}}handler._scriptNode._onloadListeners=[];}if(this.totalLoaded>=this.totalSVG){this._fireOnLoad();}},_handleHTMLTitleBug:function(){var head=document.getElementsByTagName("head")[0];var title=head.getElementsByTagName("title");if(title.length===0){title=document.createElement("title");head.appendChild(title);}},_fireFlashError:function(logString){},_exportID:function(node){node.__defineGetter__("id",function(){return node.getAttribute("id");});node.__defineSetter__("id",function(newValue){return node.setAttribute("id",newValue);});},_watchUnload:function(){window.attachEvent("onunload",function(evt){window.detachEvent("onunload",arguments.callee);svgweb._fireUnload();});},_fireUnload:function(){if(!isIE){return;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="object"){var removeMe=svgweb.handlers[i].flash;if(removeMe.parentNode){svgweb.removeChild(removeMe,removeMe.parentNode);}}else{svgweb.handlers[i].document.documentElement=null;}}var container=document.getElementById("__htc_container");if(container){for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(child.nodeType==1&&child.namespaceURI==svgns){child.detachEvent("onpropertychange",child._fakeNode.style._changeListener);child.style.item=null;child.style.setProperty=null;child.style.getPropertyValue=null;}if(child._fakeNode){child._fakeNode._htcNode=null;}child._fakeNode=null;child._handler=null;}container.parentNode.removeChild(container);container=null;}for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];handler.flash=null;}svgweb.handlers=null;for(var i=0;i<svgweb._removedNodes.length;i++){var node=svgweb._removedNodes[i];if(node._fakeNode){node._fakeNode._htcNode=null;}node._fakeNode=null;node._handler=null;}svgweb._removedNodes=null;document.getElementById=document._getElementById;document._getElementById=null;document.getElementsByTagNameNS=document._getElementsByTagNameNS;document._getElementsByTagNameNS=null;document.createElementNS=document._createElementNS;document._createElementNS=null;document.createElement=document._createElement;document._createElement=null;document.createTextNode=document._createTextNode;document._createTextNode=null;document._importNodeFunc=null;document.createDocumentFragment=document._createDocumentFragment;document._createDocumentFragment=null;window.addEventListener=null;window._addEventListener=null;window.attachEvent=window._attachEvent;window._attachEvent=null;parseXMLCache=null;},_cleanupSVGObjects:function(){if(this.config.use=="flash"&&this.config.hasNativeSVG()){for(var i=0;i<this._svgObjects.length;i++){var obj=this._svgObjects[i];var div=document.createElement("div");for(var j=0;j<obj.attributes.length;j++){var attr=obj.attributes[j];div.setAttribute(attr.nodeName,attr.nodeValue);}var fallback=obj.innerHTML;div.innerHTML=fallback;obj.parentNode.replaceChild(div,obj);this._svgObjects[i]=div;}}for(var i=0;i<this._svgObjects.length;i++){this._svgObjects[i].style.visibility="hidden";}},_interceptOnloadListeners:function(){if(window.addEventListener){window._addEventListener=window.addEventListener;window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()!="svgload"){return window._addEventListener(type,f,useCapture);}else{svgweb.addOnLoad(f);}};}else{window.addEventListener=function(type,f,useCapture){if(type.toLowerCase()=="svgload"){svgweb.addOnLoad(f);}};}if(isIE&&window.attachEvent){window._attachEvent=window.attachEvent;window.attachEvent=function(type,f){if(type.toLowerCase()!="onsvgload"){return window._attachEvent(type,f);}else{svgweb.addOnLoad(f);}};}},_saveWindowOnload:function(){var onsvgload=window.onsvgload;if(document.getElementsByTagName("body")){var body=document.getElementsByTagName("body")[0];if(body.getAttribute("onsvgload")){callbackStr=body.getAttribute("onsvgload");onsvgload=(function(callbackStr){return function(){eval(callbackStr);};})(callbackStr);}}if(onsvgload){if(isIE){this._loadListeners.splice(0,0,onsvgload);}else{this._loadListeners.push(onsvgload);}window.onsvgload=onsvgload=null;}}});function RenderConfig(){if(!this._forceFlash()){if(this.hasNativeSVG()){this.supported=true;this.use="native";return;}}else{console.log("Forcing Flash SVG viewer for this browser");}var info=new FlashInfo();if(info.capable){if(info.isVersionOrAbove(9,0,0)){this.supported=true;this.use="flash";}else{this.supported=false;this.reason="Flash 9+ required";}}else{this.supported=false;this.reason="Flash 9+ or a different browser required";}}extend(RenderConfig,{supported:false,reason:null,use:null,_forceFlash:function(){var results=false;var hasMeta=false;var meta=document.getElementsByTagName("meta");for(var i=0;i<meta.length;i++){if(meta[i].name=="svg.render.forceflash"&&meta[i].content.toLowerCase()=="true"){results=true;hasMeta=true;}}if(window.location.search.indexOf("svg.render.forceflash=true")!=-1){results=true;}else{if(hasMeta&&window.location.search.indexOf("svg.render.forceflash=false")!=-1){results=false;}}return results;},hasNativeSVG:function(){if(document.implementation&&document.implementation.hasFeature){return document.implementation.hasFeature("http:\/\/www.w3.org\/TR\/SVG11\/feature#BasicStructure","1.1");}else{return false;}}});function FlashInfo(){this._detectVersion();}FlashInfo.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:false,isVersionOrAbove:function(reqMajorVer,reqMinorVer,reqVer){reqVer=parseFloat("."+reqVer);if(this.versionMajor>=reqMajorVer&&this.versionMinor>=reqMinorVer&&this.versionRevision>=reqVer){return true;}else{return false;}},_detectVersion:function(){var versionStr;for(var testVersion=25;testVersion>0;testVersion--){if(isIE){var axo;try{if(testVersion>6){axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+testVersion);}else{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}if(typeof axo=="object"){if(testVersion==6){axo.AllowScriptAccess="always";}versionStr=axo.GetVariable("$version");}}catch(e){continue;}}else{versionStr=this._JSFlashInfo(testVersion);}if(versionStr==-1){this.capable=false;return;}else{if(versionStr!==0){var versionArray;if(isIE){var tempArray=versionStr.split(" ");var tempString=tempArray[1];versionArray=tempString.split(",");}else{versionArray=versionStr.split(".");}this.versionMajor=versionArray[0];this.versionMinor=versionArray[1];this.versionRevision=versionArray[2];var versionString=this.versionMajor+"."+this.versionRevision;this.version=parseFloat(versionString);this.capable=true;break;}}}},_JSFlashInfo:function(testVersion){if(navigator.plugins!==null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){var swVer2=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";var flashDescription=navigator.plugins["Shockwave Flash"+swVer2].description;var descArray=flashDescription.split(" ");var tempArrayMajor=descArray[2].split(".");var versionMajor=tempArrayMajor[0];var versionMinor=tempArrayMajor[1];var tempArrayMinor=(descArray[3]||descArray[4]).split("r");var versionRevision=tempArrayMinor[1]>0?tempArrayMinor[1]:0;var version=versionMajor+"."+versionMinor+"."+versionRevision;return version;}}return -1;}};function FlashHandler(args){this.type=args.type;this._keyboardListeners=[];this._redrawManager=new _RedrawManager(this);if(this.type=="script"){this.id=args.svgID;this._xml=args.xml;this._svgString=args.svgString;this._origSVG=args.origSVG;this._scriptNode=args.scriptNode;}else{if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}}}FlashHandler._unattachedDoc=parseXML('<?xml version="1.0"?>\\n<svg xmlns="'+svgns+'"><\/svg>',false);FlashHandler._prepareBehavior=function(libraryPath,htcFilename){var ns=null;for(var i=0;i<document.namespaces.length;i++){if(document.namespaces.item(i).name=="svg"){ns=document.namespaces.item(i);break;}}if(ns===null){ns=document.namespaces.add("svg",svgns);}ns.doImport(libraryPath+htcFilename);};FlashHandler._getNode=function(nodeXML,handler){var node;node=svgweb._guidLookup["_"+nodeXML.getAttribute("__guid")];var fakeTextNode=false;if(!node&&nodeXML.nodeName=="__text"){fakeTextNode=true;}if(!node&&!fakeTextNode&&nodeXML.nodeType==_Node.ELEMENT_NODE){node=new _Element(nodeXML.nodeName,nodeXML.prefix,nodeXML.namespaceURI,nodeXML,handler,true);}else{if(!node&&(nodeXML.nodeType==_Node.TEXT_NODE||fakeTextNode)){node=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,handler,false);}else{if(!node){throw new Error("Unknown node type given to _getNode: "+nodeXML.nodeType);}}}return node._getProxyNode();};FlashHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}document._getElementById=document.getElementById;document.getElementById=FlashHandler._getElementById;document._getElementsByTagNameNS=document.getElementsByTagNameNS;document.getElementsByTagNameNS=FlashHandler._getElementsByTagNameNS;document._createElementNS=document.createElementNS;document.createElementNS=FlashHandler._createElementNS;document._createElement=document.createElement;document.createElement=FlashHandler._createElement;document._createTextNode=document.createTextNode;document.createTextNode=FlashHandler._createTextNode;document._importNodeFunc=FlashHandler._importNodeFunc;document._createDocumentFragment=document.createDocumentFragment;document.createDocumentFragment=FlashHandler._createDocumentFragment;};FlashHandler._getElementById=function(id){var result=document._getElementById(id);if(result!==null){return result;}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){result=svgweb.handlers[i].document.getElementById(id);}if(result){return result;}}return null;};FlashHandler._getElementsByTagNameNS=function(ns,localName){var results=createNodeList();if(document._getElementsByTagNameNS){var matches=document._getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){var doc=svgweb.handlers[i].document;var matches=doc.getElementsByTagNameNS(ns,localName);for(var j=0;j<matches.length;j++){results.push(matches[j]);}}}return results;};FlashHandler._createElementNS=function(ns,qname){if(ns===null||ns=="http:\/\/www.w3.org\/1999\/xhtml"){if(isIE){return document.createElement(qname);}else{return document._createElementNS(ns,qname);}}var namespaceFound=false;if(ns==svgns){ns=svgnsFake;namespaceFound=true;}if(!isIE){for(var i=0;!namespaceFound&&i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"&&svgweb.handlers[i].document._namespaces["_"+ns]){namespaceFound=true;break;}}if(!namespaceFound){return document._createElementNS(ns,qname);}}var prefix;for(var i=0;i<svgweb.handlers.length;i++){if(svgweb.handlers[i].type=="script"){prefix=svgweb.handlers[i].document._namespaces["_"+ns];if(prefix){break;}}}if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();};FlashHandler._createElement=function(nodeName,forSVG){if(!forSVG){return document._createElement(nodeName);}else{if(forSVG&&nodeName.toLowerCase()=="object"){var obj=document._createElement("object");obj._onloadListeners=[];var addEventListener=obj.addEventListener;(function(_obj,_addEventListener){_obj.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(listener);}else{if(!addEventListener){this.attachEvent("on"+type,listener);}else{_addEventListener(type,listener,useCapture);}}};})(obj,addEventListener);return obj;}}};FlashHandler._createTextNode=function(data,forSVG){if(!forSVG){return document._createTextNode(data);}else{var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML);textNode._nodeValue=data;textNode.ownerDocument=document;return textNode._getProxyNode();}};FlashHandler._importNodeFunc=function(doc,node,allChildren){switch(node.nodeType){case 1:var newNode=doc.createElement(node.nodeName);if(node.attributes&&node.attributes.length>0){for(var i=0;i<node.attributes.length;i++){var attrName=node.attributes[i].nodeName;var attrValue=node.getAttribute(attrName);newNode.setAttribute(attrName,attrValue);}}if(allChildren&&node.childNodes&&node.childNodes.length>0){for(var i=0;i<node.childNodes.length;i++){newNode.appendChild(document._importNodeFunc(doc,node.childNodes[i],allChildren));}}return newNode;break;case 3:return doc.createTextNode(node.nodeValue);break;}};FlashHandler._createDocumentFragment=function(forSVG){if(forSVG){return new _DocumentFragment(document)._getProxyNode();}else{return document._createDocumentFragment();}};FlashHandler._encodeFlashData=function(str){str=str.toString().replace(\/\\\\\/g,"\\\\\\\\");str=str.replace(\/&\/g,"__SVG__AMPERSAND");return str;};extend(FlashHandler,{flashID:null,flash:null,start:function(){if(this.type=="script"){this._handleScript();}else{if(this.type=="object"){this._handleObject();}}},_stringToMsg:function(msg){if(msg==null||typeof msg!="string"){return msg;}var results={};var tokens=msg.split(\/__SVG__DELIMIT\/g);for(var i=0;i<tokens.length;i++){var cutAt=tokens[i].indexOf(":");var propName=tokens[i].substring(0,cutAt);var propValue=tokens[i].substring(cutAt+1);if(propValue==="true"){propValue=true;}else{if(propValue==="false"){propValue=false;}else{if(propValue==="null"){propValue=null;}else{if(propValue==="undefined"){propValue=undefined;}}}}results[propName]=propValue;}return results;},debugMsg:function(msg){if(msg===undefined){return"undefined";}else{if(msg===null){return"null";}}var result=[];for(var i in msg){result.push(i+":"+msg[i]);}result=result.join(", ");return"{"+result+"}";},sendToFlash:function(invoke,args){var message=args.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended()){this._redrawManager.batch(invoke,message);}else{return this.flash[invoke](message);}},onMessage:function(msg){msg=this._stringToMsg(msg);if(msg.type=="event"){this._onEvent(msg);return;}else{if(msg.type=="log"){this._onLog(msg);return;}else{if(msg.type=="script"){this._onObjectScript(msg);return;}else{if(msg.type=="viewsource"){this._onViewSource();return;}else{if(msg.type=="viewsourceDynamic"){this._onViewSourceDynamic(msg);return;}else{if(msg.type=="error"){this._onFlashError(msg);}}}}}}},fireOnLoad:function(id,type){svgweb._handleDone(id,type,this);},_handleScript:function(){this.document=new _Document(this._xml,this);this.document.documentElement=new _SVGSVGElement(this._xml.documentElement,this._svgString,this._scriptNode,this);},_handleObject:function(){this._svgObject=new _SVGObject(this._objNode,this);this._objNode=null;},_onLog:function(msg){console.log("FLASH: "+msg.logString);},_onEvent:function(msg){if(msg.eventType.substr(0,5)=="mouse"||msg.eventType=="click"){this._onMouseEvent(msg);return;}else{if(msg.eventType=="onRenderingFinished"){if(this.type=="script"){this.document.documentElement._onRenderingFinished(msg);}else{if(this.type=="object"){this._svgObject._onRenderingFinished(msg);}}return;}else{if(msg.eventType=="onFlashLoaded"){if(this.type=="script"){this.document.documentElement._onFlashLoaded(msg);}else{if(this.type=="object"){this._svgObject._onFlashLoaded(msg);}}return;}}}},_onMouseEvent:function(msg){var target=this._getElementByGuid(msg.targetGUID);var currentTarget=this._getElementByGuid(msg.currentTargetGUID);var evt={target:target._getProxyNode(),currentTarget:currentTarget._getProxyNode(),type:msg.eventType,clientX:new Number(msg.stageX),clientY:new Number(msg.stageY),screenX:new Number(msg.stageX),screenY:new Number(msg.stageY),altKey:msg.altKey,ctrlKey:msg.ctrlKey,shiftKey:msg.shiftKey,preventDefault:function(){this.returnValue=false;}};var handlers=currentTarget._listeners[msg.eventType];if(handlers){for(var i=0;i<handlers.length;i++){var handler=handlers[i];var listener=handler.listener;listener(evt);}}if(msg.scriptCode!=null){if(this.type=="object"){var defineEvtCode='var evt = { target: document.getElementById("'+target._getProxyNode().getAttribute("id")+'") ,\\ncurrentTarget:document.getElementById("'+currentTarget._getProxyNode().getAttribute("id")+'") ,\\ntype: "'+msg.eventType+'",\\nclientX: '+new Number(msg.stageX)+",\\nclientY: "+new Number(msg.stageY)+",\\nscreenX: "+new Number(msg.stageX)+",\\nscreenY: "+new Number(msg.stageY)+",\\naltKey: "+msg.altKey+",\\nctrlKey: "+msg.ctrlKey+",\\nshiftKey: "+msg.shiftKey+",\\npreventDefault: function() { this.returnValue=false; }\\n};\\n";var executeInContext=";(function (evt) { "+msg.scriptCode+"; }).call(evt.target, evt);\\n";this.sandbox_eval(this._svgObject._sandboxedScript(defineEvtCode+executeInContext));}else{}}},_getElementByGuid:function(guid){var node=svgweb._guidLookup["_"+guid];if(node){return node;}var results;if(this.type=="script"){results=xpath(this._xml,null,'\/\/*[@__guid="'+guid+'"]');}else{if(this.type=="object"){results=xpath(this._svgObject._xml,null,'\/\/*[@__guid="'+guid+'"]');}}var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this);node._passThrough=true;return node;},_onFlashError:function(msg){this._onLog(msg);svgweb._fireFlashError("FLASH: "+msg.logString);throw new Error("FLASH: "+msg.logString);},_onObjectScript:function(msg){this._svgObject._scriptsToExec.push(msg.script);},_onViewSource:function(){var origSVG=this._origSVG;if(!origSVG){origSVG="SVG Source Not Available";}origSVG=origSVG.replace(\/>\/g,"&gt;").replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<html><body><pre>"+origSVG+"<\/pre><\/body><\/html>");w.document.close();},_onViewSourceDynamic:function(msg){if(msg.source.indexOf("<?xml")==-1){msg.source='<?xml version="1.0"?>\\n'+msg.source;}msg.source=msg.source.replace(\/<svg:([^ ]+) \/g,"<$1 ");msg.source=msg.source.replace(\/<\\\/svg:([^>]+)>\/g,"<\/$1>");msg.source=msg.source.replace(\/\\n\\s*<__text[^\\\/]*\\\/>\/gm,"");msg.source=msg.source.replace(\/<__text[^>]*>([^<]*)<\\\/__text>\/gm,"$1");msg.source=msg.source.replace(\/<__text[^>]*>\/g,"");msg.source=msg.source.replace(\/<\\\/__text>\/g,"");msg.source=msg.source.replace(\/\\s*__guid="[^"]*"\/g,"");msg.source=msg.source.replace(\/ id="__svg__random__[^"]*"\/g,"");msg.source=msg.source.replace(\/>\\n\\n\/g,">\\n");msg.source=msg.source.replace(\/>\/g,"&gt;");msg.source=msg.source.replace(\/<\/g,"&lt;");var w=window.open("","_blank");w.document.write("<body><pre>"+msg.source+"<\/pre><\/body>");w.document.close();}});function NativeHandler(args){this.type=args.type;this._xml=args.xml;if(this.type=="object"){this.id=args.objID;this._objNode=args.objNode;}else{if(this.type=="script"){this.id=args.svgID;this._svgString=args.svgString;this._scriptNode=args.scriptNode;}}}NativeHandler._patchBrowserObjects=function(win,doc){if(doc._getElementById){return;}doc._getElementById=doc.getElementById;doc.getElementById=function(id){var result=doc._getElementById(id);if(result!==null){if(result.parentNode===null){return null;}else{return result;}}result=xpath(doc,null,'\/\/*[@id="'+id+'"]');if(result.length){var node=result[0];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}return node;}else{return null;}};doc._getElementsByTagNameNS=doc.getElementsByTagNameNS;doc.getElementsByTagNameNS=function(ns,localName){var result=doc._getElementsByTagNameNS(ns,localName);if(result!==null&&result.length!==0){if(ns!==null&&ns!="http:\/\/www.w3.org\/1999\/xhtml"&&ns!=svgns){for(var i=0;i<result.length;i++){var node=result[i];svgweb._exportID(node);}return result;}return result;}if(result===null||result.length===0){result=createNodeList();}var xpathResults;for(var i=0;i<svgweb.handlers.length;i++){var handler=svgweb.handlers[i];if(handler.type=="object"){continue;}var prefix=handler._namespaces["_"+ns];if(!prefix){continue;}var expr;if(prefix=="xmlns"){expr="\/\/*[namespace-uri()='"+svgns+"' and name()='"+localName+"']";}else{if(prefix){expr="\/\/"+prefix+":"+localName;}else{expr="\/\/"+localName;}}xpathResults=xpath(doc,handler._svgRoot,expr,handler._namespaces);if(xpathResults!==null&&xpathResults!==undefined&&xpathResults.length>0){for(var j=0;j<xpathResults.length;j++){var node=xpathResults[j];if(node.namespaceURI!==null&&node.namespaceURI!=svgns&&node.namespaceURI!="http:\/\/www.w3.org\/1999\/xhtml"){svgweb._exportID(node);}result.push(node);}return result;}}return createNodeList();};doc._createElementNS=doc.createElementNS;doc.createElementNS=function(ns,localName){if(ns!=svgns||localName!="svg"){return doc._createElementNS(ns,localName);}var svg=doc._createElementNS(ns,localName);svg=NativeHandler._patchAddEventListener(svg);return svg;};doc._createElement=doc.createElement;doc.createElement=function(name,forSVG){if(!forSVG){return doc._createElement(name);}if(forSVG&&name=="object"){var obj=doc._createElement(name);obj=NativeHandler._patchAddEventListener(obj);return obj;}else{throw"Unknown createElement() call for SVG: "+name;}};NativeHandler._patchCloneNode();if(isFF){NativeHandler._patchStyleObject(win);}var rootElement=doc.rootElement;if(rootElement&&rootElement.localName=="svg"&&rootElement.namespaceURI==svgns){NativeHandler._patchSvgFileAddEventListener(win,doc);}};NativeHandler._patchCloneNode=function(){var proto;if(typeof SVGSVGElement!="undefined"){proto=SVGSVGElement.prototype;}else{proto=document.createElementNS(svgns,"svg").__proto__;}if(proto._cloneNode){return;}proto._cloneNode=proto.cloneNode;proto.cloneNode=function(deepClone){var results=this._cloneNode(deepClone);NativeHandler._patchAddEventListener(results);return results;};};NativeHandler._patchAddEventListener=function(root){if(!NativeHandler._objectAddEventListener){NativeHandler._objectAddEventListener=root.addEventListener;}root._addEventListener=NativeHandler._objectAddEventListener;root._onloadListeners=[];root.addEventListener=(function(self){return function(type,f,useCapture){if(type.toLowerCase()=="svgload"){this._onloadListeners.push(f);}else{root._addEventListener(type,f,useCapture);}};})();return root;};NativeHandler._patchStyleObject=function(win){var patchMe=win.CSSStyleDeclaration;for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];var stylePropName=styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();(function(styleName,stylePropName){patchMe.prototype.__defineSetter__(styleName,function(styleValue){return this.setProperty(stylePropName,styleValue,null);});patchMe.prototype.__defineGetter__(styleName,function(){return this.getPropertyValue(stylePropName);});})(styleName,stylePropName);}};NativeHandler._patchSvgFileAddEventListener=function(win,doc){var _addEventListener=win.addEventListener;win.addEventListener=function(type,listener,useCapture){if(type.toLowerCase()!="svgload"){_addEventListener(type,listener,useCapture);}else{if(doc.readyState=="complete"){listener();}}};win.__defineGetter__("onsvgload",function(){return this.__onsvgload;});win.__defineSetter__("onsvgload",function(listener){this.__onsvgload=listener;this.addEventListener("SVGLoad",listener,false);});};extend(NativeHandler,{start:function(){if(this.type=="object"){this._handleObject();}else{if(this.type=="script"){this._handleScript();}}},_handleScript:function(){this._namespaces=this._getNamespaces();this._processSVGScript(this._xml,this._svgString,this._scriptNode);this._loaded=true;svgweb._handleDone(this.id,"script",this);},_handleObject:function(){this._objNode.style.overflow="hidden";this._objNode.style.visibility="visible";if(this._objNode._svgWindow){this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);}else{this._objNode._svgHandler=this;var self=this;var loadFunc=function(){if(!self._objNode.contentDocument){return;}var win=self._objNode.contentDocument.defaultView;self._onObjectLoad(self._objNode._svgFunc,win);};if(this._objNode._addEventListener){this._objNode._addEventListener("load",loadFunc,false);}else{this._objNode.addEventListener("load",loadFunc,false);}}},_onObjectLoad:function(func,win){if(this._loaded){return;}this._loaded=true;var doc=win.document;NativeHandler._patchBrowserObjects(win,doc);var root=doc.rootElement;if(root){this._patchCurrentTranslate(root);}win.svgns=svgns;win.xlinkns=xlinkns;this._namespaces=this._getNamespaces(doc);if(func){func.apply(win);}for(var i=0;this._objNode._onloadListeners&&i<this._objNode._onloadListeners.length;i++){func=this._objNode._onloadListeners[i];func.apply(this._objNode);}svgweb._fireOnLoad();},_processSVGScript:function(xml,svgString,scriptNode){var importedSVG=document.importNode(xml.documentElement,true);scriptNode.parentNode.replaceChild(importedSVG,scriptNode);this._svgRoot=importedSVG;this._patchCurrentTranslate(this._svgRoot);},_getNamespaces:function(doc){var results=[];var attrs;if(doc){attrs=doc.documentElement.attributes;}else{attrs=this._xml.documentElement.attributes;}for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;},_patchCurrentTranslate:function(root){var t;if(typeof SVGRoot!="undefined"){t=root.currentTranslate;}else{if(typeof root.currentTranslate.__proto__!="undefined"){t=root.currentTranslate.__proto__;}else{if(typeof SVGPoint!="undefined"){t=SVGPoint.prototype;}}}t.setX=function(newValue){return this.x=newValue;};t.getX=function(){return this.x;};t.setY=function(newValue){return this.y=newValue;};t.getY=function(){return this.y;};t.setXY=function(newValue1,newValue2){this.x=newValue1;this.y=newValue2;};}});function _RedrawManager(handler){this._handler=handler;this._batch=[];this._nextID=1;this._ids=[];this._timeoutIDs={};}extend(_RedrawManager,{isSuspended:function(){return(this._ids.length>0);},batch:function(method,message){this._batch.push(method+":"+message);},suspendRedraw:function(ms){if(ms===undefined){throw"Not enough arguments to suspendRedraw";}var id=this._nextID;this._nextID++;var self=this;var timeoutID=window.setTimeout(function(){self.unsuspendRedraw(id);delete self._timeoutIDs["_"+id];},ms);this._ids.push(id);this._timeoutIDs["_"+id]=timeoutID;this._handler.flash.jsSuspendRedraw();return id;},unsuspendRedraw:function(id){var idx=-1;for(var i=0;i<this._ids.length;i++){if(this._ids[i]==id){idx=i;break;}}if(idx==-1){throw"Unknown id passed to unsuspendRedraw: "+id;}if(this._timeoutIDs["_"+id]!=undefined){window.clearTimeout(this._timeoutIDs["_"+id]);}this._ids.splice(idx,1);delete this._timeoutIDs["_"+id];if(this.isSuspended()){return;}var sendMe=this._batch.join("__SVG__METHOD__DELIMIT");this._batch=[];try{this._handler.flash.jsUnsuspendRedrawAll(sendMe);}catch(exp){console.log("unsuspendRedraw exception: "+exp);}},unsuspendRedrawAll:function(){for(var i=0;i<this._ids.length;i++){this.unsuspendRedraw(this._ids[i]);}},forceRedraw:function(){}});function _DOMImplementation(){}extend(_DOMImplementation,{hasFeature:function(feature,version){}});function _Node(nodeName,nodeType,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&nodeType===undefined){return;}this.nodeName=nodeName;this._nodeXML=nodeXML;this._handler=handler;this._listeners={};this._detachedListeners=[];this.fake=true;if(namespaceURI==svgnsFake){namespaceURI=svgns;}this._attached=true;if(!this._handler){this._attached=false;}if(nodeType==_Node.ELEMENT_NODE&&!this._nodeXML&&!this._handler){var xml='<?xml version="1.0"?>\\n';if(namespaceURI==svgns&&!prefix){xml+="<"+nodeName+' xmlns="'+svgnsFake+'"\/>';}else{xml+="<"+nodeName+" xmlns:"+prefix+'="'+namespaceURI+'"\/>';}this._nodeXML=parseXML(xml).documentElement;}else{if(nodeType==_Node.DOCUMENT_FRAGMENT_NODE){var xml='<?xml version="1.0"?>\\n<__document__fragment><\/__document__fragment>';this._nodeXML=parseXML(xml).documentElement;}}if(nodeType!=_Node.DOCUMENT_NODE&&this._nodeXML){if(!this._nodeXML.getAttribute("__guid")){this._nodeXML.setAttribute("__guid",guid());}this._guid=this._nodeXML.getAttribute("__guid");svgweb._guidLookup["_"+this._guid]=this;}if(nodeType==_Node.ELEMENT_NODE){if(nodeName.indexOf(":")!=-1){this.localName=nodeName.match(\/^[^:]*:(.*)$\/)[1];}else{this.localName=nodeName;}}if(nodeType){this.nodeType=nodeType;}else{this.nodeType=_Node.ELEMENT_NODE;}if(nodeType==_Node.ELEMENT_NODE||nodeType==_Node.DOCUMENT_NODE||nodeType==_Node.DOCUMENT_FRAGMENT_NODE){this.prefix=prefix;this.namespaceURI=namespaceURI;this._nodeValue=null;}else{if(nodeType==_Node.TEXT_NODE){this._nodeValue=this._nodeXML.firstChild.nodeValue;this.prefix=null;this.namespaceURI=null;if(this._nodeValue===undefined){this._nodeValue=null;}}}this.ownerDocument=document;if(this._attached&&this._handler.type=="object"){this.ownerDocument=this._handler.document;}if(passThrough===undefined){passThrough=false;}this._passThrough=passThrough;if(isIE){this._createEmptyMethods();}this._childNodes=this._createChildNodes();if(nodeType==_Node.TEXT_NODE){this._nodeXML.setAttribute("__fakeTextNode",true);}if(!isIE){this._defineNodeAccessors();}else{if(isIE&&this.nodeType!=_Node.DOCUMENT_NODE){this._createHTC();}}}mixin(_Node,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11});extend(_Node,{_listeners:null,_detachedListeners:null,insertBefore:function(newChild,refChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);refChild=this._getFakeNode(refChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(refChild);if(findResults===null){throw new Error("Invalid child passed to insertBefore");}var position=findResults.position;var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);this._nodeXML.insertBefore(importedNode,refChild._nodeXML);this._processAppendedChildren(importMe[i],this,this._attached,this._passThrough);}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsInsertBefore",[refChild._guid,this._guid,position,xmlString]);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return newChild._getProxyNode();},replaceChild:function(newChild,oldChild){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(newChild.parentNode){newChild.parentNode.removeChild(newChild);}newChild=this._getFakeNode(newChild);oldChild=this._getFakeNode(oldChild);var isFragment=(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=newChild._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){newChild._reset();return newChild._getProxyNode();}var findResults=this._findChild(oldChild);if(findResults===null){throw new Error("Invalid child passed to replaceChild");}var position=findResults.position;this.removeChild(oldChild);var importMe=[];if(isFragment){for(var i=0;i<fragmentChildren.length;i++){importMe.push(fragmentChildren[i]);}}else{importMe.push(newChild);}if(!isIE){for(var i=0;i<importMe.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}var addToEnd=false;if(position>=this._nodeXML.childNodes.length){addToEnd=true;}var insertAt=position;for(var i=0;i<importMe.length;i++){var importedNode=this._importNode(importMe[i],false);if(addToEnd){this._nodeXML.appendChild(importedNode);}else{var placeBefore=this._nodeXML.childNodes[insertAt];this._nodeXML.insertBefore(importedNode,placeBefore);insertAt++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(newChild,this._handler.document._namespaces));this._handler.sendToFlash("jsAddChildAt",[this._guid,position,xmlString]);}this._processAppendedChildren(newChild,this,this._attached,this._passThrough);oldChild._setUnattached();svgweb._removedNodes.push(oldChild._getProxyNode());if(newChild.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){newChild._reset();}return oldChild._getProxyNode();},removeChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.nodeType!=_Node.ELEMENT_NODE&&child.nodeType!=_Node.TEXT_NODE){throw"Not supported";}child=this._getFakeNode(child);var findResults=this._findChild(child);if(findResults===null){throw new Error("Invalid child passed to removeChild");}var position=findResults.position;this._nodeXML.removeChild(findResults.nodeXML);if(child.nodeType==_Node.ELEMENT_NODE){var childID=child._getId();if(childID&&this._attached){this._handler.document._nodeById["_"+childID]=undefined;}}child._persistEventListeners();if(!isIE){delete this._childNodes[this._childNodes.length-1];this._childNodes.length--;}else{this._childNodes.splice(position,1);}if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveChild",[child._guid]);}child._setUnattached();svgweb._removedNodes.push(child._getProxyNode());return child._getProxyNode();},appendChild:function(child){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.DOCUMENT_FRAGMENT_NODE){throw"Not supported";}if(child.parentNode){child.parentNode.removeChild(child);}child=this._getFakeNode(child);var isFragment=(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE);var fragmentChildren;if(isFragment){fragmentChildren=child._getChildNodes(true);}if(isFragment&&fragmentChildren.length==0){child._reset();return child._getProxyNode();}if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._importNode(fragmentChildren[i]);}}else{this._importNode(child);}if(isIE){if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._childNodes.push(fragmentChildren[i]._htcNode);}}else{this._childNodes.push(child._htcNode);}}else{if(isFragment){for(var i=0;i<fragmentChildren.length;i++){this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}else{this._defineChildNodeAccessor(this._childNodes.length);this._childNodes.length++;}}if(this._attached&&this._passThrough){var xmlString=FlashHandler._encodeFlashData(xmlToStr(child,this._handler.document._namespaces));this._handler.sendToFlash("jsAppendChild",[this._guid,xmlString]);}this._processAppendedChildren(child,this,this._attached,this._passThrough);if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){child._reset();}return child._getProxyNode();},hasChildNodes:function(){return(this._getChildNodes().length>0);},isSupported:function(feature,version){if(version=="2.0"){if(feature=="Core"){return true;}else{if(feature=="Events"||feature=="UIEvents"||feature=="MouseEvents"){return true;}}}else{return false;}},hasAttributes:function(){if(this.nodeType==_Node.ELEMENT_NODE){for(var i in this._attributes){if(\/^_xmlns\/i.test(i)){continue;}if(i=="_id"&&\/^__svg__random__\/.test(this._attributes[i])){continue;}if(i=="___guid"&&\/^__guid\/.test(this._attributes[i])){continue;}if(i=="___fakeTextNode"&&\/^__fakeTextNode\/.test(this._attributes[i])){continue;}if(\/^_.*\/.test(i)&&this._attributes.hasOwnProperty(i)){return true;}}return false;}else{return false;}},addEventListener:function(type,listener,useCapture,_adding){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}if(!_adding&&!this._attached){this._detachedListeners.push({type:type,listener:listener,useCapture:useCapture});return;}if(this._listeners[type]===undefined){this._listeners[type]=[];}this._listeners[type].push({type:type,listener:listener,useCapture:useCapture});this._listeners[type]["_"+listener.toString()+":"+useCapture]=listener;if(type=="keydown"){var wrappedListener=(function(listener){return function(evt){if(!evt.preventDefault){evt.preventDefault=function(){this.returnValue=false;evt=null;};}listener(evt);};})(listener);wrappedListener.__type=type;wrappedListener.__listener=listener;wrappedListener.__useCapture=useCapture;this._handler._keyboardListeners.push(wrappedListener);this._addEvent(document,type,wrappedListener);return;}this._handler.sendToFlash("jsAddEventListener",[this._guid,type]);},removeEventListener:function(type,listener,useCapture){if(this.nodeType!=_Node.ELEMENT_NODE&&this.nodeType!=_Node.TEXT_NODE){throw"Not supported";}var pos;if(!this._attached){pos=this._findListener(this._detachedListeners,type,listener,useCapture);if(pos!==null){delete this._detachedListeners[pos];}return;}pos=this._findListener(this._listeners,type,listener,useCapture);if(pos!==null){delete this._listeners[pos];delete this._listeners[type]["_"+listener.toString()+":"+useCapture];}if(type=="keydown"){pos=this._findListener(this._keyboardListeners,type,listener,useCapture);if(pos!==null){delete this._keyboardListeners[pos];}}this._handler.sendToFlash("jsRemoveEventListener",[this._guid,type]);},getScreenCTM:function(){var msg=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},getCTM:function(){return this.getScreenCTM();},cloneNode:function(deepClone){var clone;if(this.nodeType==_Node.ELEMENT_NODE&&this.namespaceURI!=svgns){clone=new _Element(this.nodeName,this.prefix,this.namespaceURI);}else{if(this.nodeType==_Node.ELEMENT_NODE){clone=document.createElementNS(this.namespaceURI,this.nodeName);}else{if(this.nodeType==_Node.TEXT_NODE){clone=document.createTextNode(this._nodeValue,true);}else{if(this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){clone=document.createDocumentFragment(true);}else{throw"cloneNode not supported for nodeType: "+this.nodeType;}}}}clone=this._getFakeNode(clone);var attrs=this._nodeXML.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs.item(i);var m=attr.name.match(\/([^:]+):?(.*)\/);var ns=attr.namespaceURI;if(isSafari&&attr.name.indexOf("xmlns")!=-1){clone._nodeXML.setAttribute(attr.name,attr.nodeValue);}else{var attrNode;var doc=clone._nodeXML.ownerDocument;if(isIE){attrNode=doc.createNode(2,attr.name,ns);}else{attrNode=doc.createAttributeNS(ns,attr.name);}attrNode.nodeValue=attr.nodeValue;if(isIE){clone._nodeXML.setAttributeNode(attrNode);}else{clone._nodeXML.setAttributeNodeNS(attrNode);}}}clone._nodeXML.setAttribute("__guid",clone._guid);if(isIE){var copyStyle=this._htcNode.style;for(var i=0;i<copyStyle.length;i++){var styleName=copyStyle.item(i);var styleValue=copyStyle.getPropertyValue(styleName);clone._htcNode.style.length++;clone.style.length++;clone.style._ignoreStyleChanges=true;clone._htcNode.style[styleName]=styleValue;clone.style._ignoreStyleChanges=false;}}if(clone.nodeType==_Node.ELEMENT_NODE){clone._importAttributes(clone,clone._nodeXML);}if(deepClone&&(clone.nodeType==_Node.ELEMENT_NODE||clone.nodeType==_Node.DOCUMENT_FRAGMENT_NODE)){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var childClone=children[i].cloneNode(true);clone.appendChild(childClone);}}clone.ownerDocument=this.ownerDocument;return clone._getProxyNode();},toString:function(){if(this.namespaceURI==svgns){return"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]";}else{if(this.prefix){return"["+this.prefix+":"+this.localName+"]";}else{if(this.localName){return"["+this.localName+"]";}else{return"["+this.nodeName+"]";}}}},_addEvent:function(obj,type,fn){if(obj.addEventListener){obj.addEventListener(type,fn,false);}else{if(obj.attachEvent){obj["e"+type+fn]=fn;obj[type+fn]=(function(obj,type,fn){return function(){obj["e"+type+fn](window.event);};})(obj,type,fn);obj.attachEvent("on"+type,obj[type+fn]);}}},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){return this._handler.flash.parentNode;}else{if(this.nodeName=="svg"&&this._handler.type=="object"){return this._handler.document;}}var parentXML=this._nodeXML.parentNode;if(parentXML===null||parentXML.nodeType==_Node.DOCUMENT_NODE){return null;}var node=FlashHandler._getNode(parentXML,this._handler);return node;},_getFirstChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.firstChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getLastChild:function(){if(this.nodeType==_Node.TEXT_NODE){return null;}var childXML=this._nodeXML.lastChild;if(childXML===null){return null;}var node=FlashHandler._getNode(childXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getPreviousSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.previousSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var rootID=sibling.getAttribute("id").replace("_flash","");var node=svgweb.handlers[rootID].document.documentElement;return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.previousSibling;if(siblingXML===null||siblingXML.nodeType==7){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_getNextSibling:function(){if(this.nodeType==_Node.DOCUMENT_NODE||this.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){return null;}if(this.nodeName=="svg"&&this._handler.type=="script"){var sibling=this._handler.flash.nextSibling;if(sibling&&sibling.nodeType==1&&sibling.className&&sibling.className.indexOf("embedssvg")!=-1){var id=sibling.getAttribute("id").replace("_flash","");var node=this._handler.document._nodeById["_"+id];return node._getProxyNode();}else{return sibling;}}var siblingXML=this._nodeXML.nextSibling;if(siblingXML===null){return null;}var node=FlashHandler._getNode(siblingXML,this._handler);this._getFakeNode(node)._passThrough=this._passThrough;return node;},_passThrough:false,_attached:true,_fake:true,_defineNodeAccessors:function(){this.__defineGetter__("parentNode",hitch(this,this._getParentNode));this.__defineGetter__("firstChild",hitch(this,this._getFirstChild));this.__defineGetter__("lastChild",hitch(this,this._getLastChild));this.__defineGetter__("previousSibling",hitch(this,this._getPreviousSibling));this.__defineGetter__("nextSibling",hitch(this,this._getNextSibling));this.__defineGetter__("childNodes",(function(self){return function(){return self._childNodes;};})(this));if(this.nodeName=="#text"){this._childNodes.length=0;}else{var children=this._nodeXML.childNodes;this._childNodes.length=children.length;for(var i=0;i<children.length;i++){this._defineChildNodeAccessor(i);}}if(this.nodeType==_Node.TEXT_NODE){this.__defineGetter__("data",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("data",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));this.__defineGetter__("textContent",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("textContent",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));}else{this.__defineGetter__("textContent",(function(){return function(){return"";};})());}this.__defineGetter__("nodeValue",(function(self){return function(){return self._nodeValue;};})(this));this.__defineSetter__("nodeValue",(function(self){return function(newValue){return self._setNodeValue(newValue);};})(this));},_defineChildNodeAccessor:function(i){var self=this;this._childNodes.__defineGetter__(i,function(){var childXML=self._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,self._handler);node._passThrough=self._passThrough;return node;});},_getChildNodes:function(returnFakeNodes){if(!isIE){return this._childNodes;}if(returnFakeNodes===undefined){returnFakeNodes=false;}var results=createNodeList();if(this.nodeName=="#text"){return results;}if(this._nodeXML.childNodes.length==this._childNodes.length&&!returnFakeNodes){return this._childNodes;}else{for(var i=0;i<this._nodeXML.childNodes.length;i++){var childXML=this._nodeXML.childNodes[i];var node=FlashHandler._getNode(childXML,this._handler);node._fakeNode._passThrough=this._passThrough;if(returnFakeNodes){node=node._fakeNode;}results.push(node);}this._childNodes=results;return results;}},_createHTC:function(){if(!this._htcContainer){this._htcContainer=document.getElementById("__htc_container");if(!this._htcContainer){var body=document.getElementsByTagName("body")[0];var c=document.createElement("div");c.id="__htc_container";c.style.position="absolute";c.style.top="-5000px";c.style.left="-5000px";body.appendChild(c);this._htcContainer=c;}}var htcNode=document.createElement("svg:"+this.nodeName);htcNode._fakeNode=this;htcNode._handler=this._handler;this._htcContainer.appendChild(htcNode);this._htcNode=htcNode;},_setNodeValue:function(newValue){if(this.nodeType!=_Node.TEXT_NODE){return newValue;}this._nodeValue=newValue;this._nodeXML.firstChild.nodeValue=newValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(newValue);var parentGUID=this._nodeXML.parentNode.getAttribute("__guid");this._handler.sendToFlash("jsSetText",[parentGUID,this._guid,flashStr]);}return newValue;},_getFakeNode:function(node){if(!node){node=this;}if(isIE&&node._fakeNode){node=node._fakeNode;}return node;},_processAppendedChildren:function(child,parent,attached,passThrough){var current;var suspendID;if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE){current=this._getFakeNode(child._getFirstChild());if(attached&&passThrough){suspendID=this._handler._redrawManager.suspendRedraw(10000);}}else{current=child;}while(current){var currentXML=current._nodeXML;current._handler=this._handler;var id=currentXML.getAttribute("id");if(attached&&current.nodeType==_Node.ELEMENT_NODE&&id){this._handler.document._nodeById["_"+id]=current;}if(attached){if(this._handler.type=="script"){current.ownerDocument=document;}else{if(this._handler.type=="object"){current.ownerDocument=this._handler.document;}}}if(attached){for(var i=0;i<current._detachedListeners.length;i++){var addMe=current._detachedListeners[i];current.addEventListener(addMe.type,addMe.listener,addMe.useCapture,true);}current._detachedListeners=[];}var lastVisited=current;var children=current._getChildNodes();var next=(children&&children.length>0)?children[0]:null;if(next){current=next;if(isIE){current=current._fakeNode;}}while(!next&&current){if(current!=child){next=current._getNextSibling();if(next){current=next;if(isIE){current=current._fakeNode;}break;}}if(current==child){current=null;}else{current=current._getParentNode();if(current&&isIE){current=current._fakeNode;}if(current&&(current.nodeType!=1||current.nodeName.toUpperCase()=="SVG")){current=null;}}}lastVisited._attached=attached;lastVisited._passThrough=passThrough;}if(child.nodeType==_Node.DOCUMENT_FRAGMENT_NODE&&attached&&passThrough){this._handler._redrawManager.unsuspendRedraw(suspendID);}},_importNode:function(child,doAppend){if(typeof doAppend=="undefined"){doAppend=true;}var doc;if(this._attached){doc=this._handler.document._xml;}else{doc=this._nodeXML.ownerDocument;}var importedNode;if(typeof doc.importNode=="undefined"){importedNode=document._importNodeFunc(doc,child._nodeXML,true);}else{importedNode=doc.importNode(child._nodeXML,true);}if(doAppend){this._nodeXML.appendChild(importedNode);}child._importChildXML(importedNode);return importedNode;},_importChildXML:function(newXML){this._nodeXML=newXML;var children=this._getChildNodes();for(var i=0;i<children.length;i++){var currentChild=children[i];if(isIE&&currentChild._fakeNode){currentChild=currentChild._fakeNode;}currentChild._nodeXML=this._nodeXML.childNodes[i];currentChild._importChildXML(this._nodeXML.childNodes[i]);}},_findChild:function(child,ignoreTextNodes){if(ignoreTextNodes===undefined){ignoreTextNodes=false;}var results={};var elementIndex=0;for(var i=0;i<this._nodeXML.childNodes.length;i++){var currentXML=this._nodeXML.childNodes[i];if(currentXML.nodeType!=_Node.ELEMENT_NODE&&currentXML.nodeType!=_Node.TEXT_NODE){continue;}if(ignoreTextNodes&&(currentXML.getAttribute("__fakeTextNode")||currentXML.nodeType==_Node.TEXT_NODE)){continue;}if(currentXML.nodeType==_Node.ELEMENT_NODE){elementIndex++;}if(currentXML.nodeType==_Node.ELEMENT_NODE&&currentXML.getAttribute("__guid")==child._guid){results.position=(ignoreTextNodes)?elementIndex:i;results.nodeXML=currentXML;return results;}}return null;},_setUnattached:function(){var children=this._getChildNodes();for(var i=0;i<children.length;i++){var child=children[i];if(isIE){child=child._fakeNode;}child._setUnattached();}this._attached=false;this._passThrough=false;this._handler=null;},_getProxyNode:function(){if(!isIE){return this;}else{return this._htcNode;}},_createChildNodes:function(){var childNodes;if(!isIE){childNodes={};childNodes.item=function(index){if(index>=this.length){return null;}else{return this[index];}};}else{childNodes=createNodeList();}return childNodes;},_getTextContent:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return"";}},_setTextContent:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return"";}},_getData:function(){if(this.nodeType==_Node.TEXT_NODE){return this._nodeValue;}else{return undefined;}},_setData:function(newValue){if(this.nodeType==_Node.TEXT_NODE){return this._setNodeValue(newValue);}else{return undefined;}},_createEmptyMethods:function(){if(this.nodeType==_Node.TEXT_NODE){this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){return undefined;};}},_persistEventListeners:function(){for(var eventType in this._listeners){for(var i=0;i<this._listeners[eventType].length;i++){var l=this._listeners[eventType][i];this._detachedListeners.push({type:l.type,listener:l.listener,useCapture:l.useCapture});}}this._listeners=[];var children=this._getChildNodes();for(var i=0;i<children.length;i++){var c=children[i];if(c._fakeNode){c=c._fakeNode;}c._persistEventListeners();}},_findListener:function(listenerArray,type,listener,useCapture){for(var i=0;i<listenerArray.length;i++){var l=listenerArray[i];if(l.listener==listener&&l.type==type&&l.useCapture==useCapture){return i;}}return null;}});function _Element(nodeName,prefix,namespaceURI,nodeXML,handler,passThrough){if(nodeName===undefined&&namespaceURI===undefined&&nodeXML===undefined&&handler===undefined){return;}_Node.apply(this,[nodeName,_Node.ELEMENT_NODE,prefix,namespaceURI,nodeXML,handler,passThrough]);this._attributes={};this._attributes._id="";this._importAttributes(this,this._nodeXML);if(!isIE){this._defineAccessors();}if(this.namespaceURI==svgns){if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{this.style=new _Style(this);}if(isIE&&this._attached&&this._handler.type=="script"&&this.nodeName=="svg"){}else{if(isIE){this.style._ignoreStyleChanges=false;}}}}_Element.prototype=new _Node;extend(_Element,{getAttribute:function(attrName){return this.getAttributeNS(null,attrName,true);},getAttributeNS:function(ns,localName,_forceNull){var value;if(ns==null&&localName=="__guid"){return null;}if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended()){value=this._handler.sendToFlash("jsGetAttribute",[this._guid,false,false,ns,localName,true]);}else{if(!isIE){value=this._nodeXML.getAttributeNS(ns,localName);}else{if(isIE){if(!ns){value=this._nodeXML.getAttribute(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var attr=this._nodeXML.attributes.item(i);var attrName=new String(attr.name).match(\/[^:]*:?(.*)\/)[1];if(attr.namespaceURI&&attr.namespaceURI==ns&&attrName==localName){value=attr.nodeValue;break;}}}}}}if(ns=="null"&&localName=="id"&&!value){return"";}if(value===undefined||value===null||\/^[ ]*$\/.test(value)){return(_forceNull)?null:"";}return value;},removeAttribute:function(name){this.removeAttributeNS(null,name);},removeAttributeNS:function(ns,localName){if(localName=="id"&&this._attached&&this.namespaceURI==svgns){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;}var attrNode;if(!ns){attrNode=this._nodeXML.getAttributeNode(localName);}else{for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/([^:]+:)?(.*)\/);var prefix,attrName;if(current.name.indexOf(":")!=-1){prefix=m[1];attrName=m[2];}else{attrName=m[1];}if(current.namespaceURI&&current.namespaceURI==ns&&attrName==localName){attrNode=current;break;}}}if(!attrNode){console.log("No attribute node found for: "+localName+" in the namespace: "+ns);return;}this._nodeXML.removeAttributeNode(attrNode);var qName=localName;if(ns){qName=prefix+":"+localName;}this._attributes["_"+qName]=undefined;if(this._attached&&this._passThrough){this._handler.sendToFlash("jsRemoveAttribute",[this._guid,ns,localName]);}},setAttribute:function(attrName,attrValue){this.setAttributeNS(null,attrName,attrValue);},setAttributeNS:function(ns,qName,attrValue){if(attrValue===null||typeof attrValue=="undefined"){attrValue="";}var localName=qName;if(qName.indexOf(":")!=-1){localName=qName.split(":")[1];}if(this._attached&&qName=="id"){var doc=this._handler.document;var elementId=this._nodeXML.getAttribute("id");doc._nodeById["_"+elementId]=undefined;if(elementId===0||elementId){doc._nodeById["_"+attrValue]=this;}}if(isSafari&&localName=="style"&&this._nodeXML.parentNode!==null&&this._nodeXML.parentNode.nodeName=="clipPath"){var addBeforeXML=this._nodeXML.nextSibling;var origParent=this._nodeXML.parentNode;this._nodeXML.parentNode.removeChild(this._nodeXML);this._nodeXML.setAttribute("style",attrValue);if(addBeforeXML){origParent.insertBefore(this._nodeXML,addBeforeXML);}else{origParent.appendChild(this._nodeXML);}}else{if(ns&&isIE){var attrNode=this._nodeXML.ownerDocument.createNode(2,qName,ns);attrNode.nodeValue=attrValue;this._nodeXML.setAttributeNode(attrNode);}else{if(isIE){this._nodeXML.setAttribute(qName,attrValue);}else{this._nodeXML.setAttributeNS(ns,qName,attrValue);}}}this._attributes["_"+qName]=attrValue;if(this._attached&&this._passThrough){var flashStr=FlashHandler._encodeFlashData(attrValue);this._handler.sendToFlash("jsSetAttribute",[this._guid,false,ns,localName,flashStr]);}},hasAttribute:function(localName){return this.hasAttributeNS(null,localName);},hasAttributeNS:function(ns,localName){if(!ns&&!isIE){return this._nodeXML.hasAttribute(localName);}else{if(!isIE){return this._nodeXML.hasAttributeNS(ns,localName);}else{var attrNode=null;for(var i=0;i<this._nodeXML.attributes.length;i++){var current=this._nodeXML.attributes.item(i);var m=new String(current.name).match(\/(?:[^:]+:)?(.*)\/);var attrName=m[1];var currentNS=current.namespaceURI;if(currentNS==""){currentNS=null;}if(ns==currentNS&&attrName==localName){attrNode=current;break;}}return(attrNode!=null);}}},getElementsByTagNameNS:function(ns,localName){var results=createNodeList();var matches;if(ns==""){ns=null;}if(ns==svgns){ns=svgnsFake;}if(this._nodeXML.getElementsByTagNameNS){results=this._nodeXML.getElementsByTagNameNS(ns,localName);}else{var namespaces=null;if(this._attached){namespaces=this._handler.document._namespaces;}var prefix="xmlns";if(ns&&ns!="*"&&namespaces){prefix=namespaces["_"+ns];if(prefix===undefined){return createNodeList();}}var query;if(ns=="*"&&localName=="*"){query="\/\/*[ancestor::*[@__guid = '"+this._guid+"']]";}else{if(ns=="*"){query="\/\/*[namespace-uri()='*' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{if(localName=="*"){query="\/\/*[namespace-uri()='"+ns+"' and ancestor::*[@__guid = '"+this._guid+"']]";}else{query="\/\/"+localName+"[ancestor::*[@__guid = '"+this._guid+"']]| \/\/*[namespace-uri()='"+ns+"' and local-name()='"+localName+"' and ancestor::*[@__guid = '"+this._guid+"']]";}}}matches=xpath(this._nodeXML.ownerDocument,this._nodeXML,query,namespaces);if(matches!==null&&matches!==undefined&&matches.length>0){for(var i=0;i<matches.length;i++){if(matches[i]===this._nodeXML){continue;}results.push(matches[i]);}}}if(ns=="*"&&localName=="*"){var temp=[];for(var i=0;i<results.length;i++){if(results[i].nodeType==_Node.ELEMENT_NODE&&results[i].nodeName!="__text"){temp.push(results[i]);}}results=temp;}var nodes=createNodeList();for(var i=0;i<results.length;i++){var elem=FlashHandler._getNode(results[i],this._handler);elem._passThrough=true;nodes.push(elem);}return nodes;},style:null,_setClassName:function(className){},_getClassName:function(){},_setTransform:function(transform){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){if(this._attributes._id){return this._attributes._id;}else{return"";}},_setId:function(id){return this.setAttribute("id",id);},ownerSVGElement:null,_getX:function(){var value=this._trimMeasurement(this.getAttribute("x"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getY:function(){var value=this._trimMeasurement(this.getAttribute("y"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getWidth:function(){var value=this._trimMeasurement(this.getAttribute("width"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getHeight:function(){var value=this._trimMeasurement(this.getAttribute("height"));return new _SVGAnimatedLength(new _SVGLength(new Number(value)));},_getCurrentScale:function(){return this._currentScale;},_setCurrentScale:function(newScale){if(newScale!==this._currentScale){this._currentScale=newScale;this._handler.sendToFlash("jsSetCurrentScale",[newScale]);}return newScale;},_getCurrentTranslate:function(){return this._currentTranslate;},createSVGPoint:function(){return new _SVGPoint(0,0);},createSVGRect:function(){return new _SVGRect(0,0,0,0);},_trimMeasurement:function(value){if(value!==null){value=value.replace(\/[a-z]\/gi,"");}return value;},_getInnerHTML:function(){},_setInnerHTML:function(newValue){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(evt){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(target,nodeXML){for(var i=0;i<nodeXML.attributes.length;i++){var attr=nodeXML.attributes[i];this._attributes["_"+attr.nodeName]=attr.nodeValue;}},_defineAccessors:function(){var props;var self=this;if(this.nodeName=="svg"||this.nodeName=="use"){this.__defineGetter__("x",function(){return self._getX();});this.__defineGetter__("y",function(){return self._getY();});this.__defineGetter__("width",function(){return self._getWidth();});this.__defineGetter__("height",function(){return self._getHeight();});}if(this.nodeName=="svg"){this.__defineGetter__("currentTranslate",function(){return self._getCurrentTranslate();});this.__defineGetter__("currentScale",function(){return self._getCurrentScale();});this.__defineSetter__("currentScale",function(newScale){return self._setCurrentScale(newScale);});}this.__defineGetter__("id",hitch(this,this._getId));this.__defineSetter__("id",hitch(this,this._setId));},_defineAccessor:function(prop,readWrite){var self=this;var getMethod=function(){return self.getAttribute(prop);};this.__defineGetter__(prop,getMethod);if(readWrite){var setMethod=function(newValue){return self.setAttribute(prop,newValue);};this.__defineSetter__(prop,setMethod);}}});function _DocumentFragment(doc){_Node.apply(this,["#document-fragment",_Node.DOCUMENT_FRAGMENT_NODE,null,null,null,null]);this.ownerDocument=doc;}_DocumentFragment.prototype=new _Node;extend(_DocumentFragment,{_reset:function(){while(this._nodeXML.firstChild){this._nodeXML.removeChild(this._nodeXML.firstChild);}this._childNodes=this._createChildNodes();if(!isIE){this._defineNodeAccessors();}}});function _Style(element){this._element=element;this._setup();}_Style._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"];_Style._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"];extend(_Style,{_ignoreStyleChanges:true,_setup:function(){this._normalizeStyle();if(!isIE){for(var i=0;i<_Style._allStyles.length;i++){var styleName=_Style._allStyles[i];this._defineAccessor(styleName);}if(this._element.nodeName=="svg"){for(var i=0;i<_Style._allRootStyles.length;i++){var styleName=_Style._allRootStyles[i];this._defineAccessor(styleName);}}this.__defineGetter__("length",hitch(this,this._getLength));}else{var htcStyle=this._element._htcNode.style;var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){var styleName=this._toCamelCase(parsedStyle[i].styleName);var styleValue=parsedStyle[i].styleValue;htcStyle[styleName]=styleValue;}htcStyle.length=0;this.length=0;htcStyle.item=hitch(this,this.item);htcStyle.setProperty=hitch(this,this.setProperty);htcStyle.getPropertyValue=hitch(this,this.getPropertyValue);this._changeListener=hitch(this,this._onPropertyChange);this._element._htcNode.attachEvent("onpropertychange",this._changeListener);}},_defineAccessor:function(styleName){var self=this;this.__defineGetter__(styleName,function(){return self._getStyleAttribute(styleName);});this.__defineSetter__(styleName,function(styleValue){return self._setStyleAttribute(styleName,styleValue);});},_setStyleAttribute:function(styleName,styleValue){var stylePropName=this._fromCamelCase(styleName);var parsedStyle=this._fromStyleString();var foundStyle=false;for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){parsedStyle[i].styleValue=styleValue;foundStyle=true;break;}}if(!foundStyle){parsedStyle.push({styleName:stylePropName,styleValue:styleValue});}var styleString=this._toStyleString(parsedStyle);this._element._nodeXML.setAttribute("style",styleString);this._element._attributes._style=styleString;if(isIE){var htcStyle=this._element._htcNode.style;if(!foundStyle){htcStyle.length++;this.length++;}this._ignoreStyleChanges=true;htcStyle[styleName]=styleValue;this._ignoreStyleChanges=false;}if(this._element._attached&&this._element._passThrough){var flashStr=FlashHandler._encodeFlashData(styleValue);this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,true,null,stylePropName,flashStr]);}},_getStyleAttribute:function(styleName){var stylePropName=this._fromCamelCase(styleName);if(this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended()){var value=this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,true,false,null,stylePropName,false]);return value;}else{var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){if(parsedStyle[i].styleName===stylePropName){return parsedStyle[i].styleValue;}}return null;}},_fromStyleString:function(){var styleValue=this._element._nodeXML.getAttribute("style");if(styleValue===null||styleValue===undefined){return[];}var baseStyles;if(styleValue.indexOf(";")==-1){baseStyles=[styleValue];}else{baseStyles=styleValue.split(\/\\s*;\\s*\/);if(!baseStyles[baseStyles.length-1]){baseStyles=baseStyles.slice(0,baseStyles.length-1);}}var results=[];for(var i=0;i<baseStyles.length;i++){var style=baseStyles[i];var styleSet=style.split(":");if(styleSet.length==2){var attrName=styleSet[0];var attrValue=styleSet[1];attrName=attrName.replace(\/^\\s+\/,"");attrValue=attrValue.replace(\/^\\s+\/,"");var entry={styleName:attrName,styleValue:attrValue};results.push(entry);}}return results;},_toStyleString:function(parsedStyle){var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": ";results+=parsedStyle[i].styleValue+";";if(i!=(parsedStyle.length-1)){results+=" ";}}return results;},_fromCamelCase:function(styleName){return styleName.replace(\/([A-Z])\/g,"-$1").toLowerCase();},_toCamelCase:function(stylePropName){if(stylePropName.indexOf("-")==-1){return stylePropName;}var results="";var sections=stylePropName.split("-");results+=sections[0];for(var i=1;i<sections.length;i++){results+=sections[i].charAt(0).toUpperCase()+sections[i].substring(1);}return results;},setProperty:function(stylePropName,styleValue,priority){var styleName=this._toCamelCase(stylePropName);this._setStyleAttribute(styleName,styleValue);return styleValue;},getPropertyValue:function(stylePropName){var styleName=this._toCamelCase(stylePropName);return this._getStyleAttribute(styleName);},item:function(index){var parsedStyle=this._fromStyleString();return parsedStyle[index].styleName;},_getLength:function(){var parsedStyle=this._fromStyleString();return parsedStyle.length;},_normalizeStyle:function(){if(!this._element._nodeXML.getAttribute("style")){return;}if(!\/[A-Z]\/.test(this._element._nodeXML.getAttribute("style"))){return;}var parsedStyle=this._fromStyleString();for(var i=0;i<parsedStyle.length;i++){parsedStyle[i].styleName=parsedStyle[i].styleName.toLowerCase();if(parsedStyle[i].styleValue.indexOf("url(")==-1){parsedStyle[i].styleValue=parsedStyle[i].styleValue.toLowerCase();}}var results="";for(var i=0;i<parsedStyle.length;i++){results+=parsedStyle[i].styleName+": "+parsedStyle[i].styleValue+"; ";}if(results.charAt(results.length-1)==" "){results=results.substring(0,results.length-1);}var origPassThrough=this._element._passThrough;this._element._passThrough=false;this._element.setAttribute("style",results);this._element._passThrough=origPassThrough;},_onPropertyChange:function(){if(this._ignoreStyleChanges){return;}var prop=window.event.propertyName;if(prop&&\/^style\\.\/.test(prop)&&prop!="style.length"){var styleName=prop.match(\/^style\\.(.*)$\/)[1];var styleValue=this._element._htcNode.style[styleName];this._setStyleAttribute(styleName,styleValue);}}});function _SVGObject(svgNode,handler){this._handler=handler;this._svgNode=svgNode;this._scriptsToExec=[];this._htcLoaded=false;this._swfLoaded=false;for(var i=0;this._svgNode._onloadListeners&&i<this._svgNode._onloadListeners.length;i++){var wrappedListener=(function(handler,listener){return function(){listener.apply(handler.flash);};})(this._handler,this._svgNode._onloadListeners[i]);svgweb.addOnLoad(wrappedListener);}if(isIE){this._loadHTC();}this.url=this._svgNode.getAttribute("src");if(!this.url){this.url=this._svgNode.getAttribute("data");}var successFunc=hitch(this,function(svgStr){this._handler._origSVG=svgStr;var results=svgweb._cleanSVG(svgStr,true,false);this._svgString=results.svg;this._xml=results.xml;this.document=new _Document(this._xml,this._handler);this._handler.document=this.document;var nodeXML=this._xml.documentElement;this._savedParams=this._getPARAMs(this._svgNode);this._handler._inserter=new FlashInserter("object",this._xml.documentElement,this._svgNode,this._handler);});if(this.url.substring(0,5)=="data:"){successFunc(this.url.substring(this.url.indexOf(",")+1));}else{this._fetchURL(this.url,successFunc,hitch(this,this._fallback));}}extend(_SVGObject,{_scriptsToExec:null,_utf8encode:function(string){string=string.replace(\/\\r\\n\/g,"\\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=escape(String.fromCharCode((c>>6)|192));utftext+=escape(String.fromCharCode((c&63)|128));}else{utftext+=escape(String.fromCharCode((c>>12)|224));utftext+=escape(String.fromCharCode(((c>>6)&63)|128));utftext+=escape(String.fromCharCode((c&63)|128));}}}return utftext;},_fetchURL:function(url,onSuccess,onFailure){var req=xhrObj();if(isIE){url=this._utf8encode(url);url+=(url.indexOf("?")==-1)?"?":"&";url+=new Date().getTime();}req.onreadystatechange=function(){if(req.readyState==4){if(req.status==200){onSuccess(req.responseText);}else{onFailure(req.status+": "+req.statusText);}req=null;}};req.open("GET",url,true);req.send(null);},_fallback:function(error){console.log("onError (fallback), error="+error);},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load");this._dummyNode._handler=this._handler;this._readyStateListener=hitch(this,this._onHTCLoaded);this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener);var head=document.getElementsByTagName("head")[0];head.appendChild(this._dummyNode);},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);if(this._savedParams.length){for(var i=0;i<this._savedParams.length;i++){var param=this._savedParams[i];this._handler.flash.appendChild(param);param=null;}this._savedParams=null;}this._handler.flash.top=this._handler.flash.parent=window;this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onHTCLoaded:function(){var head=document.getElementsByTagName("head")[0];head.removeChild(this._dummyNode);this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener);this._dummyNode=null;head=null;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,false,this._svgString]);},_onRenderingFinished:function(msg){this._handler.flash.style.visibility="visible";var rootXML=this._xml.documentElement;var rootID=rootXML.getAttribute("id");var root=new _SVGSVGElement(rootXML,null,null,this._handler);var doc=this._handler.document;doc.documentElement=root._getProxyNode();doc.rootElement=root._getProxyNode();doc._nodeById["_"+rootID]=root;if(isIE){this._handler.flash.setAttribute("contentDocument",null);}this._handler.flash.contentDocument=doc;this._handler.window=new _SVGWindow(this._handler);doc.defaultView=this._handler.window;var onload=root.getAttribute("onload");if(onload){var defineEvtCode='var evt = { target: document.getElementById("'+root.getAttribute("id")+'") ,currentTarget: document.getElementById("'+root.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};';onload="(function(){"+defineEvtCode+onload+"}).apply(document.documentElement);";this._scriptsToExec.push(onload);}var finalScript="";for(var i=0;i<this._scriptsToExec.length;i++){finalScript+=this._scriptsToExec[i]+"\\n";}this._executeScript(finalScript);this._handler._loaded=true;this._handler.fireOnLoad(this._handler.id,"object");},_getRelativeTo:function(toWhat){var results="";if(toWhat=="object"){var pathname=this.url.replace(\/[^:]*:\\\/\\\/[^\\\/]*\/).match(\/\\\/?[^\\?\\#]*\/)[0];if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}else{var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}}return results;},_executeScript:function(script){var iframe=document.createElement("iframe");iframe.setAttribute("src","about:blank");iframe.style.position="absolute";iframe.style.top="-1000px";iframe.style.left="-1000px";var body=document.getElementsByTagName("body")[0];body.appendChild(iframe);var iframeDoc=(iframe.contentDocument)?iframe.contentDocument:iframe.contentWindow.document;var iframeWin=iframe.contentWindow;this._handler.document.defaultView=iframeWin;script=this._sandboxedScript(script);script=script+";__svgHandler.sandbox_eval = "+(isIE?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };");iframeDoc.write("<script>"+script+"<\\\/script>");iframeDoc.close();this._handler.window._fireOnload();},_sandboxedScript:function(script){var addToTop='var __svgHandler = top.svgweb.handlers["'+this._handler.id+'"];\\nwindow.svgns = "'+svgns+'";\\nwindow.xlinkns = "'+xlinkns+'";\\n';var timeoutOverride="window._timeoutIDs = [];\\nwindow._setTimeout = window.setTimeout;\\nwindow.setTimeout = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setTimeout(f, ms);\\n            window._timeoutIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";var intervalOverride="window._intervalIDs = [];\\nwindow._setInterval = window.setInterval;\\nwindow.setInterval = \\n       (function() {\\n          return function(f, ms) {\\n            var timeID = window._setInterval(f, ms);\\n            window._intervalIDs.push(timeID);\\n            return timeID;\\n          };\\n        })();\\n";script=addToTop+timeoutOverride+intervalOverride+"\\n\\n"+script;script=script.replace(\/top\\.document\/g,"top.DOCUMENT");script=script.replace(\/top\\.window\/g,"top.WINDOW");script=script.replace(\/(^|[^A-Za-z0-9_])document(\\.|'|"|\\,| |\\))\/g,"$1__svgHandler.document$2");script=script.replace(\/window\\.(location|addEventListener|onload|frameElement)\/g,"__svgHandler.window.$1");script=script.replace(\/top\\.DOCUMENT\/g,"top.document");script=script.replace(\/top\\.WINDOW\/g,"top.window");return script;},_getPARAMs:function(svgNode){var params=[];for(var i=0;i<svgNode.childNodes.length;i++){var child=svgNode.childNodes[i];if(child.nodeName.toUpperCase()=="PARAM"){params.push(child.cloneNode(false));}}return params;}});function _SVGWindow(handler){this._handler=handler;this.fake=true;this.frameElement=this._handler.flash;this.location=this._createLocation();this.alert=window.alert;this.top=this.parent=window;this._onloadListeners=[];}extend(_SVGWindow,{addEventListener:function(type,listener,capture){if(type.toLowerCase()=="SVGLoad"){this._onloadListeners.push(listener);}},_fireOnload:function(){for(var i=0;i<this._onloadListeners.length;i++){try{this._onloadListeners[i]();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}if(this.onload){try{this.onload();}catch(exp){console.log("The following exception occurred from an SVG onload listener: "+(exp.message||exp));}}},_createLocation:function(fakeLocation){var loc={};var url=this._handler._svgObject.url;var windowLocation;if(fakeLocation){windowLocation=fakeLocation;}else{windowLocation=window.location;}if(\/^data:\/.test(url)){loc.href=url;loc.toString=function(){return this.href;};return loc;}if(\/^http\/.test(url)){}else{if(url.charAt(0)=="\/"){url=windowLocation.protocol+"\/\/"+windowLocation.host+url;}else{if(windowLocation.pathname.indexOf("\/")==-1){url=windowLocation.protocol+"\/\/"+windowLocation.host+"\/"+url;}else{var relativeTo=windowLocation.pathname;for(var i=relativeTo.length-1;i>=0;i--){if(relativeTo.charAt(i)=="\/"){break;}relativeTo=relativeTo.substring(0,i);}url=windowLocation.protocol+"\/\/"+windowLocation.host+relativeTo+url;}}}var results=url.match(\/^(https?:)\\\/\\\/([^\\\/:]*):?([0-9]*)([^\\?#]*)([^#]*)(#.*)?$\/);loc.protocol=(results[1])?results[1]:windowLocation.href;if(loc.protocol.charAt(loc.protocol.length-1)!=":"){loc.protocol+=":";}loc.hostname=results[2];loc.port="";if(results[3]){loc.port=results[3];}var sameDomain=true;if(loc.protocol!=windowLocation.protocol||loc.hostname!=windowLocation.hostname||(loc.port&&loc.port!=windowLocation.port)){sameDomain=false;}if(sameDomain&&!loc.port){loc.port=windowLocation.port;}if(loc.port){loc.host=loc.hostname+":"+loc.port;}else{loc.host=loc.hostname;}loc.pathname=(results[4])?results[4]:"";loc.search=(results[5])?results[5]:"";loc.hash=(results[6])?results[6]:"";loc.href=loc.protocol+"\/\/"+loc.host+loc.pathname+loc.search+loc.hash;loc.toString=function(){return this.protocol+"\/\/"+this.host+this.pathname+this.search+this.hash;};return loc;}});function FlashInserter(embedType,nodeXML,replaceMe,handler){this._embedType=embedType;this._nodeXML=nodeXML;this._replaceMe=replaceMe;this._handler=handler;this._parentNode=replaceMe.parentNode;if(this._embedType=="object"){this._explicitWidth=this._replaceMe.getAttribute("width");this._explicitHeight=this._replaceMe.getAttribute("height");}this._setupFlash();}extend(FlashInserter,{_setupFlash:function(){var size=this._determineSize();var background=this._determineBackground();var style=this._determineStyle();var className=this._determineClassName();var customAttrs=this._determineCustomAttrs();var elementID;if(this._embedType=="script"){elementID=this._nodeXML.getAttribute("id");this._handler.flashID=elementID+"_flash";}else{if(this._embedType=="object"){elementID=this._replaceMe.getAttribute("id");this._handler.flashID=elementID;}}var flash=this._createFlash(size,elementID,background,style,className,customAttrs);this._insertFlash(flash);},_insertFlash:function(flash){if(!isIE){var flashObj;if(!isXHTML){var div=document.createElement("div");div.innerHTML=flash;flashObj=div.childNodes[0];div.removeChild(flashObj);for(var i=0;i<flashObj.childNodes.length;i++){var check=flashObj.childNodes[i];if(check.nodeName.toUpperCase()=="EMBED"){flashObj=check;break;}}}else{if(isXHTML){flashObj=flash;}}this._replaceMe.parentNode.replaceChild(flashObj,this._replaceMe);return flashObj;}else{var self=this;window.setTimeout(function(){self._replaceMe.outerHTML=flash;self=null;},1);}},_determineSize:function(){var parentWidth=this._parentNode.clientWidth;var parentHeight=this._parentNode.clientHeight;if(parentHeight==0){this.invalidParentHeight=true;}if(parentWidth==0){parentWidth=this._parentNode.offsetWidth;}if(!isSafari){parentWidth-=this._getMargin(this._parentNode,"margin-left");parentWidth-=this._getMargin(this._parentNode,"margin-right");parentHeight-=this._getMargin(this._parentNode,"margin-top");parentHeight-=this._getMargin(this._parentNode,"margin-bottom");}if(isStandardsMode){return this._getStandardsSize(parentWidth,parentHeight);}else{return this._getQuirksSize(parentWidth,parentHeight);}},_getQuirksSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;if(this._embedType=="script"){var grandParent=this._parentNode;while(grandParent&&grandParent.style){if(grandParent.nodeName.toLowerCase()=="div"){break;}if(grandParent.nodeName.toLowerCase()=="body"){if(this._nodeXML.getAttribute("style")&&this._nodeXML.getAttribute("style").indexOf("fixed")!=-1){if(window.innerHeight&&window.innerHeight>0){parentHeight=window.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0){parentHeight=document.documentElement.clientHeight;}else{parentHeight=document.body.clientHeight;}}this.invalidParentHeight=false;}else{this.invalidParentHeight=true;parentHeight=0;}break;}grandParent=grandParent.parentNode;}}var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")!=-1){if(parentHeight>0){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{console.log("SVGWeb: unhandled resize scenario.");parentHeight=200;}}else{pixelsHeight=objHeight;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}var viewBox,boxWidth,boxHeight;if(objWidth){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=pixelsWidth*(xmlHeight\/xmlWidth);}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;}else{objHeight=150;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}if(objHeight){if(objHeight.indexOf("%")!=-1){pixelsHeight=parentHeight*parseInt(objHeight)\/100;}else{pixelsHeight=objHeight;}if(this._nodeXML.getAttribute("viewBox")){if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);}else{viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);}return{width:objWidth,height:objHeight,pixelsWidth:objWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=pixelsHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(xmlHeight&&xmlHeight.indexOf("%")==-1){objHeight=xmlHeight;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(this._nodeXML.getAttribute("viewBox")){if(this._embedType=="script"&&(xmlHeight==null||xmlHeight.indexOf("%")!=-1)&&!this.invalidParentHeight){if(xmlHeight==null){xmlHeight="100%";}if(objHeight==null){objHeight="100%";}pixelsHeight=parentHeight*parseInt(xmlHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}var viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);var boxWidth=viewBox[2];var boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{objHeight=150;return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"both"};}}},_getStandardsSize:function(parentWidth,parentHeight){var pixelsWidth,pixelsHeight;var objWidth=this._explicitWidth;var objHeight=this._explicitHeight;var xmlWidth=this._nodeXML.getAttribute("width");if(xmlWidth&&xmlWidth.indexOf("%")==-1){xmlWidth=parseInt(xmlWidth).toString();}var xmlHeight=this._nodeXML.getAttribute("height");if(xmlHeight&&xmlHeight.indexOf("%")==-1){xmlHeight=parseInt(xmlHeight).toString();}if(objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&!objHeight){return this._getQuirksSize(parentWidth,parentHeight);}if(!objWidth&&objHeight){if(xmlWidth){objWidth=xmlWidth;}else{objWidth="100%";}if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){pixelsHeight=objHeight;if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){objWidth=objHeight*(xmlWidth\/xmlHeight);pixelsWidth=objWidth;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objWidth=pixelsHeight*(boxWidth\/boxHeight);pixelsWidth=objWidth;}}return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];pixelsHeight=pixelsWidth*(boxHeight\/boxWidth);}else{pixelsHeight=150;}}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}}if(objWidth&&objHeight){if(objWidth.indexOf("%")!=-1){pixelsWidth=parentWidth*parseInt(objWidth)\/100;}else{pixelsWidth=objWidth;}if(objHeight.indexOf("%")==-1){return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"};}else{if(xmlWidth&&xmlWidth.indexOf("%")==-1&&xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=pixelsWidth*(xmlHeight\/xmlWidth);return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(!this.invalidParentHeight){pixelsHeight=parentHeight*parseInt(objHeight)\/100;return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"neither"};}else{if(this._nodeXML.getAttribute("viewBox")){viewBox=this._nodeXML.getAttribute("viewBox").split(\/\\s+|,\/);boxWidth=viewBox[2];boxHeight=viewBox[3];objHeight=pixelsWidth*(boxHeight\/boxWidth);return{width:objWidth,height:objHeight,pixelsWidth:pixelsWidth,pixelsHeight:objHeight,clipMode:"neither"};}else{if(xmlHeight&&xmlHeight.indexOf("%")==-1){pixelsHeight=xmlHeight;}else{pixelsHeight=150;}return{width:objWidth,height:pixelsHeight,pixelsWidth:pixelsWidth,pixelsHeight:pixelsHeight,clipMode:"both"};}}}}}},_getMargin:function(node,styleProp){var y;if(node.currentStyle){y=parseInt(node.currentStyle[styleProp]);}else{if(window.getComputedStyle){y=parseInt(document.defaultView.getComputedStyle(node,null).getPropertyValue(styleProp));}}if(y){return y;}else{return 0;}},_determineBackground:function(){var transparent=false;var color=null;var style=this._nodeXML.getAttribute("style");if(style&&style.indexOf("background-color")!=-1){var m=style.match(\/background\\-color:\\s*([^;]*)\/);if(m){color=m[1];}}if(color===null){transparent=true;}return{color:color,transparent:transparent};},_determineStyle:function(){var style=this._nodeXML.getAttribute("style");if(!style){style="";}if(style.length>0&&style.charAt(style.length-1)!=";"){style+=";";}if(this._embedType=="script"&&style.indexOf("display:")==-1){style+="display: inline;";}if(this._embedType=="script"&&style.indexOf("overflow:")==-1){style+="overflow: hidden;";}return style;},_determineClassName:function(){var className=this._nodeXML.getAttribute("class");if(!className){return"embedssvg";}else{return className+" embedssvg";}},_determineCustomAttrs:function(){var results=[];if(this._embedType=="object"){var node=this._replaceMe;var commonObj=document._createElement("object");for(var j=0;j<node.attributes.length;j++){var attr=node.attributes[j];var attrName=attr.nodeName;var attrValue=attr.nodeValue;if(!attrValue&&attrValue!=="true"){continue;}if(commonObj.getAttribute(attrName)){continue;}if(\/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$\/.test(attrName)){continue;}results.push({attrName:attrName.toString(),attrValue:attrValue.toString()});}}return results;},_createFlash:function(size,elementID,background,style,className,customAttrs){var flashVars="uniqueId="+encodeURIComponent(elementID)+"&sourceType=string&clipMode="+size.clipMode+"&debug=true&svgId="+encodeURIComponent(elementID);var src;if(this._isXDomain){src=svgweb.xDomainURL+"svg.swf";}else{src=svgweb.libraryPath+"svg.swf";}var protocol=window.location.protocol;if(protocol.charAt(protocol.length-1)==":"){protocol=protocol.substring(0,protocol.length-1);}var flash;if(isXHTML){flash=document.createElement("embed");flash.setAttribute("src",src);flash.setAttribute("quality","high");if(background.color){flash.setAttribute("bgcolor",background.color);}if(background.transparent){flash.setAttribute("wmode","transparent");}flash.setAttribute("width",size.width);flash.setAttribute("height",size.height);flash.setAttribute("id",this._handler.flashID);flash.setAttribute("name",this._handler.flashID);flash.setAttribute("swLiveConnect","true");flash.setAttribute("allowScriptAccess","always");flash.setAttribute("type","application\/x-shockwave-flash");flash.setAttribute("FlashVars",flashVars);flash.setAttribute("pluginspage",protocol+":\/\/www.macromedia.com\/go\/getflashplayer");flash.setAttribute("style",style);flash.setAttribute("className",className);for(var i=0;i<customAttrs.length;i++){flash.setAttribute(customAttrs[i].attrName,customAttrs[i].attrValue);}}else{var customAttrStr="";for(var i=0;i<customAttrs.length;i++){customAttrStr+=" "+customAttrs[i].attrName+'="'+customAttrs[i].attrValue+'"';}flash='<object\\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\\n codebase="'+protocol+':\/\/fpdownload.macromedia.com\/pub\/shockwave\/cabs\/flash\/swflash.cab#version=9,0,0,0"\\n width="'+size.width+'"\\n height="'+size.height+'"\\n id="'+this._handler.flashID+'"\\n name="'+this._handler.flashID+'"\\n style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+'\\n>\\n <param name="allowScriptAccess" value="always"><\/param>\\n <param name="movie" value="'+src+'"><\/param>\\n <param name="quality" value="high"><\/param>\\n <param name="FlashVars" value="'+flashVars+'"><\/param>\\n '+(background.color?'<param name="bgcolor" value="'+background.color+'"><\/param>\\n ':"")+(background.transparent?'<param name="wmode" value="transparent"><\/param>\\n ':"")+'<embed src="'+src+'" quality="high" '+(background.color?'bgcolor="'+background.color+'" \\n':"")+(background.transparent?'wmode="transparent" \\n':"")+'width="'+size.width+'" height="'+size.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application\/x-shockwave-flash" FlashVars="'+flashVars+'" pluginspage="'+protocol+':\/\/www.macromedia.com\/go\/getflashplayer" style="'+style+'"\\n class="'+className+'"\\n '+customAttrStr+"\\n \/><\/object>";}return flash;}});function _SVGSVGElement(nodeXML,svgString,scriptNode,handler){_Element.apply(this,["svg",null,svgns,nodeXML,handler,true]);this._nodeXML=nodeXML;this._svgString=svgString;this._scriptNode=scriptNode;this._htcLoaded=false;this._swfLoaded=false;if(this._handler.type=="script"){var rootID=this._nodeXML.getAttribute("id");var doc=this._handler.document;doc._nodeById["_"+rootID]=this;}this._currentScale=1;this._currentTranslate=this._createCurrentTranslate();if(isIE&&this._handler.type=="script"){this._addRedrawMethods();this.style=new _Style(this);this._readyStateListener=hitch(this,this._onHTCLoaded);this._htcNode.attachEvent("onreadystatechange",this._readyStateListener);}else{if(isIE&&this._handler.type=="object"){this._addRedrawMethods();}}if(this._handler.type=="script"){this._handler._inserter=new FlashInserter("script",this._nodeXML,this._scriptNode,this._handler);}}_SVGSVGElement.prototype=new _Element;extend(_SVGSVGElement,{suspendRedraw:function(ms){return this._handler._redrawManager.suspendRedraw(ms);},unsuspendRedraw:function(id){this._handler._redrawManager.unsuspendRedraw(id);},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll();},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getBBox:function(){},getTransformToElement:function(element){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener);this.style._ignoreStyleChanges=false;this._htcLoaded=true;if(this._swfLoaded){this._onEverythingLoaded();}},_onFlashLoaded:function(msg){this._handler.flash=document.getElementById(this._handler.flashID);this._swfLoaded=true;if(!isIE||this._htcLoaded){this._onEverythingLoaded();}},_onEverythingLoaded:function(){var size=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),size.pixelsWidth,size.pixelsHeight,true,this._svgString]);},_onRenderingFinished:function(msg){if(this._handler.type=="script"){this._handler.flash.documentElement=this._getProxyNode();}if(this._attached){if(this._handler.type=="script"){this.ownerDocument=document;}else{if(this._handler.type=="object"){this.ownerDocument=this._handler.document;}}}this._handler.document.rootElement=this._getProxyNode();var elementId=this._nodeXML.getAttribute("id");this._handler._loaded=true;this._handler.fireOnLoad(elementId,"script");},_getRelativeTo:function(){var results="";var pathname=window.location.pathname.toString();if(pathname&&pathname.length>0&&pathname.indexOf("\/")!=-1){results=pathname.replace(\/\\\/([^\\\/]*)$\/,"\/");}return results;},_addRedrawMethods:function(){this._htcNode.suspendRedraw=(function(){return function(ms){return this._fakeNode.suspendRedraw(ms);};})();this._htcNode.unsuspendRedraw=(function(){return function(id){return this._fakeNode.unsuspendRedraw(id);};})();this._htcNode.unsuspendRedrawAll=(function(){return function(){return this._fakeNode.unsuspendRedrawAll();};})();this._htcNode.forceRedraw=(function(){return function(){return this._fakeNode.forceRedraw();};})();},_createCurrentTranslate:function(){var p=new _SVGPoint(0,0,true,hitch(this,this._updateCurrentTranslate));return p;},_updateCurrentTranslate:function(type,newValue1,newValue2){if(type=="xy"){this._handler.sendToFlash("jsSetCurrentTranslate",["xy",newValue1,newValue2]);}else{this._handler.sendToFlash("jsSetCurrentTranslate",[type,newValue1]);}}});function _Document(xml,handler){_Node.apply(this,["#document",_Node.DOCUMENT_NODE,null,null,xml,handler],svgns);this._xml=xml;this._handler=handler;this._nodeById={};this._namespaces=this._getNamespaces();this.implementation=new _DOMImplementation();if(this._handler.type=="script"){this.defaultView=window;}else{if(this._handler.type=="object"){}}}_Document.prototype=new _Node;extend(_Document,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(ns,qname){var prefix=this._namespaces["_"+ns];if(prefix=="xmlns"||!prefix){prefix=null;}var node=new _Element(qname,prefix,ns);return node._getProxyNode();},createTextNode:function(data){var doc=FlashHandler._unattachedDoc;var nodeXML;if(isIE){nodeXML=doc.createElement("__text");}else{nodeXML=doc.createElementNS(svgnsFake,"__text");}nodeXML.appendChild(doc.createTextNode(data));var textNode=new _Node("#text",_Node.TEXT_NODE,null,null,nodeXML,this._handler);textNode._nodeValue=data;textNode.ownerDocument=this;return textNode._getProxyNode();},createDocumentFragment:function(forSVG){return new _DocumentFragment(this)._getProxyNode();},getElementById:function(id){var results=xpath(this._xml,null,'\/\/*[@id="'+id+'"]');var nodeXML,node;if(results.length){nodeXML=results[0];}else{return null;}node=FlashHandler._getNode(nodeXML,this._handler);node._passThrough=true;return node;},getElementsByTagNameNS:function(ns,localName){if(this._handler.type=="script"&&!this._handler._loaded){return[];}var results=this.rootElement.getElementsByTagNameNS(ns,localName);if(ns==svgns&&localName=="svg"){results.push(this.rootElement);}return results;},_getNamespaces:function(){var results=[];var attrs=this._xml.documentElement.attributes;for(var i=0;i<attrs.length;i++){var attr=attrs[i];if(\/^xmlns:?(.*)$\/.test(attr.nodeName)){var m=attr.nodeName.match(\/^xmlns:?(.*)$\/);var prefix=(m[1]?m[1]:"xmlns");var namespaceURI=attr.nodeValue;if(!results["_"+prefix]){results["_"+prefix]=namespaceURI;results["_"+namespaceURI]=prefix;results.push(namespaceURI);}}}return results;}});function createNodeList(){var results=[];results.item=function(i){if(i>=this.length){return null;}else{return this[i];}};return results;}function createCharacterData(data){var results=(data!==undefined)?new String(data):new String();results.data=results.toString();return results;}function _SVGMatrix(a,b,c,d,e,f,_handler){this.a=a;this.b=b;this.c=c;this.d=d;this.e=e;this.f=f;this._handler=_handler;}extend(_SVGMatrix,{multiply:function(secondMatrix){},inverse:function(){var msg=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);msg=this._handler._stringToMsg(msg);return new _SVGMatrix(new Number(msg.a),new Number(msg.b),new Number(msg.c),new Number(msg.d),new Number(msg.e),new Number(msg.f),this._handler);},translate:function(x,y){},scale:function(scaleFactor){},scaleNonUniform:function(scaleFactorX,scaleFactorY){},rotate:function(angle){},rotateFromVector:function(x,y){},flipX:function(){},flipY:function(){},skewX:function(angle){},skewY:function(angle){}});function _SVGLength(value){this.value=value;}function _SVGAnimatedLength(value){this.baseVal=value;this.animVal=undefined;}function _SVGTransform(type,matrix,angle){this.type=type;this.matrix=matrix;this.angle=angle;}mixin(_SVGTransform,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6});extend(_SVGTransform,{type:null,matrix:null,angle:null,setMatrix:function(matrix){},setTranslate:function(tx,ty){},setScale:function(sx,sy){},setRotate:function(angle,cx,cy){},setSkewX:function(angle){},setSkewY:function(angle){}});function _SVGPoint(x,y,formalAccessors,callback){if(formalAccessors===undefined){formalAccessors=false;}this._formalAccessors=formalAccessors;this.x=x;this.y=y;if(formalAccessors){this.setX=hitch(this,function(newValue){this.x=newValue;callback("x",newValue);});this.getX=hitch(this,function(){return this.x;});this.setY=hitch(this,function(newValue){this.y=newValue;callback("y",newValue);});this.getY=hitch(this,function(){return this.y;});this.setXY=hitch(this,function(newX,newY){this.x=newX;this.y=newY;callback("xy",newX,newY);});}}extend(_SVGPoint,{matrixTransform:function(m){return new _SVGPoint(m.a*this.x+m.c*this.y+m.e,m.b*this.x+m.d*this.y+m.f,this._formalAccessors);}});function _SVGRect(x,y,width,height){this.x=x;this.y=y;this.width=width;this.height=height;}window.svgweb=new SVGWeb();})();/;"	f
